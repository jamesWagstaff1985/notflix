!function ut(ln,at,Vt){function Pe(J,S){if(!at[J]){if(!ln[J]){var r="function"==typeof require&&require;if(!S&&r)return r(J,!0);if(Ie)return Ie(J,!0);var n=new Error("Cannot find module '"+J+"'");throw n.code="MODULE_NOT_FOUND",n}var d=at[J]={exports:{}};ln[J][0].call(d.exports,function(c){return Pe(ln[J][1][c]||c)},d,d.exports,ut,ln,at,Vt)}return at[J].exports}for(var Ie="function"==typeof require&&require,D=0;D<Vt.length;D++)Pe(Vt[D]);return Pe}({1:[function(ut,ln,at){},{}],2:[function(ut,ln,at){(function(Vt){var D,Pe=typeof Vt<"u"?Vt:typeof window<"u"?window:{},Ie=ut(1);typeof document<"u"?D=document:(D=Pe["__GLOBAL_DOCUMENT_CACHE@4"])||(D=Pe["__GLOBAL_DOCUMENT_CACHE@4"]=Ie),ln.exports=D}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{1:1}],3:[function(ut,ln,at){(function(Vt){var Pe;Pe=typeof window<"u"?window:typeof Vt<"u"?Vt:typeof self<"u"?self:{},ln.exports=Pe}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],4:[function(ut,ln,at){!function(Vt){var Pe=setTimeout;function Ie(){}function J(o){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof o)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],i(o,this)}function S(o,y){for(;3===o._state;)o=o._value;0!==o._state?(o._handled=!0,J._immediateFn(function(){var e=1===o._state?y.onFulfilled:y.onRejected;if(null!==e){var t;try{t=e(o._value)}catch(l){return void n(y.promise,l)}r(y.promise,t)}else(1===o._state?r:n)(y.promise,o._value)})):o._deferreds.push(y)}function r(o,y){try{if(y===o)throw new TypeError("A promise cannot be resolved with itself.");if(y&&("object"==typeof y||"function"==typeof y)){var e=y.then;if(y instanceof J)return o._state=3,o._value=y,void d(o);if("function"==typeof e)return void i(function D(o,y){return function(){o.apply(y,arguments)}}(e,y),o)}o._state=1,o._value=y,d(o)}catch(t){n(o,t)}}function n(o,y){o._state=2,o._value=y,d(o)}function d(o){2===o._state&&0===o._deferreds.length&&J._immediateFn(function(){o._handled||J._unhandledRejectionFn(o._value)});for(var y=0,e=o._deferreds.length;y<e;y++)S(o,o._deferreds[y]);o._deferreds=null}function c(o,y,e){this.onFulfilled="function"==typeof o?o:null,this.onRejected="function"==typeof y?y:null,this.promise=e}function i(o,y){var e=!1;try{o(function(t){e||(e=!0,r(y,t))},function(t){e||(e=!0,n(y,t))})}catch(t){if(e)return;e=!0,n(y,t)}}J.prototype.catch=function(o){return this.then(null,o)},J.prototype.then=function(o,y){var e=new this.constructor(Ie);return S(this,new c(o,y,e)),e},J.all=function(o){var y=Array.prototype.slice.call(o);return new J(function(e,t){if(0===y.length)return e([]);var l=y.length;function T(E,b){try{if(b&&("object"==typeof b||"function"==typeof b)){var x=b.then;if("function"==typeof x)return void x.call(b,function(A){T(E,A)},t)}y[E]=b,0==--l&&e(y)}catch(A){t(A)}}for(var p=0;p<y.length;p++)T(p,y[p])})},J.resolve=function(o){return o&&"object"==typeof o&&o.constructor===J?o:new J(function(y){y(o)})},J.reject=function(o){return new J(function(y,e){e(o)})},J.race=function(o){return new J(function(y,e){for(var t=0,l=o.length;t<l;t++)o[t].then(y,e)})},J._immediateFn="function"==typeof setImmediate&&function(o){setImmediate(o)}||function(o){Pe(o,0)},J._unhandledRejectionFn=function(y){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",y)},J._setImmediateFn=function(y){J._immediateFn=y},J._setUnhandledRejectionFn=function(y){J._unhandledRejectionFn=y},typeof ln<"u"&&ln.exports?ln.exports=J:Vt.Promise||(Vt.Promise=J)}(this)},{}],5:[function(ut,ln,at){var Vt,Pe;Vt=this,Pe=function(){function Vt(J,S,r){if(r){var n=document.createDocumentFragment(),d=!S.hasAttribute("viewBox")&&r.getAttribute("viewBox");d&&S.setAttribute("viewBox",d);for(var c=r.cloneNode(!0);c.childNodes.length;)n.appendChild(c.firstChild);J.appendChild(n)}}function Pe(J){J.onreadystatechange=function(){if(4===J.readyState){var S=J._cachedDocument;S||((S=J._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=J.responseText,J._cachedTarget={}),J._embeds.splice(0).map(function(r){var n=J._cachedTarget[r.id];n||(n=J._cachedTarget[r.id]=S.getElementById(r.id)),Vt(r.parent,r.svg,n)})}},J.onreadystatechange()}function D(J){for(var S=J;"svg"!==S.nodeName.toLowerCase()&&(S=S.parentNode););return S}return function Ie(J){var r,n=Object(J),y=window.top!==window.self;r="polyfill"in n?n.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&y;var e={},t=window.requestAnimationFrame||setTimeout,l=document.getElementsByTagName("use"),T=0;r&&function S(){for(var p=0;p<l.length;){var E=l[p],b=E.parentNode,x=D(b),A=E.getAttribute("xlink:href")||E.getAttribute("href");if(!A&&n.attributeName&&(A=E.getAttribute(n.attributeName)),x&&A){if(r)if(!n.validate||n.validate(A,x,E)){b.removeChild(E);var _=A.split("#"),O=_.shift(),G=_.join("#");if(O.length){var j=e[O];j||((j=e[O]=new XMLHttpRequest).open("GET",O),j.send(),j._embeds=[]),j._embeds.push({parent:b,svg:x,id:G}),Pe(j)}else Vt(b,x,document.getElementById(G))}else++p,++T}else++p}(!l.length||l.length-T>0)&&t(S,67)}()}},"function"==typeof define&&define.amd?define([],function(){return Vt.svg4everybody=Pe()}):"object"==typeof ln&&ln.exports?ln.exports=Pe():Vt.svg4everybody=Pe()},{}],6:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0});var Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ie=function S(n){return n&&n.__esModule?n:{default:n}}(ut(8)),D=ut(16),J=ut(28),r={lang:"en",en:D.EN,language:function(){for(var n=arguments.length,d=Array(n),c=0;c<n;c++)d[c]=arguments[c];if(null!=d&&d.length){if("string"!=typeof d[0])throw new TypeError("Language code must be a string value");if(!/^[a-z]{2,3}((\-|_)[a-z]{2})?$/i.test(d[0]))throw new TypeError("Language code must have format 2-3 letters and. optionally, hyphen, underscore followed by 2 more letters");r.lang=d[0],void 0===r[d[0]]?(d[1]=null!=d[1]&&"object"===Vt(d[1])?d[1]:{},r[d[0]]=(0,J.isObjectEmpty)(d[1])?D.EN:d[1]):null!=d[1]&&"object"===Vt(d[1])&&(r[d[0]]=d[1])}return r.lang},t:function(n){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof n&&n.length){var c=void 0,o=r.language(),y=function(t,l,T){if("object"!==(typeof t>"u"?"undefined":Vt(t))||"number"!=typeof l||"number"!=typeof T)return t;return[function(){return arguments.length<=1?void 0:arguments[1]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return 0===(arguments.length<=0?void 0:arguments[0])||1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1&&(arguments.length<=0?void 0:arguments[0])%100!=11?arguments.length<=1?void 0:arguments[1]:0!==(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])||11===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])||12===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:(arguments.length<=0?void 0:arguments[0])>2&&(arguments.length<=0?void 0:arguments[0])<20?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:0===(arguments.length<=0?void 0:arguments[0])||(arguments.length<=0?void 0:arguments[0])%100>0&&(arguments.length<=0?void 0:arguments[0])%100<20?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1&&(arguments.length<=0?void 0:arguments[0])%100!=11?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])%10>=2&&((arguments.length<=0?void 0:arguments[0])%100<10||(arguments.length<=0?void 0:arguments[0])%100>=20)?arguments.length<=2?void 0:arguments[2]:[3]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1&&(arguments.length<=0?void 0:arguments[0])%100!=11?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])%10>=2&&(arguments.length<=0?void 0:arguments[0])%10<=4&&((arguments.length<=0?void 0:arguments[0])%100<10||(arguments.length<=0?void 0:arguments[0])%100>=20)?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])>=2&&(arguments.length<=0?void 0:arguments[0])<=4?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])%10>=2&&(arguments.length<=0?void 0:arguments[0])%10<=4&&((arguments.length<=0?void 0:arguments[0])%100<10||(arguments.length<=0?void 0:arguments[0])%100>=20)?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return(arguments.length<=0?void 0:arguments[0])%100==1?arguments.length<=2?void 0:arguments[2]:(arguments.length<=0?void 0:arguments[0])%100==2?arguments.length<=3?void 0:arguments[3]:(arguments.length<=0?void 0:arguments[0])%100==3||(arguments.length<=0?void 0:arguments[0])%100==4?arguments.length<=4?void 0:arguments[4]:arguments.length<=1?void 0:arguments[1]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:(arguments.length<=0?void 0:arguments[0])>2&&(arguments.length<=0?void 0:arguments[0])<7?arguments.length<=3?void 0:arguments[3]:(arguments.length<=0?void 0:arguments[0])>6&&(arguments.length<=0?void 0:arguments[0])<11?arguments.length<=4?void 0:arguments[4]:arguments.length<=5?void 0:arguments[5]},function(){return 0===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=3?void 0:arguments[3]:(arguments.length<=0?void 0:arguments[0])%100>=3&&(arguments.length<=0?void 0:arguments[0])%100<=10?arguments.length<=4?void 0:arguments[4]:(arguments.length<=0?void 0:arguments[0])%100>=11?arguments.length<=5?void 0:arguments[5]:arguments.length<=6?void 0:arguments[6]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:0===(arguments.length<=0?void 0:arguments[0])||(arguments.length<=0?void 0:arguments[0])%100>1&&(arguments.length<=0?void 0:arguments[0])%100<11?arguments.length<=2?void 0:arguments[2]:(arguments.length<=0?void 0:arguments[0])%100>10&&(arguments.length<=0?void 0:arguments[0])%100<20?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])%10==2?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 11!==(arguments.length<=0?void 0:arguments[0])&&(arguments.length<=0?void 0:arguments[0])%10==1?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])%10>=2&&(arguments.length<=0?void 0:arguments[0])%10<=4&&((arguments.length<=0?void 0:arguments[0])%100<10||(arguments.length<=0?void 0:arguments[0])%100>=20)?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:8!==(arguments.length<=0?void 0:arguments[0])&&11!==(arguments.length<=0?void 0:arguments[0])?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return 0===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:3===(arguments.length<=0?void 0:arguments[0])?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return 0===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]}][T].apply(null,[l].concat(t))};return void 0!==r[o]&&(c=r[o][n],null!==d&&"number"==typeof d&&(c=y.apply(null,[c,d,r[o]["mejs.plural-form"]]))),!c&&r.en&&(c=r.en[n],null!==d&&"number"==typeof d&&(c=y.apply(null,[c,d,r.en["mejs.plural-form"]]))),c=c||n,null!==d&&"number"==typeof d&&(c=c.replace("%1",d)),(0,J.escapeHTML)(c)}return n}};Ie.default.i18n=r,typeof mejsL10n<"u"&&Ie.default.i18n.language(mejsL10n.language,mejsL10n.strings),at.default=r},{16:16,28:28,8:8}],7:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0});var Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie=o(ut(3)),J=o(ut(2)),r=o(ut(8)),n=ut(28),d=ut(30),c=ut(9),i=ut(26);function o(t){return t&&t.__esModule?t:{default:t}}var e=function t(l,T,p){var E=this;!function y(t,l){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this,t);var b=this;p=Array.isArray(p)?p:null,b.defaults={renderers:[],fakeNodeName:"div",pluginPath:"build/",iconSprite:"/assets/mejs-controls.svg",shimScriptAccess:"sameDomain"},T=Object.assign(b.defaults,T),b.mediaElement=J.default.createElement(T.fakeNodeName);var x=l,A=!1;if("string"==typeof l?b.mediaElement.originalNode=J.default.getElementById(l):(b.mediaElement.originalNode=l,x=l.id),null==b.mediaElement.originalNode)return null;b.mediaElement.options=T,x=x||"mejs_"+Math.random().toString().slice(2),b.mediaElement.originalNode.setAttribute("id",x+"_from_mejs");var _=b.mediaElement.originalNode.tagName.toLowerCase();["video","audio"].indexOf(_)>-1&&!b.mediaElement.originalNode.getAttribute("preload")&&b.mediaElement.originalNode.setAttribute("preload","none"),b.mediaElement.originalNode.setAttribute("tabindex",-1),b.mediaElement.originalNode.parentNode.insertBefore(b.mediaElement,b.mediaElement.originalNode),b.mediaElement.appendChild(b.mediaElement.originalNode);var O=function(u,I){if("https:"===Ie.default.location.protocol&&0===u.indexOf("http:")&&i.IS_IOS&&r.default.html5media.mediaTypes.indexOf(I)>-1){var C=new XMLHttpRequest;C.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var V=(Ie.default.URL||Ie.default.webkitURL).createObjectURL(this.response);return b.mediaElement.originalNode.setAttribute("src",V),V}return u},C.open("GET",u),C.responseType="blob",C.send()}return u},G=void 0;if(null!==p)G=p;else if(null!==b.mediaElement.originalNode)switch(G=[],b.mediaElement.originalNode.nodeName.toLowerCase()){case"iframe":G.push({type:"",src:b.mediaElement.originalNode.getAttribute("src")});break;case"audio":case"video":var j=b.mediaElement.originalNode.children.length,ae=b.mediaElement.originalNode.getAttribute("src");if(ae){var g=(0,d.formatType)(ae,b.mediaElement.originalNode.getAttribute("type"));G.push({type:g,src:O(ae,g)})}for(var ue=0;ue<j;ue++){var w=b.mediaElement.originalNode.children[ue];if("source"===w.tagName.toLowerCase()){var ie=w.getAttribute("src"),ee=(0,d.formatType)(ie,w.getAttribute("type"));G.push({type:ee,src:O(ie,ee)})}}}b.mediaElement.id=x,b.mediaElement.renderers={},b.mediaElement.events={},b.mediaElement.promises=[],b.mediaElement.renderer=null,b.mediaElement.rendererName=null,b.mediaElement.changeRenderer=function(m,u){var I=E,C=Object.keys(u[0]).length>2?u[0]:u[0].src;if(null!=I.mediaElement.renderer&&I.mediaElement.renderer.name===m)return I.mediaElement.renderer.pause(),I.mediaElement.renderer.stop&&I.mediaElement.renderer.stop(),I.mediaElement.renderer.show(),I.mediaElement.renderer.setSrc(C),!0;null!=I.mediaElement.renderer&&(I.mediaElement.renderer.pause(),I.mediaElement.renderer.stop&&I.mediaElement.renderer.stop(),I.mediaElement.renderer.hide());var z=I.mediaElement.renderers[m],V=null;if(null!=z)return z.show(),z.setSrc(C),I.mediaElement.renderer=z,I.mediaElement.rendererName=m,!0;for(var ye=I.mediaElement.options.renderers.length?I.mediaElement.options.renderers:c.renderer.order,Le=0,ke=ye.length;Le<ke;Le++){var Ce=ye[Le];if(Ce===m){V=c.renderer.renderers[Ce];var Ke=Object.assign(V.options,I.mediaElement.options);return(z=V.create(I.mediaElement,Ke,u)).name=m,I.mediaElement.renderers[V.name]=z,I.mediaElement.renderer=z,I.mediaElement.rendererName=m,z.show(),!0}}return!1},b.mediaElement.setSize=function(m,u){null!=b.mediaElement.renderer&&b.mediaElement.renderer.setSize(m,u)},b.mediaElement.generateError=function(m,u){m=m||"",u=Array.isArray(u)?u:[];var I=(0,n.createEvent)("error",b.mediaElement);I.message=m,I.urls=u,b.mediaElement.dispatchEvent(I),A=!0};var le=r.default.html5media.properties,be=r.default.html5media.methods,Re=function(u,I,C,z){var V=u[I];Object.defineProperty(u,I,{get:function(){return C.apply(u,[V])},set:function(Ce){return V=z.apply(u,[Ce])}})},we=function(u){if("src"!==u){var I=""+u.substring(0,1).toUpperCase()+u.substring(1),C=function(){return null!=b.mediaElement.renderer&&"function"==typeof b.mediaElement.renderer["get"+I]?b.mediaElement.renderer["get"+I]():null},z=function(ye){null!=b.mediaElement.renderer&&"function"==typeof b.mediaElement.renderer["set"+I]&&b.mediaElement.renderer["set"+I](ye)};Re(b.mediaElement,u,C,z),b.mediaElement["get"+I]=C,b.mediaElement["set"+I]=z}},ce=function(){return null!=b.mediaElement.renderer?b.mediaElement.renderer.getSrc():null},Oe=function(u){var I=[];if("string"==typeof u)I.push({src:u,type:u?(0,d.getTypeFromFile)(u):""});else if("object"===(typeof u>"u"?"undefined":Vt(u))&&void 0!==u.src){var C=(0,d.absolutizeUrl)(u.src),z=u.type,V=Object.assign(u,{src:C,type:""!==z&&null!=z||!C?z:(0,d.getTypeFromFile)(C)});I.push(V)}else if(Array.isArray(u))for(var ye=0,Le=u.length;ye<Le;ye++){var ke=(0,d.absolutizeUrl)(u[ye].src),Ce=u[ye].type,Ve=Object.assign(u[ye],{src:ke,type:""!==Ce&&null!=Ce||!ke?Ce:(0,d.getTypeFromFile)(ke)});I.push(Ve)}var Ke=c.renderer.select(I,b.mediaElement.options.renderers.length?b.mediaElement.options.renderers:[]),nt=void 0;if(!b.mediaElement.paused&&!(null==b.mediaElement.src||""===b.mediaElement.src)&&(b.mediaElement.pause(),nt=(0,n.createEvent)("pause",b.mediaElement),b.mediaElement.dispatchEvent(nt)),b.mediaElement.originalNode.src=I[0].src||"",null!==Ke||!I[0].src)return null!=I[0].src&&""!==I[0].src?b.mediaElement.changeRenderer(Ke.rendererName,I):null;b.mediaElement.generateError("No renderer found",I)},qe=function(u,I){try{if("play"!==u||"native_dash"!==b.mediaElement.rendererName&&"native_hls"!==b.mediaElement.rendererName&&"vimeo_iframe"!==b.mediaElement.rendererName)return b.mediaElement.renderer[u](I);var C=b.mediaElement.renderer[u](I);return C&&"function"==typeof C.then&&C.catch(function(){b.mediaElement.paused&&setTimeout(function(){var z=b.mediaElement.renderer.play();void 0!==z&&z.catch(function(){b.mediaElement.renderer.paused||b.mediaElement.renderer.pause()})},150)}),C}catch(z){throw b.mediaElement.generateError(z,G),z}},Ne=function(u){b.mediaElement[u]=function(){for(var I=arguments.length,C=Array(I),z=0;z<I;z++)C[z]=arguments[z];return null!=b.mediaElement.renderer&&"function"==typeof b.mediaElement.renderer[u]?b.mediaElement.promises.length?Promise.all(b.mediaElement.promises).then(function(){return qe(u,C)}).catch(function(V){return b.mediaElement.generateError(V,G),Promise.reject(V)}):qe(u,C):null}};Re(b.mediaElement,"src",ce,Oe),b.mediaElement.getSrc=ce,b.mediaElement.setSrc=Oe;for(var Be=0,se=le.length;Be<se;Be++)we(le[Be]);for(var fe=0,Ge=be.length;fe<Ge;fe++)Ne(be[fe]);return b.mediaElement.addEventListener=function(m,u){b.mediaElement.events[m]=b.mediaElement.events[m]||[],b.mediaElement.events[m].push(u)},b.mediaElement.removeEventListener=function(m,u){if(!m)return b.mediaElement.events={},!0;var I=b.mediaElement.events[m];if(!I)return!0;if(!u)return b.mediaElement.events[m]=[],!0;for(var C=0;C<I.length;C++)if(I[C]===u)return b.mediaElement.events[m].splice(C,1),!0;return!1},b.mediaElement.dispatchEvent=function(m){var u=b.mediaElement.events[m.type];if(u)for(var I=0;I<u.length;I++)u[I].apply(null,[m])},b.mediaElement.destroy=function(){var m=b.mediaElement.originalNode.cloneNode(!0),u=b.mediaElement.parentElement;m.removeAttribute("id"),m.remove(),b.mediaElement.remove(),u.appendChild(m)},G.length&&(b.mediaElement.src=G),b.mediaElement.promises.length?Promise.all(b.mediaElement.promises).then(function(){b.mediaElement.options.success&&b.mediaElement.options.success(b.mediaElement,b.mediaElement.originalNode)}).catch(function(){A&&b.mediaElement.options.error&&b.mediaElement.options.error(b.mediaElement,b.mediaElement.originalNode)}):(b.mediaElement.options.success&&b.mediaElement.options.success(b.mediaElement,b.mediaElement.originalNode),A&&b.mediaElement.options.error&&b.mediaElement.options.error(b.mediaElement,b.mediaElement.originalNode)),b.mediaElement};Ie.default.MediaElement=e,r.default.MediaElement=e,at.default=e},{2:2,26:26,28:28,3:3,30:30,8:8,9:9}],8:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0});var D={version:"6.0.3",html5media:{properties:["volume","src","currentTime","muted","duration","paused","ended","buffered","error","networkState","readyState","seeking","seekable","currentSrc","preload","bufferedBytes","bufferedTime","initialTime","startOffsetTime","defaultPlaybackRate","playbackRate","played","autoplay","loop","controls"],readOnlyProperties:["duration","paused","ended","buffered","error","networkState","readyState","seeking","seekable"],methods:["load","play","pause","canPlayType"],events:["loadstart","durationchange","loadedmetadata","loadeddata","progress","canplay","canplaythrough","suspend","abort","error","emptied","stalled","play","playing","pause","waiting","seeking","seeked","timeupdate","ended","ratechange","volumechange"],mediaTypes:["audio/mp3","audio/ogg","audio/oga","audio/wav","audio/x-wav","audio/wave","audio/x-pn-wav","audio/mpeg","audio/mp4","video/mp4","video/webm","video/ogg","video/ogv"]}};(function Ie(J){return J&&J.__esModule?J:{default:J}})(ut(3)).default.mejs=D,at.default=D},{3:3}],9:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0}),at.renderer=void 0;var Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},Pe=function(){function d(c,i){for(var o=0;o<i.length;o++){var y=i[o];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}return function(c,i,o){return i&&d(c.prototype,i),o&&d(c,o),c}}(),D=function J(d){return d&&d.__esModule?d:{default:d}}(ut(8)),r=function(){function d(){(function S(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")})(this,d),this.renderers={},this.order=[]}return Pe(d,[{key:"add",value:function(i){if(void 0===i.name)throw new TypeError("renderer must contain at least `name` property");this.renderers[i.name]=i,this.order.push(i.name)}},{key:"select",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],y=o.length;if(o=o.length?o:this.order,!y){var e=[/^(html5|native)/i,/^flash/i,/iframe$/i],t=function(_){for(var O=0,G=e.length;O<G;O++)if(e[O].test(_))return O;return e.length};o.sort(function(A,_){return t(A)-t(_)})}for(var l=0,T=o.length;l<T;l++){var E=this.renderers[o[l]];if(null!=E)for(var b=0,x=i.length;b<x;b++)if("function"==typeof E.canPlayType&&"string"==typeof i[b].type&&E.canPlayType(i[b].type))return{rendererName:E.name,src:i[b].src}}return null}},{key:"order",set:function(i){if(!Array.isArray(i))throw new TypeError("order must be an array of strings.");this._order=i},get:function(){return this._order}},{key:"renderers",set:function(i){if(null!==i&&"object"!==(typeof i>"u"?"undefined":Vt(i)))throw new TypeError("renderers must be an array of objects.");this._renderers=i},get:function(){return this._renderers}}]),d}(),n=at.renderer=new r;D.default.Renderers=n},{8:8}],10:[function(ut,ln,at){"use strict";var Pe=l(ut(3)),D=l(ut(2)),S=l(ut(6)),r=ut(17),n=l(r),c=function t(T){if(T&&T.__esModule)return T;var p={};if(null!=T)for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(p[E]=T[E]);return p.default=T,p}(ut(26)),i=ut(28),o=ut(27),y=ut(30),e=ut(29);function l(T){return T&&T.__esModule?T:{default:T}}Object.assign(r.config,{usePluginFullScreen:!0,fullscreenText:null,useFakeFullscreen:!1}),Object.assign(n.default.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,isPluginClickThroughCreated:!1,fullscreenMode:"",containerSizeTimeout:null,buildfullscreen:function(p){if(p.isVideo){p.isInIframe=Pe.default.location!==Pe.default.parent.location,p.detectFullscreenMode();var E=this,b=(0,i.isString)(E.options.fullscreenText)?E.options.fullscreenText:S.default.t("mejs.fullscreen"),x=D.default.createElement("div");x.className=E.options.classPrefix+"button "+E.options.classPrefix+"fullscreen-button",x.innerHTML=(0,e.generateControlButton)(E.id,b,b,""+E.media.options.iconSprite,["icon-fullscreen","icon-unfullscreen"],""+E.options.classPrefix),E.addControlElement(x,"fullscreen"),x.addEventListener("click",function(){c.HAS_TRUE_NATIVE_FULLSCREEN&&c.IS_FULLSCREEN||p.isFullScreen?p.exitFullScreen():p.enterFullScreen()}),p.fullscreenBtn=x,E.options.keyActions.push({keys:[70],action:function(O,G,j,ae){ae.ctrlKey||typeof O.enterFullScreen<"u"&&(O.isFullScreen?O.exitFullScreen():O.enterFullScreen())}}),E.exitFullscreenCallback=function(_){E.options.enableKeyboard&&27===(_.which||_.keyCode||0)&&(c.HAS_TRUE_NATIVE_FULLSCREEN&&c.IS_FULLSCREEN||E.isFullScreen)&&p.exitFullScreen()},E.globalBind("keydown",E.exitFullscreenCallback),E.normalHeight=0,E.normalWidth=0,c.HAS_TRUE_NATIVE_FULLSCREEN&&p.globalBind(c.FULLSCREEN_EVENT_NAME,function(){p.isFullScreen&&(c.isFullScreen()?(p.isNativeFullScreen=!0,p.setControlsSize()):(p.isNativeFullScreen=!1,p.exitFullScreen()))})}},cleanfullscreen:function(p){p.exitFullScreen(),p.globalUnbind("keydown",p.exitFullscreenCallback)},detectFullscreenMode:function(){var p=this,E=null!==p.media.rendererName&&/(native|html5)/i.test(p.media.rendererName),b="";return c.HAS_TRUE_NATIVE_FULLSCREEN&&E?b="native-native":c.HAS_TRUE_NATIVE_FULLSCREEN&&!E?b="plugin-native":p.usePluginFullScreen&&c.SUPPORT_POINTER_EVENTS&&(b="plugin-click"),p.fullscreenMode=b,b},enterFullScreen:function(){var p=this,E=null!==p.media.rendererName&&/(html5|native)/i.test(p.media.rendererName),b=getComputedStyle(p.getElement(p.container));if(p.isVideo){if(!1===p.options.useFakeFullscreen&&(c.IS_IOS||c.IS_SAFARI)&&c.HAS_IOS_FULLSCREEN&&"function"==typeof p.media.originalNode.webkitEnterFullscreen&&p.media.originalNode.canPlayType((0,y.getTypeFromFile)(p.media.getSrc())))return void p.media.originalNode.webkitEnterFullscreen();if((0,o.addClass)(D.default.documentElement,p.options.classPrefix+"fullscreen"),(0,o.addClass)(p.getElement(p.container),p.options.classPrefix+"container-fullscreen"),p.normalHeight=parseFloat(b.height),p.normalWidth=parseFloat(b.width),("native-native"===p.fullscreenMode||"plugin-native"===p.fullscreenMode)&&(c.requestFullScreen(p.getElement(p.container)),p.isInIframe&&setTimeout(function ue(){if(p.isNativeFullScreen){var ee=screen.width;Math.abs(ee-(Pe.default.innerWidth||D.default.documentElement.clientWidth||D.default.body.clientWidth))>.002*ee?p.exitFullScreen():setTimeout(ue,500)}},1e3)),p.getElement(p.container).style.width="100%",p.getElement(p.container).style.height="100%",p.containerSizeTimeout=setTimeout(function(){p.getElement(p.container).style.width="100%",p.getElement(p.container).style.height="100%",p.setControlsSize()},500),E)p.node.style.width="100%",p.node.style.height="100%";else for(var x=p.getElement(p.container).querySelectorAll("embed, object, video"),A=x.length,_=0;_<A;_++)x[_].style.width="100%",x[_].style.height="100%";p.options.setDimensions&&"function"==typeof p.media.setSize&&p.media.setSize(screen.width,screen.height);for(var O=p.getElement(p.layers).children,G=O.length,j=0;j<G;j++)O[j].style.width="100%",O[j].style.height="100%";p.fullscreenBtn&&((0,o.removeClass)(p.fullscreenBtn,p.options.classPrefix+"fullscreen"),(0,o.addClass)(p.fullscreenBtn,p.options.classPrefix+"unfullscreen")),p.setControlsSize(),p.isFullScreen=!0;var ae=Math.min(screen.width/p.width,screen.height/p.height),pe=p.getElement(p.container).querySelector("."+p.options.classPrefix+"captions-text");pe&&(pe.style.fontSize=100*ae+"%",pe.style.lineHeight="normal",p.getElement(p.container).querySelector("."+p.options.classPrefix+"captions-position").style.bottom=(screen.height-p.normalHeight)/2-p.getElement(p.controls).offsetHeight/2+ae+15+"px");var g=(0,i.createEvent)("enteredfullscreen",p.getElement(p.container));p.getElement(p.container).dispatchEvent(g)}},exitFullScreen:function(){var p=this,E=null!==p.media.rendererName&&/(native|html5)/i.test(p.media.rendererName);if(p.isVideo){if(clearTimeout(p.containerSizeTimeout),c.HAS_TRUE_NATIVE_FULLSCREEN&&(c.IS_FULLSCREEN||p.isFullScreen)&&c.cancelFullScreen(),(0,o.removeClass)(D.default.documentElement,p.options.classPrefix+"fullscreen"),(0,o.removeClass)(p.getElement(p.container),p.options.classPrefix+"container-fullscreen"),p.options.setDimensions){if(p.getElement(p.container).style.width=p.normalWidth+"px",p.getElement(p.container).style.height=p.normalHeight+"px",E)p.node.style.width=p.normalWidth+"px",p.node.style.height=p.normalHeight+"px";else for(var b=p.getElement(p.container).querySelectorAll("embed, object, video"),x=b.length,A=0;A<x;A++)b[A].style.width=p.normalWidth+"px",b[A].style.height=p.normalHeight+"px";"function"==typeof p.media.setSize&&p.media.setSize(p.normalWidth,p.normalHeight);for(var _=p.getElement(p.layers).children,O=_.length,G=0;G<O;G++)_[G].style.width=p.normalWidth+"px",_[G].style.height=p.normalHeight+"px"}p.fullscreenBtn&&((0,o.removeClass)(p.fullscreenBtn,p.options.classPrefix+"unfullscreen"),(0,o.addClass)(p.fullscreenBtn,p.options.classPrefix+"fullscreen")),p.setControlsSize(),p.isFullScreen=!1;var j=p.getElement(p.container).querySelector("."+p.options.classPrefix+"captions-text");j&&(j.style.fontSize="",j.style.lineHeight="",p.getElement(p.container).querySelector("."+p.options.classPrefix+"captions-position").style.bottom="");var ae=(0,i.createEvent)("exitedfullscreen",p.getElement(p.container));p.getElement(p.container).dispatchEvent(ae)}}})},{17:17,2:2,26:26,27:27,28:28,29:29,3:3,30:30,6:6}],11:[function(ut,ln,at){"use strict";var Pe=c(ut(2)),Ie=ut(17),D=c(Ie),S=c(ut(6)),r=ut(28),n=ut(27),d=ut(29);function c(i){return i&&i.__esModule?i:{default:i}}Object.assign(Ie.config,{playText:null,pauseText:null}),Object.assign(D.default.prototype,{buildplaypause:function(o,y,e,t){var l=this,T=l.options,p=(0,r.isString)(T.playText)?T.playText:S.default.t("mejs.play"),E=(0,r.isString)(T.pauseText)?T.pauseText:S.default.t("mejs.pause"),b=Pe.default.createElement("div");b.className=l.options.classPrefix+"button "+l.options.classPrefix+"playpause-button "+l.options.classPrefix+"play",b.innerHTML=(0,d.generateControlButton)(l.id,E,p,""+l.media.options.iconSprite,["icon-play","icon-pause","icon-replay"],""+l.options.classPrefix),b.addEventListener("click",function(){l.paused?l.play():l.pause()});var x=b.querySelector("button");function A(_){(0,n.removeClass)(b,l.options.classPrefix+"play"),(0,n.removeClass)(b,l.options.classPrefix+"replay"),(0,n.removeClass)(b,l.options.classPrefix+"pause"),"play"===_?((0,n.addClass)(b,l.options.classPrefix+"pause"),x.setAttribute("title",E),x.setAttribute("aria-label",E)):"pse"===_?((0,n.addClass)(b,l.options.classPrefix+"play"),x.setAttribute("title",p),x.setAttribute("aria-label",p)):((0,n.addClass)(b,l.options.classPrefix+"replay"),x.setAttribute("title",p),x.setAttribute("aria-label",p))}l.addControlElement(b,"playpause"),A("pse"),t.addEventListener("loadedmetadata",function(){-1===t.rendererName.indexOf("flash")&&A("pse")}),t.addEventListener("play",function(){A("play")}),t.addEventListener("playing",function(){A("play")}),t.addEventListener("pause",function(){A("pse")}),t.addEventListener("ended",function(){o.options.loop||setTimeout(function(){A("replay")},0)})}})},{17:17,2:2,27:27,28:28,29:29,6:6}],12:[function(ut,ln,at){"use strict";var Pe=c(ut(2)),Ie=ut(17),D=c(Ie),S=c(ut(6)),r=ut(26),n=ut(32),d=ut(27);function c(i){return i&&i.__esModule?i:{default:i}}Object.assign(Ie.config,{enableProgressTooltip:!0,useSmoothHover:!0,forceLive:!1}),Object.assign(D.default.prototype,{buildprogress:function(o,y,e,t){var l=0,T=!1,p=!1,E=this,b=o.options.autoRewind,x=o.options.enableProgressTooltip?'<span class="'+E.options.classPrefix+'time-float"><span class="'+E.options.classPrefix+'time-float-current">00:00</span><span class="'+E.options.classPrefix+'time-float-corner"></span></span>':"",A=Pe.default.createElement("div");A.className=E.options.classPrefix+"time-rail",A.innerHTML='<span class="'+E.options.classPrefix+"time-total "+E.options.classPrefix+'time-slider"><span class="'+E.options.classPrefix+'time-buffering"></span><span class="'+E.options.classPrefix+'time-loaded"></span><span class="'+E.options.classPrefix+'time-current"></span><span class="'+E.options.classPrefix+'time-hovered no-hover"></span><span class="'+E.options.classPrefix+'time-handle"><span class="'+E.options.classPrefix+'time-handle-content"></span></span>'+x+"</span>",E.addControlElement(A,"progress"),E.options.keyActions.push({keys:[37,227],action:function(w){if(!isNaN(w.duration)&&w.duration>0){w.isVideo&&(w.showControls(),w.startControlsTimer());var ie=w.getElement(w.container).querySelector("."+E.options.classPrefix+"time-total");ie&&ie.focus();var ee=Math.max(w.currentTime-w.options.defaultSeekBackwardInterval(w),0);w.paused||w.pause(),setTimeout(function(){w.setCurrentTime(ee,!0)},0),setTimeout(function(){w.play()},0)}}},{keys:[39,228],action:function(w){if(!isNaN(w.duration)&&w.duration>0){w.isVideo&&(w.showControls(),w.startControlsTimer());var ie=w.getElement(w.container).querySelector("."+E.options.classPrefix+"time-total");ie&&ie.focus();var ee=Math.min(w.currentTime+w.options.defaultSeekForwardInterval(w),w.duration);w.paused||w.pause(),setTimeout(function(){w.setCurrentTime(ee,!0)},0),setTimeout(function(){w.play()},0)}}}),E.rail=y.querySelector("."+E.options.classPrefix+"time-rail"),E.total=y.querySelector("."+E.options.classPrefix+"time-total"),E.loaded=y.querySelector("."+E.options.classPrefix+"time-loaded"),E.current=y.querySelector("."+E.options.classPrefix+"time-current"),E.handle=y.querySelector("."+E.options.classPrefix+"time-handle"),E.timefloat=y.querySelector("."+E.options.classPrefix+"time-float"),E.timefloatcurrent=y.querySelector("."+E.options.classPrefix+"time-float-current"),E.slider=y.querySelector("."+E.options.classPrefix+"time-slider"),E.hovered=y.querySelector("."+E.options.classPrefix+"time-hovered"),E.buffer=y.querySelector("."+E.options.classPrefix+"time-buffering"),E.newTime=0,E.forcedHandlePause=!1,E.setTransformStyle=function(ue,w){ue.style.transform=w,ue.style.webkitTransform=w,ue.style.MozTransform=w,ue.style.msTransform=w,ue.style.OTransform=w},E.buffer.style.display="none";var _=function(w){var ie=getComputedStyle(E.total),ee=(0,d.offset)(E.total),le=E.total.offsetWidth,be=void 0!==ie.webkitTransform?"webkitTransform":void 0!==ie.mozTransform?"mozTransform ":void 0!==ie.oTransform?"oTransform":void 0!==ie.msTransform?"msTransform":"transform",Re="WebKitCSSMatrix"in window?"WebKitCSSMatrix":"MSCSSMatrix"in window?"MSCSSMatrix":"CSSMatrix"in window?"CSSMatrix":void 0,ce=0,Oe=0,qe=void 0;if(qe=w.originalEvent&&w.originalEvent.changedTouches?w.originalEvent.changedTouches[0].pageX:w.changedTouches?w.changedTouches[0].pageX:w.pageX,E.getDuration()){if(qe<ee.left?qe=ee.left:qe>le+ee.left&&(qe=le+ee.left),E.newTime=(Oe=qe-ee.left)/le*E.getDuration(),T&&null!==E.getCurrentTime()&&E.newTime.toFixed(4)!==E.getCurrentTime().toFixed(4)&&(E.setCurrentRailHandle(E.newTime),E.updateCurrent(E.newTime)),!r.IS_IOS&&!r.IS_ANDROID){if(Oe<0&&(Oe=0),E.options.useSmoothHover&&null!==Re&&typeof window[Re]<"u"){var Be=new window[Re](getComputedStyle(E.handle)[be]).m41,se=Oe/parseFloat(getComputedStyle(E.total).width)-Be/parseFloat(getComputedStyle(E.total).width);E.hovered.style.left=Be+"px",E.setTransformStyle(E.hovered,"scaleX("+se+")"),E.hovered.setAttribute("pos",Oe),se>=0?(0,d.removeClass)(E.hovered,"negative"):(0,d.addClass)(E.hovered,"negative")}if(E.timefloat){var fe=E.timefloat.offsetWidth/2,Ge=mejs.Utils.offset(E.getElement(E.container)),m=getComputedStyle(E.timefloat);ce=qe-Ge.left<E.timefloat.offsetWidth?fe:qe-Ge.left>=E.getElement(E.container).offsetWidth-fe?E.total.offsetWidth-fe:Oe,(0,d.hasClass)(E.getElement(E.container),E.options.classPrefix+"long-video")&&(ce+=parseFloat(m.marginLeft)/2+E.timefloat.offsetWidth/2),E.timefloat.style.left=ce+"px",E.timefloatcurrent.innerHTML=(0,n.secondsToTimeCode)(E.newTime,o.options.alwaysShowHours,o.options.showTimecodeFrameCount,o.options.framesPerSecond,o.options.secondsDecimalLength,o.options.timeFormat),E.timefloat.style.display="block"}}}else!r.IS_IOS&&!r.IS_ANDROID&&E.timefloat&&(ce=E.timefloat.offsetWidth+le>=E.getElement(E.container).offsetWidth?E.timefloat.offsetWidth/2:0,E.timefloat.style.left=ce+"px",E.timefloat.style.left=ce+"px",E.timefloat.style.display="block")},G=function(){new Date-l>=1e3&&E.play()};E.slider.addEventListener("focus",function(){o.options.autoRewind=!1}),E.slider.addEventListener("blur",function(){o.options.autoRewind=b}),E.slider.addEventListener("keydown",function(ue){if(new Date-l>=1e3&&(p=E.paused),E.options.enableKeyboard&&E.options.keyActions.length){var w=ue.which||ue.keyCode||0,ie=E.getDuration(),ee=o.options.defaultSeekForwardInterval(t),le=o.options.defaultSeekBackwardInterval(t),be=E.getCurrentTime(),Re=E.getElement(E.container).querySelector("."+E.options.classPrefix+"volume-slider");if(38===w||40===w){Re&&(Re.style.display="block"),E.isVideo&&(E.showControls(),E.startControlsTimer());var we=38===w?Math.min(E.volume+.1,1):Math.max(E.volume-.1,0),ce=we<=0;return E.setVolume(we),void E.setMuted(ce)}switch(Re&&(Re.style.display="none"),w){case 37:E.getDuration()!==1/0&&(be-=le);break;case 39:E.getDuration()!==1/0&&(be+=ee);break;case 36:be=0;break;case 35:be=ie;break;case 13:case 32:return void(r.IS_FIREFOX&&(E.paused?E.play():E.pause()));default:return}be=be<0||isNaN(be)?0:be>=ie?ie:Math.floor(be),l=new Date,p||o.pause(),setTimeout(function(){E.setCurrentTime(be,!0)},0),be<E.getDuration()&&!p&&setTimeout(G,1100),o.showControls(),ue.preventDefault(),ue.stopPropagation()}});var ae=["mousedown","touchstart"];E.slider.addEventListener("dragstart",function(){return!1});for(var pe=0,g=ae.length;pe<g;pe++)E.slider.addEventListener(ae[pe],function(ue){if(E.forcedHandlePause=!1,E.getDuration()!==1/0&&(1===ue.which||0===ue.which)){E.paused||(E.pause(),E.forcedHandlePause=!0),T=!0,_(ue);for(var w=["mouseup","touchend"],ie=0,ee=w.length;ie<ee;ie++)E.getElement(E.container).addEventListener(w[ie],function(le){var be=le.target;(be===E.slider||be.closest("."+E.options.classPrefix+"time-slider"))&&_(le)});E.globalBind("mouseup.dur touchend.dur",function(){T&&null!==E.getCurrentTime()&&E.newTime.toFixed(4)!==E.getCurrentTime().toFixed(4)&&(E.setCurrentTime(E.newTime,!0),E.setCurrentRailHandle(E.newTime),E.updateCurrent(E.newTime)),E.forcedHandlePause&&(E.slider.focus(),E.play()),E.forcedHandlePause=!1,T=!1,E.timefloat&&(E.timefloat.style.display="none")})}},!(!r.SUPPORT_PASSIVE_EVENT||"touchstart"!==ae[pe])&&{passive:!0});E.slider.addEventListener("mouseenter",function(ue){ue.target===E.slider&&E.getDuration()!==1/0&&(E.getElement(E.container).addEventListener("mousemove",function(w){var ie=w.target;(ie===E.slider||ie.closest("."+E.options.classPrefix+"time-slider"))&&_(w)}),E.timefloat&&!r.IS_IOS&&!r.IS_ANDROID&&(E.timefloat.style.display="block"),E.hovered&&!r.IS_IOS&&!r.IS_ANDROID&&E.options.useSmoothHover&&(0,d.removeClass)(E.hovered,"no-hover"))}),E.slider.addEventListener("mouseleave",function(){E.getDuration()!==1/0&&(T||(E.timefloat&&(E.timefloat.style.display="none"),E.hovered&&E.options.useSmoothHover&&(0,d.addClass)(E.hovered,"no-hover")))}),E.broadcastCallback=function(ue){var w=y.querySelector("."+E.options.classPrefix+"broadcast");if(E.options.forceLive||E.getDuration()===1/0){if(!w&&E.options.forceLive){var ie=Pe.default.createElement("span");ie.className=E.options.classPrefix+"broadcast",ie.innerText=S.default.t("mejs.live-broadcast"),E.slider.style.display="none",E.rail.appendChild(ie)}}else w&&(E.slider.style.display="",w.remove()),o.setProgressRail(ue),E.forcedHandlePause||o.setCurrentRail(ue),function(){var w=E.getCurrentTime(),ie=S.default.t("mejs.time-slider"),ee=(0,n.secondsToTimeCode)(w,o.options.alwaysShowHours,o.options.showTimecodeFrameCount,o.options.framesPerSecond,o.options.secondsDecimalLength,o.options.timeFormat),le=E.getDuration();E.slider.setAttribute("role","slider"),E.slider.tabIndex=0,t.paused?(E.slider.setAttribute("aria-label",ie),E.slider.setAttribute("aria-valuemin",0),E.slider.setAttribute("aria-valuemax",isNaN(le)?0:le),E.slider.setAttribute("aria-valuenow",w),E.slider.setAttribute("aria-valuetext",ee)):(E.slider.removeAttribute("aria-label"),E.slider.removeAttribute("aria-valuemin"),E.slider.removeAttribute("aria-valuemax"),E.slider.removeAttribute("aria-valuenow"),E.slider.removeAttribute("aria-valuetext"))}()},t.addEventListener("progress",E.broadcastCallback),t.addEventListener("timeupdate",E.broadcastCallback),t.addEventListener("play",function(){E.buffer.style.display="none"}),t.addEventListener("playing",function(){E.buffer.style.display="none"}),t.addEventListener("seeking",function(){E.buffer.style.display=""}),t.addEventListener("seeked",function(){E.buffer.style.display="none"}),t.addEventListener("pause",function(){E.buffer.style.display="none"}),t.addEventListener("waiting",function(){E.buffer.style.display=""}),t.addEventListener("loadeddata",function(){E.buffer.style.display=""}),t.addEventListener("canplay",function(){E.buffer.style.display="none"}),t.addEventListener("error",function(){E.buffer.style.display="none"}),E.getElement(E.container).addEventListener("controlsresize",function(ue){E.getDuration()!==1/0&&(o.setProgressRail(ue),E.forcedHandlePause||o.setCurrentRail(ue))})},cleanprogress:function(o,y,e,t){t.removeEventListener("progress",o.broadcastCallback),t.removeEventListener("timeupdate",o.broadcastCallback),o.rail&&o.rail.remove()},setProgressRail:function(o){var y=this,e=void 0!==o?o.detail.target||o.target:y.media,t=null;e&&e.buffered&&e.buffered.length>0&&e.buffered.end&&y.getDuration()?t=e.buffered.end(e.buffered.length-1)/y.getDuration():e&&void 0!==e.bytesTotal&&e.bytesTotal>0&&void 0!==e.bufferedBytes?t=e.bufferedBytes/e.bytesTotal:o&&o.lengthComputable&&0!==o.total&&(t=o.loaded/o.total),null!==t&&(t=Math.min(1,Math.max(0,t)),y.loaded&&y.setTransformStyle(y.loaded,"scaleX("+t+")"))},setCurrentRailHandle:function(o){this.setCurrentRailMain(this,o)},setCurrentRail:function(){this.setCurrentRailMain(this)},setCurrentRailMain:function(o,y){if(void 0!==o.getCurrentTime()&&o.getDuration()){var e=typeof y>"u"?o.getCurrentTime():y;if(o.total&&o.handle){var t=parseFloat(getComputedStyle(o.total).width),l=Math.round(t*e/o.getDuration()),T=l-Math.round(o.handle.offsetWidth/2);if(T=T<0?0:T,o.setTransformStyle(o.current,"scaleX("+l/t+")"),o.setTransformStyle(o.handle,"translateX("+T+"px)"),o.options.useSmoothHover&&!(0,d.hasClass)(o.hovered,"no-hover")){var p=parseInt(o.hovered.getAttribute("pos"),10),E=(p=isNaN(p)?0:p)/t-T/t;o.hovered.style.left=T+"px",o.setTransformStyle(o.hovered,"scaleX("+E+")"),E>=0?(0,d.removeClass)(o.hovered,"negative"):(0,d.addClass)(o.hovered,"negative")}}}}})},{17:17,2:2,26:26,27:27,32:32,6:6}],13:[function(ut,ln,at){"use strict";var Pe=r(ut(2)),Ie=ut(17),D=r(Ie),J=ut(32),S=ut(27);function r(n){return n&&n.__esModule?n:{default:n}}Object.assign(Ie.config,{duration:0,timeAndDurationSeparator:"<span> | </span>"}),Object.assign(D.default.prototype,{buildcurrent:function(d,c,i,o){var y=this,e=Pe.default.createElement("div");e.className=y.options.classPrefix+"time",e.setAttribute("role","timer"),e.setAttribute("aria-live","off"),e.innerHTML='<span class="'+y.options.classPrefix+'currenttime">'+(0,J.secondsToTimeCode)(0,d.options.alwaysShowHours,d.options.showTimecodeFrameCount,d.options.framesPerSecond,d.options.secondsDecimalLength,d.options.timeFormat)+"</span>",y.addControlElement(e,"current"),d.updateCurrent(),y.updateTimeCallback=function(){y.controlsAreVisible&&d.updateCurrent()},o.addEventListener("timeupdate",y.updateTimeCallback)},cleancurrent:function(d,c,i,o){o.removeEventListener("timeupdate",d.updateTimeCallback)},buildduration:function(d,c,i,o){var y=this;if(c.lastChild.querySelector("."+y.options.classPrefix+"currenttime"))c.querySelector("."+y.options.classPrefix+"time").innerHTML+=y.options.timeAndDurationSeparator+'<span class="'+y.options.classPrefix+'duration">'+(0,J.secondsToTimeCode)(y.options.duration,y.options.alwaysShowHours,y.options.showTimecodeFrameCount,y.options.framesPerSecond,y.options.secondsDecimalLength,y.options.timeFormat)+"</span>";else{c.querySelector("."+y.options.classPrefix+"currenttime")&&(0,S.addClass)(c.querySelector("."+y.options.classPrefix+"currenttime").parentNode,y.options.classPrefix+"currenttime-container");var t=Pe.default.createElement("div");t.className=y.options.classPrefix+"time "+y.options.classPrefix+"duration-container",t.innerHTML='<span class="'+y.options.classPrefix+'duration">'+(0,J.secondsToTimeCode)(y.options.duration,y.options.alwaysShowHours,y.options.showTimecodeFrameCount,y.options.framesPerSecond,y.options.secondsDecimalLength,y.options.timeFormat)+"</span>",y.addControlElement(t,"duration")}y.updateDurationCallback=function(){y.controlsAreVisible&&d.updateDuration()},o.addEventListener("timeupdate",y.updateDurationCallback)},cleanduration:function(d,c,i,o){o.removeEventListener("timeupdate",d.updateDurationCallback)},updateCurrent:function(){var d=this,c=d.getCurrentTime();isNaN(c)&&(c=0);var i=(0,J.secondsToTimeCode)(c,d.options.alwaysShowHours,d.options.showTimecodeFrameCount,d.options.framesPerSecond,d.options.secondsDecimalLength,d.options.timeFormat);i.length>5?(0,S.addClass)(d.getElement(d.container),d.options.classPrefix+"long-video"):(0,S.removeClass)(d.getElement(d.container),d.options.classPrefix+"long-video"),d.getElement(d.controls).querySelector("."+d.options.classPrefix+"currenttime")&&(d.getElement(d.controls).querySelector("."+d.options.classPrefix+"currenttime").innerText=i)},updateDuration:function(){var d=this,c=d.getDuration();void 0!==d.media&&(isNaN(c)||c===1/0||c<0)&&(d.media.duration=d.options.duration=c=0),d.options.duration>0&&(c=d.options.duration);var i=(0,J.secondsToTimeCode)(c,d.options.alwaysShowHours,d.options.showTimecodeFrameCount,d.options.framesPerSecond,d.options.secondsDecimalLength,d.options.timeFormat);i.length>5?(0,S.addClass)(d.getElement(d.container),d.options.classPrefix+"long-video"):(0,S.removeClass)(d.getElement(d.container),d.options.classPrefix+"long-video"),d.getElement(d.controls).querySelector("."+d.options.classPrefix+"duration")&&c>0&&(d.getElement(d.controls).querySelector("."+d.options.classPrefix+"duration").innerHTML=i)}})},{17:17,2:2,27:27,32:32}],14:[function(ut,ln,at){"use strict";var Pe=o(ut(2)),D=o(ut(8)),S=o(ut(6)),r=ut(17),n=o(r),d=ut(28),c=ut(27),i=ut(29);function o(y){return y&&y.__esModule?y:{default:y}}Object.assign(r.config,{autoplayCaptionLanguage:null,defaultTrackLine:-3,tracksText:null,chaptersText:null,chaptersLanguage:null,hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1}),Object.assign(n.default.prototype,{hasChapters:!1,buildtracks:function(e,t){if(this.initTracks(e),e.tracks.length||e.trackFiles&&0!==!e.trackFiles.length){var l=this,T=(0,d.isString)(l.options.tracksText)?l.options.tracksText:S.default.t("mejs.captions-subtitles"),p=(0,d.isString)(l.options.chaptersText)?l.options.chaptersText:S.default.t("mejs.captions-chapters");l.hideAllTracks(),l.clearTrackHtml(e),e.captionsButton=Pe.default.createElement("div"),e.captionsButton.className=l.options.classPrefix+"button "+l.options.classPrefix+"captions-button",e.captionsButton.innerHTML=(0,i.generateControlButton)(l.id,T,T,""+l.media.options.iconSprite,["icon-captions"],""+l.options.classPrefix)+'<div class="'+l.options.classPrefix+"captions-selector "+l.options.classPrefix+'offscreen"><ul class="'+l.options.classPrefix+'captions-selector-list"><li class="'+l.options.classPrefix+'captions-selector-list-item"><input type="radio" class="'+l.options.classPrefix+'captions-selector-input" name="'+e.id+'_captions" id="'+e.id+'_captions_none" value="none" checked disabled><label class="'+l.options.classPrefix+"captions-selector-label "+l.options.classPrefix+'captions-selected" for="'+e.id+'_captions_none">'+S.default.t("mejs.none")+"</label></li></ul></div>",l.addControlElement(e.captionsButton,"tracks"),e.captionsButton.querySelector("."+l.options.classPrefix+"captions-selector-input").disabled=!1,e.chaptersButton=Pe.default.createElement("div"),e.chaptersButton.className=l.options.classPrefix+"button "+l.options.classPrefix+"chapters-button",e.chaptersButton.innerHTML=(0,i.generateControlButton)(l.id,p,p,""+l.media.options.iconSprite,["icon-chapters"],""+l.options.classPrefix)+'<div class="'+l.options.classPrefix+"chapters-selector "+l.options.classPrefix+'offscreen"><ul class="'+l.options.classPrefix+'chapters-selector-list"></ul></div>';var E=l.getSubtitles();l.getChapters().length>0&&!t.querySelector("."+l.options.classPrefix+"chapter-selector")&&e.captionsButton.parentNode.insertBefore(e.chaptersButton,e.captionsButton);for(var x=0;x<E.length;x++)e.addTrackButton(E[x]),E[x].isLoaded&&l.enableTrackButton(E[x]);e.trackToLoad=-1,e.selectedTrack=null,e.isLoadingTrack=!1;var A=["mouseenter","focusin"],_=["mouseleave","focusout"];if(l.options.toggleCaptionsButtonWhenOnlyOne&&1===E.length)e.captionsButton.addEventListener("click",function(ie){var ee="none";null===e.selectedTrack&&(ee=e.getSubtitles()[0].trackId),e.setTrack(ee,typeof(ie.keyCode||ie.which)<"u")});else{for(var O=e.captionsButton.querySelectorAll("."+l.options.classPrefix+"captions-selector-label"),G=e.captionsButton.querySelectorAll("input[type=radio]"),j=0;j<A.length;j++)e.captionsButton.addEventListener(A[j],function(){(0,c.removeClass)(this.querySelector("."+l.options.classPrefix+"captions-selector"),l.options.classPrefix+"offscreen")});for(var ae=0;ae<_.length;ae++)e.captionsButton.addEventListener(_[ae],function(){var ie=this;setTimeout(function(){(0,c.addClass)(ie.querySelector("."+l.options.classPrefix+"captions-selector"),l.options.classPrefix+"offscreen")},0)});for(var pe=0;pe<G.length;pe++)G[pe].addEventListener("click",function(ie){ie.target.disabled||e.setTrack(this.value,typeof(ie.keyCode||ie.which)<"u")});for(var g=0;g<O.length;g++)O[g].addEventListener("click",function(ie){var ee=(0,c.siblings)(this,function(be){return"INPUT"===be.tagName})[0],le=(0,d.createEvent)("click",ee);ee.dispatchEvent(le),ie.preventDefault()});e.captionsButton.addEventListener("keydown",function(ie){ie.stopPropagation()})}for(var ue=0;ue<A.length;ue++)e.chaptersButton.addEventListener(A[ue],function(){this.querySelector("."+l.options.classPrefix+"chapters-selector-list").children.length&&(0,c.removeClass)(this.querySelector("."+l.options.classPrefix+"chapters-selector"),l.options.classPrefix+"offscreen")});for(var w=0;w<_.length;w++)e.chaptersButton.addEventListener(_[w],function(){var ie=this;setTimeout(function(){(0,c.addClass)(ie.querySelector("."+l.options.classPrefix+"chapters-selector"),l.options.classPrefix+"offscreen")},0)});e.chaptersButton.addEventListener("keydown",function(ie){ie.stopPropagation()}),l.checkAllCaptionsLoadedOrError(),l.checkAllChaptersLoadedOrError()}},clearTrackHtml:function(e){e&&(e.captionsButton&&e.captionsButton.remove(),e.chaptersButton&&e.chaptersButton.remove())},rebuildtracks:function(){var e=this;e.findTracks(),e.buildtracks(e,e.getElement(e.controls))},initTracks:function(e){var t=this,l=null===t.trackFiles?t.node.querySelectorAll("track"):t.trackFiles;if(t.tracks=[],l){e.trackFiles=l;for(var T=0;T<l.length;T++){var p=l[T],E=p.getAttribute("srclang").toLowerCase()||"",b=p.getAttribute("id")||t.id+"_track_"+T+"_"+p.getAttribute("kind")+"_"+E;p.setAttribute("id",b);var x={trackId:b,srclang:E,src:p.getAttribute("src"),kind:p.getAttribute("kind"),label:p.getAttribute("label")||"",entries:[],isDefault:p.hasAttribute("default"),isError:!1,isLoaded:!1};if(t.tracks.push(x),"captions"===p.getAttribute("kind")||"subtitles"===p.getAttribute("kind"))switch(p.readyState){case 2:t.handleCaptionsLoaded(p);break;case 3:t.handleCaptionsError(p);break;default:p.addEventListener("load",function(A){t.handleCaptionsLoaded(A.target)}),p.addEventListener("error",function(A){t.handleCaptionsError(A.target)})}else if("chapters"===p.getAttribute("kind"))switch(p.readyState){case 2:t.handleChaptersLoaded(p);break;case 3:t.handleChaptersError(p);break;default:p.addEventListener("load",function(A){t.handleChaptersLoaded(A.target)}),p.addEventListener("error",function(A){t.handleChaptersError(A.target)})}}}},handleCaptionsLoaded:function(e){var t=this.domNode.textTracks,l=this.getTrackById(e.getAttribute("id"));if(Number.isInteger(this.options.defaultTrackLine))for(var T=0;T<t.length;T++)if(e.getAttribute("srclang")===t[T].language&&e.getAttribute("kind")===t[T].kind){for(var p=t[T].cues,E=0;E<p.length;E++)("auto"===p[E].line||null==p[E].line)&&(p[E].line=this.options.defaultTrackLine);break}l.isLoaded=!0,this.enableTrackButton(l),this.checkAllCaptionsLoadedOrError()},handleCaptionsError:function(e){var t=this.getTrackById(e.getAttribute("id"));t.isError=!0,this.removeTrackButton(t),this.checkAllCaptionsLoadedOrError()},handleChaptersLoaded:function(e){var t=this.getTrackById(e.getAttribute("id"));this.hasChapters=!0,t.isLoaded=!0,this.checkAllChaptersLoadedOrError()},handleChaptersError:function(e){this.getTrackById(e.getAttribute("id")).isError=!0,this.checkAllChaptersLoadedOrError()},checkAllCaptionsLoadedOrError:function(){var e=this.getSubtitles();e.length===e.filter(function(t){return t.isLoaded||t.isError}).length&&(this.removeCaptionsIfEmpty(),this.checkForAutoPlay())},checkAllChaptersLoadedOrError:function(){var e=this,t=this.getChapters(),l=t.filter(function(p){return p.isLoaded});if(t.length===t.filter(function(p){return p.isLoaded||p.isError}).length)if(0===l.length)this.chaptersButton.remove();else{var T=l.find(function(p){return p.srclang===e.options.chaptersLanguage});T=T||l.find(function(p){return p.srclang===S.default.lang}),this.drawChapters(1!==l.length&&T?T.trackId:l[0].trackId)}},setTrack:function(e,t){for(var l=this,T=l.captionsButton.querySelectorAll('input[type="radio"]'),p=l.captionsButton.querySelectorAll("."+l.options.classPrefix+"captions-selected"),E=l.captionsButton.querySelector('input[value="'+e+'"]'),b=0;b<T.length;b++)T[b].checked=!1;for(var x=0;x<p.length;x++)(0,c.removeClass)(p[x],l.options.classPrefix+"captions-selected");E.checked=!0;for(var A=(0,c.siblings)(E,function(j){return(0,c.hasClass)(j,l.options.classPrefix+"captions-selector-label")}),_=0;_<A.length;_++)(0,c.addClass)(A[_],l.options.classPrefix+"captions-selected");if("none"===e)l.selectedTrack=null,(0,c.removeClass)(l.captionsButton,l.options.classPrefix+"captions-enabled"),l.deactivateVideoTracks();else{var O=l.getTrackById(e);O&&(null===l.selectedTrack&&(0,c.addClass)(l.captionsButton,l.options.classPrefix+"captions-enabled"),l.selectedTrack=O,l.activateVideoTrack(l.selectedTrack.srclang))}var G=(0,d.createEvent)("captionschange",l.media);G.detail.caption=l.selectedTrack,l.media.dispatchEvent(G),t||setTimeout(function(){l.getElement(l.container).focus()},500)},hideAllTracks:function(){if(this.domNode.textTracks)for(var e=0;e<this.domNode.textTracks.length;e++)this.domNode.textTracks[e].mode="hidden"},deactivateVideoTracks:function(){if(this.domNode.textTracks)for(var e=0;e<this.domNode.textTracks.length;e++){var t=this.domNode.textTracks[e];("subtitles"===t.kind||"captions"===t.kind)&&(t.mode="hidden")}},activateVideoTrack:function(e){for(var t=0;t<this.domNode.textTracks.length;t++){var l=this.domNode.textTracks[t];("subtitles"===l.kind||"captions"===l.kind)&&(l.mode=l.language===e?"showing":"hidden")}},checkForAutoPlay:function(){var e=this,t=this.getSubtitles().filter(function(p){return!p.isError}),l=t.find(function(p){return e.options.autoplayCaptionLanguage===p.srclang})||t.find(function(p){return p.isDefault});if(l)if(this.options.toggleCaptionsButtonWhenOnlyOne&&1===t.length&&this.captionsButton)this.captionsButton.dispatchEvent((0,d.createEvent)("click",this.captionsButton));else{var T=Pe.default.getElementById(l.trackId+"-btn");T&&(T.checked=!0,T.dispatchEvent((0,d.createEvent)("click",T)))}},enableTrackButton:function(e){var t=this,l=e.srclang,T=Pe.default.getElementById(e.trackId+"-btn");if(T){var p=e.label;""===p&&(p=S.default.t(D.default.language.codes[l])||l),T.disabled=!1;for(var E=(0,c.siblings)(T,function(x){return(0,c.hasClass)(x,t.options.classPrefix+"captions-selector-label")}),b=0;b<E.length;b++)E[b].innerHTML=p}},removeTrackButton:function(e){var t=Pe.default.getElementById(e.trackId+"-btn");if(t){var l=t.closest("li");l&&l.remove()}},addTrackButton:function(e){var t=this,l=e.label||S.default.t(D.default.language.codes[e.srclang])||e.srclang;t.captionsButton.querySelector("ul").innerHTML+='<li class="'+t.options.classPrefix+'captions-selector-list-item"><input type="radio" class="'+t.options.classPrefix+'captions-selector-input" name="'+t.id+'_captions" id="'+e.trackId+'-btn" value="'+e.trackId+'" disabled><label class="'+t.options.classPrefix+'captions-selector-label"for="'+e.trackId+'">'+l+" (loading)</label></li>"},removeCaptionsIfEmpty:function(){if(this.captionsButton&&this.options.hideCaptionsButtonWhenEmpty){var e=this.getSubtitles().filter(function(t){return!t.isError}).length;this.captionsButton.style.display=e>0?"":"none",this.setControlsSize()}},drawChapters:function(e){var t=this,l=this.domNode.textTracks.getTrackById(e),T=l.cues.length;if(T){t.chaptersButton.querySelector("ul").innerHTML="";for(var p=0;p<T;p++)t.chaptersButton.querySelector("ul").innerHTML+='<li class="'+t.options.classPrefix+'chapters-selector-list-item" role="menuitemcheckbox" aria-live="polite" aria-disabled="false" aria-checked="false"><input type="radio" class="'+t.options.classPrefix+'captions-selector-input" name="'+t.id+'_chapters" id="'+t.id+"_chapters_"+p+'" value="'+l.cues[p].startTime+'" disabled><label class="'+t.options.classPrefix+'chapters-selector-label"for="'+t.id+"_chapters_"+p+'">'+l.cues[p].text+"</label></li>";for(var E=t.chaptersButton.querySelectorAll('input[type="radio"]'),b=t.chaptersButton.querySelectorAll("."+t.options.classPrefix+"chapters-selector-label"),x=0;x<E.length;x++)E[x].disabled=!1,E[x].checked=!1,E[x].addEventListener("click",function(_){var O=this,G=t.chaptersButton.querySelectorAll("li"),j=(0,c.siblings)(O,function(g){return(0,c.hasClass)(g,t.options.classPrefix+"chapters-selector-label")})[0];O.checked=!0,O.parentNode.setAttribute("aria-checked",!0),(0,c.addClass)(j,t.options.classPrefix+"chapters-selected"),(0,c.removeClass)(t.chaptersButton.querySelector("."+t.options.classPrefix+"chapters-selected"),t.options.classPrefix+"chapters-selected");for(var ae=0;ae<G.length;ae++)G[ae].setAttribute("aria-checked",!1);typeof(_.keyCode||_.which)>"u"&&setTimeout(function(){t.getElement(t.container).focus()},500),t.media.setCurrentTime(parseFloat(O.value)),t.media.paused&&t.media.play()});for(var A=0;A<b.length;A++)b[A].addEventListener("click",function(_){var O=(0,c.siblings)(this,function(j){return"INPUT"===j.tagName})[0],G=(0,d.createEvent)("click",O);O.dispatchEvent(G),_.preventDefault()})}},getTrackById:function(e){return this.tracks.find(function(t){return t.trackId===e})},getChapters:function(){return this.tracks.filter(function(e){return"chapters"===e.kind})},getSubtitles:function(){return this.tracks.filter(function(e){var t=e.kind;return"subtitles"===t||"captions"===t})},searchTrackPosition:function(e,t){for(var l=0,T=e.length-1,p=void 0,E=void 0;l<=T;){if(t>=(E=e[p=l+T>>1].start)&&t<e[p].stop)return p;E<t?l=p+1:E>t&&(T=p-1)}return-1}}),D.default.language={codes:{af:"mejs.afrikaans",sq:"mejs.albanian",ar:"mejs.arabic",be:"mejs.belarusian",bg:"mejs.bulgarian",ca:"mejs.catalan",zh:"mejs.chinese","zh-cn":"mejs.chinese-simplified","zh-tw":"mejs.chines-traditional",hr:"mejs.croatian",cs:"mejs.czech",da:"mejs.danish",nl:"mejs.dutch",en:"mejs.english",et:"mejs.estonian",fl:"mejs.filipino",fi:"mejs.finnish",fr:"mejs.french",gl:"mejs.galician",de:"mejs.german",el:"mejs.greek",ht:"mejs.haitian-creole",iw:"mejs.hebrew",hi:"mejs.hindi",hu:"mejs.hungarian",is:"mejs.icelandic",id:"mejs.indonesian",ga:"mejs.irish",it:"mejs.italian",ja:"mejs.japanese",ko:"mejs.korean",lv:"mejs.latvian",lt:"mejs.lithuanian",mk:"mejs.macedonian",ms:"mejs.malay",mt:"mejs.maltese",no:"mejs.norwegian",fa:"mejs.persian",pl:"mejs.polish",pt:"mejs.portuguese",ro:"mejs.romanian",ru:"mejs.russian",sr:"mejs.serbian",sk:"mejs.slovak",sl:"mejs.slovenian",es:"mejs.spanish",sw:"mejs.swahili",sv:"mejs.swedish",tl:"mejs.tagalog",th:"mejs.thai",tr:"mejs.turkish",uk:"mejs.ukrainian",vi:"mejs.vietnamese",cy:"mejs.welsh",yi:"mejs.yiddish"}}},{17:17,2:2,27:27,28:28,29:29,6:6,8:8}],15:[function(ut,ln,at){"use strict";var Pe=i(ut(2)),Ie=ut(17),D=i(Ie),S=i(ut(6)),r=ut(26),n=ut(28),d=ut(27),c=ut(29);function i(o){return o&&o.__esModule?o:{default:o}}Object.assign(Ie.config,{muteText:null,unmuteText:null,allyVolumeControlText:null,hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical",startVolume:.8}),Object.assign(D.default.prototype,{buildvolume:function(y,e,t,l){if(!r.IS_ANDROID&&!r.IS_IOS||!this.options.hideVolumeOnTouchDevices){var T=this,p=T.isVideo?T.options.videoVolume:T.options.audioVolume,E=(0,n.isString)(T.options.muteText)?T.options.muteText:S.default.t("mejs.mute"),b=(0,n.isString)(T.options.unmuteText)?T.options.unmuteText:S.default.t("mejs.unmute"),x=(0,n.isString)(T.options.allyVolumeControlText)?T.options.allyVolumeControlText:S.default.t("mejs.volume-help-text"),A=Pe.default.createElement("div");if(A.className=T.options.classPrefix+"button "+T.options.classPrefix+"volume-button "+T.options.classPrefix+"mute",A.innerHTML="horizontal"===p?(0,c.generateControlButton)(T.id,E,E,""+T.media.options.iconSprite,["icon-mute","icon-unmute"],""+T.options.classPrefix,"",T.options.classPrefix+"horizontal-volume-slider"):(0,c.generateControlButton)(T.id,E,E,""+T.media.options.iconSprite,["icon-mute","icon-unmute"],""+T.options.classPrefix,"",T.options.classPrefix+"volume-slider")+'<a class="'+T.options.classPrefix+'volume-slider" aria-label="'+S.default.t("mejs.volume-slider")+'" aria-valuemin="0" aria-valuemax="100" role="slider" aria-orientation="vertical"><span class="'+T.options.classPrefix+'offscreen" id="'+T.options.classPrefix+'volume-slider">'+x+'</span><div class="'+T.options.classPrefix+'volume-total"><div class="'+T.options.classPrefix+'volume-current"></div><div class="'+T.options.classPrefix+'volume-handle"></div></div></a>',T.addControlElement(A,"volume"),T.options.keyActions.push({keys:[38],action:function(we){var ce=we.getElement(we.container).querySelector("."+T.options.classPrefix+"volume-slider");ce&&ce.matches(":focus")&&(ce.style.display="block"),we.isVideo&&(we.showControls(),we.startControlsTimer());var Oe=Math.min(we.volume+.1,1);we.setVolume(Oe),Oe>0&&we.setMuted(!1)}},{keys:[40],action:function(we){var ce=we.getElement(we.container).querySelector("."+T.options.classPrefix+"volume-slider");ce&&(ce.style.display="block"),we.isVideo&&(we.showControls(),we.startControlsTimer());var Oe=Math.max(we.volume-.1,0);we.setVolume(Oe),Oe<=.1&&we.setMuted(!0)}},{keys:[77],action:function(we){var ce=we.getElement(we.container).querySelector("."+T.options.classPrefix+"volume-slider");ce&&(ce.style.display="block"),we.isVideo&&(we.showControls(),we.startControlsTimer()),we.setMuted(!we.media.muted)}}),"horizontal"===p){var _=Pe.default.createElement("a");_.className=T.options.classPrefix+"horizontal-volume-slider",_.setAttribute("aria-label",S.default.t("mejs.volume-slider")),_.setAttribute("aria-valuemin",0),_.setAttribute("aria-valuemax",100),_.setAttribute("aria-valuenow",100),_.setAttribute("role","slider"),_.innerHTML+='<span class="'+T.options.classPrefix+'offscreen" id="'+T.options.classPrefix+'horizontal-volume-slider">'+x+'</span><div class="'+T.options.classPrefix+'horizontal-volume-total"><div class="'+T.options.classPrefix+'horizontal-volume-current"></div><div class="'+T.options.classPrefix+'horizontal-volume-handle"></div></div>',A.parentNode.insertBefore(_,A.nextSibling)}var O=!1,G=!1,j=!1,pe="vertical"===p?T.getElement(T.container).querySelector("."+T.options.classPrefix+"volume-slider"):T.getElement(T.container).querySelector("."+T.options.classPrefix+"horizontal-volume-slider"),g="vertical"===p?T.getElement(T.container).querySelector("."+T.options.classPrefix+"volume-total"):T.getElement(T.container).querySelector("."+T.options.classPrefix+"horizontal-volume-total"),ue="vertical"===p?T.getElement(T.container).querySelector("."+T.options.classPrefix+"volume-current"):T.getElement(T.container).querySelector("."+T.options.classPrefix+"horizontal-volume-current"),w="vertical"===p?T.getElement(T.container).querySelector("."+T.options.classPrefix+"volume-handle"):T.getElement(T.container).querySelector("."+T.options.classPrefix+"horizontal-volume-handle"),ie=function(we){if(null!==we&&!isNaN(we)&&void 0!==we){if(we=Math.max(0,we),0===(we=Math.min(we,1))){(0,d.removeClass)(A,T.options.classPrefix+"mute"),(0,d.addClass)(A,T.options.classPrefix+"unmute");var ce=A.firstElementChild;ce.setAttribute("title",b),ce.setAttribute("aria-label",b)}else{(0,d.removeClass)(A,T.options.classPrefix+"unmute"),(0,d.addClass)(A,T.options.classPrefix+"mute");var Oe=A.firstElementChild;Oe.setAttribute("title",E),Oe.setAttribute("aria-label",E)}var qe=100*we+"%",Ne=getComputedStyle(w);"vertical"===p?(ue.style.bottom=0,ue.style.height=qe,w.style.bottom=qe,w.style.marginBottom=-parseFloat(Ne.height)/2+"px"):(ue.style.left=0,ue.style.width=qe,w.style.left=qe,w.style.marginLeft=-parseFloat(Ne.width)/2+"px")}},ee=function(we){var ce=(0,d.offset)(g),Oe=getComputedStyle(g);j=!0;var qe=null;if("vertical"===p){var Ne=parseFloat(Oe.height);if(qe=(Ne-(we.pageY-ce.top))/Ne,0===ce.top||0===ce.left)return}else{var se=parseFloat(Oe.width);qe=(we.pageX-ce.left)/se}qe=Math.max(0,qe),qe=Math.min(qe,1),ie(qe),T.setMuted(0===qe),T.setVolume(qe),we.preventDefault(),we.stopPropagation()},le=function(){T.muted?(ie(0),(0,d.removeClass)(A,T.options.classPrefix+"mute"),(0,d.addClass)(A,T.options.classPrefix+"unmute")):(ie(l.volume),(0,d.removeClass)(A,T.options.classPrefix+"unmute"),(0,d.addClass)(A,T.options.classPrefix+"mute"))};y.getElement(y.container).addEventListener("keydown",function(Re){!Re.target.closest("."+T.options.classPrefix+"container")&&"vertical"===p&&(pe.style.display="none")}),A.addEventListener("mouseenter",function(Re){Re.target===A&&(pe.style.display="block",G=!0,Re.preventDefault(),Re.stopPropagation())}),A.addEventListener("focusin",function(){pe.style.display="block",G=!0}),A.addEventListener("focusout",function(Re){(!Re.relatedTarget||Re.relatedTarget&&!Re.relatedTarget.matches("."+T.options.classPrefix+"volume-slider"))&&"vertical"===p&&(pe.style.display="none")}),A.addEventListener("mouseleave",function(){G=!1,!O&&"vertical"===p&&(pe.style.display="none")}),A.addEventListener("focusout",function(){G=!1}),A.addEventListener("keydown",function(Re){if(T.options.enableKeyboard&&T.options.keyActions.length){var ce=l.volume;switch(Re.which||Re.keyCode||0){case 38:ce=Math.min(ce+.1,1);break;case 40:ce=Math.max(0,ce-.1);break;default:return!0}O=!1,ie(ce),l.setVolume(ce),Re.preventDefault(),Re.stopPropagation()}}),A.querySelector("button").addEventListener("click",function(){l.setMuted(!l.muted);var Re=(0,n.createEvent)("volumechange",l);l.dispatchEvent(Re)}),pe.addEventListener("dragstart",function(){return!1}),pe.addEventListener("mouseover",function(){G=!0}),pe.addEventListener("focusin",function(){pe.style.display="block",G=!0}),pe.addEventListener("focusout",function(){G=!1,!O&&"vertical"===p&&(pe.style.display="none")}),pe.addEventListener("mousedown",function(Re){ee(Re),T.globalBind("mousemove.vol",function(we){var ce=we.target;O&&(ce===pe||ce.closest("vertical"===p?"."+T.options.classPrefix+"volume-slider":"."+T.options.classPrefix+"horizontal-volume-slider"))&&ee(we)}),T.globalBind("mouseup.vol",function(){O=!1,!G&&"vertical"===p&&(pe.style.display="none")}),O=!0,Re.preventDefault(),Re.stopPropagation()}),l.addEventListener("volumechange",function(Re){var we;O||le(),we=Math.floor(100*l.volume),pe.setAttribute("aria-valuenow",we),pe.setAttribute("aria-valuetext",we+"%")});var be=!1;l.addEventListener("rendererready",function(){j||setTimeout(function(){be=!0,(0===y.options.startVolume||l.originalNode.muted)&&l.setMuted(!0),l.setVolume(y.options.startVolume),T.setControlsSize()},250)}),l.addEventListener("loadedmetadata",function(){setTimeout(function(){!j&&!be&&((0===y.options.startVolume||l.originalNode.muted)&&l.setMuted(!0),0===y.options.startVolume&&(y.options.startVolume=0),l.setVolume(y.options.startVolume),T.setControlsSize()),be=!1},250)}),(0===y.options.startVolume||l.originalNode.muted)&&(l.setMuted(!0),0===y.options.startVolume&&(y.options.startVolume=0),le()),T.getElement(T.container).addEventListener("controlsresize",function(){le()})}}})},{17:17,2:2,26:26,27:27,28:28,29:29,6:6}],16:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0}),at.EN={"mejs.plural-form":1,"mejs.download-file":"Download File","mejs.install-flash":"You are using a browser that does not have Flash player enabled or installed. Please turn on your Flash player plugin or download the latest version from https://get.adobe.com/flashplayer/","mejs.fullscreen":"Fullscreen","mejs.play":"Play","mejs.pause":"Pause","mejs.time-slider":"Time Slider","mejs.time-help-text":"Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.","mejs.live-broadcast":"Live Broadcast","mejs.volume-help-text":"Use Up/Down Arrow keys to increase or decrease volume.","mejs.unmute":"Unmute","mejs.mute":"Mute","mejs.volume-slider":"Volume Slider","mejs.video-player":"Video Player","mejs.audio-player":"Audio Player","mejs.captions-subtitles":"Captions/Subtitles","mejs.captions-chapters":"Chapters","mejs.none":"None","mejs.afrikaans":"Afrikaans","mejs.albanian":"Albanian","mejs.arabic":"Arabic","mejs.belarusian":"Belarusian","mejs.bulgarian":"Bulgarian","mejs.catalan":"Catalan","mejs.chinese":"Chinese","mejs.chinese-simplified":"Chinese (Simplified)","mejs.chinese-traditional":"Chinese (Traditional)","mejs.croatian":"Croatian","mejs.czech":"Czech","mejs.danish":"Danish","mejs.dutch":"Dutch","mejs.english":"English","mejs.estonian":"Estonian","mejs.filipino":"Filipino","mejs.finnish":"Finnish","mejs.french":"French","mejs.galician":"Galician","mejs.german":"German","mejs.greek":"Greek","mejs.haitian-creole":"Haitian Creole","mejs.hebrew":"Hebrew","mejs.hindi":"Hindi","mejs.hungarian":"Hungarian","mejs.icelandic":"Icelandic","mejs.indonesian":"Indonesian","mejs.irish":"Irish","mejs.italian":"Italian","mejs.japanese":"Japanese","mejs.korean":"Korean","mejs.latvian":"Latvian","mejs.lithuanian":"Lithuanian","mejs.macedonian":"Macedonian","mejs.malay":"Malay","mejs.maltese":"Maltese","mejs.norwegian":"Norwegian","mejs.persian":"Persian","mejs.polish":"Polish","mejs.portuguese":"Portuguese","mejs.romanian":"Romanian","mejs.russian":"Russian","mejs.serbian":"Serbian","mejs.slovak":"Slovak","mejs.slovenian":"Slovenian","mejs.spanish":"Spanish","mejs.swahili":"Swahili","mejs.swedish":"Swedish","mejs.tagalog":"Tagalog","mejs.thai":"Thai","mejs.turkish":"Turkish","mejs.ukrainian":"Ukrainian","mejs.vietnamese":"Vietnamese","mejs.welsh":"Welsh","mejs.yiddish":"Yiddish"}},{}],17:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0}),at.config=void 0;var Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ae){return typeof ae}:function(ae){return ae&&"function"==typeof Symbol&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},Pe=function(){function ae(pe,g){for(var ue=0;ue<g.length;ue++){var w=g[ue];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(pe,w.key,w)}}return function(pe,g,ue){return g&&ae(pe.prototype,g),ue&&ae(pe,ue),pe}}(),D=_(ut(3)),S=_(ut(2)),n=_(ut(8)),c=_(ut(7)),o=_(ut(18)),e=_(ut(6)),t=ut(26),l=ut(28),T=ut(32),p=ut(30),b=function A(ae){if(ae&&ae.__esModule)return ae;var pe={};if(null!=ae)for(var g in ae)Object.prototype.hasOwnProperty.call(ae,g)&&(pe[g]=ae[g]);return pe.default=ae,pe}(ut(27)),x=ut(29);function _(ae){return ae&&ae.__esModule?ae:{default:ae}}n.default.mepIndex=0,n.default.players={};var G=at.config={poster:"",showPosterWhenEnded:!1,showPosterWhenPaused:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:40,defaultSeekBackwardInterval:function(pe){return.05*pe.getDuration()},defaultSeekForwardInterval:function(pe){return.05*pe.getDuration()},setDimensions:!0,audioWidth:-1,audioHeight:-1,loop:!1,autoRewind:!0,enableAutosize:!0,timeFormat:"",alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,hideVideoControlsOnPause:!1,clickToPlayPause:!0,controlsTimeoutDefault:1500,controlsTimeoutMouseEnter:2500,controlsTimeoutMouseLeave:1e3,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],useDefaultControls:!1,isVideo:!0,stretching:"auto",classPrefix:"mejs__",enableKeyboard:!0,pauseOtherPlayers:!0,secondsDecimalLength:0,customError:null,keyActions:[],hideScreenReaderTitle:!1};n.default.MepDefaults=G;var j=function(){function ae(pe,g){!function O(ae,pe){if(!(ae instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,ae);var ue=this,w="string"==typeof pe?S.default.getElementById(pe):pe;if(!(ue instanceof ae))return new ae(w,g);if(ue.node=ue.media=w,ue.node){if(ue.media.player)return ue.media.player;if(ue.hasFocus=!1,ue.controlsAreVisible=!0,ue.controlsEnabled=!0,ue.controlsTimer=null,ue.currentMediaTime=0,ue.proxy=null,void 0===g){var ie=ue.node.getAttribute("data-mejsoptions");g=ie?JSON.parse(ie):{}}return ue.options=Object.assign({},G,g),ue.options.loop&&!ue.media.getAttribute("loop")?(ue.media.loop=!0,ue.node.loop=!0):ue.media.loop&&(ue.options.loop=!0),ue.options.timeFormat||(ue.options.timeFormat="mm:ss",ue.options.alwaysShowHours&&(ue.options.timeFormat="hh:mm:ss"),ue.options.showTimecodeFrameCount&&(ue.options.timeFormat+=":ff")),(0,T.calculateTimeFormat)(0,ue.options,ue.options.framesPerSecond||25),ue.id="mep_"+n.default.mepIndex++,n.default.players[ue.id]=ue,ue.init(),ue}}return Pe(ae,[{key:"getElement",value:function(g){return g}},{key:"init",value:function(){var g=this,ue=Object.assign({},g.options,{success:function(Oe,qe){g._meReady(Oe,qe)},error:function(Oe){g._handleError(Oe)}}),w=g.node.tagName.toLowerCase();if(g.isDynamic="audio"!==w&&"video"!==w&&"iframe"!==w,g.isVideo=(g.isDynamic||"audio"!==w)&&g.options.isVideo,g.mediaFiles=null,g.trackFiles=null,t.IS_IPAD&&g.options.iPadUseNativeControls||t.IS_IPHONE&&g.options.iPhoneUseNativeControls)g.node.setAttribute("controls",!0),t.IS_IPAD&&g.node.getAttribute("autoplay")&&g.play();else if(!g.isVideo&&(g.isVideo||!g.options.features.length&&!g.options.useDefaultControls)||t.IS_ANDROID&&g.options.AndroidUseNativeControls)!g.isVideo&&!g.options.features.length&&!g.options.useDefaultControls&&(g.node.style.display="none");else{g.node.removeAttribute("controls");var ie=e.default.t(g.isVideo?"mejs.video-player":"mejs.audio-player");if(!g.options.hideScreenReaderTitle){var ee=S.default.createElement("span");ee.className=g.options.classPrefix+"offscreen",ee.innerText=ie,g.media.parentNode.insertBefore(ee,g.media)}if(g.container=S.default.createElement("div"),g.getElement(g.container).id=g.id,g.getElement(g.container).className=g.options.classPrefix+"container "+g.options.classPrefix+"container-keyboard-inactive "+g.media.className,g.getElement(g.container).tabIndex=0,g.getElement(g.container).setAttribute("role","application"),g.getElement(g.container).setAttribute("aria-label",ie),g.getElement(g.container).innerHTML='<div class="'+g.options.classPrefix+'inner"><div class="'+g.options.classPrefix+'mediaelement"></div><div class="'+g.options.classPrefix+'layers"></div><div class="'+g.options.classPrefix+'controls"></div></div>',g.getElement(g.container).addEventListener("focus",function(ce){if(!g.controlsAreVisible&&!g.hasFocus&&g.controlsEnabled){g.showControls(!0);var Oe=(0,l.isNodeAfter)(ce.relatedTarget,g.getElement(g.container))?"."+g.options.classPrefix+"controls ."+g.options.classPrefix+"button:last-child > button":"."+g.options.classPrefix+"playpause-button > button";g.getElement(g.container).querySelector(Oe).focus()}}),g.node.parentNode.insertBefore(g.getElement(g.container),g.node),!g.options.features.length&&!g.options.useDefaultControls&&(g.getElement(g.container).style.background="transparent",g.getElement(g.container).querySelector("."+g.options.classPrefix+"controls").style.display="none"),g.isVideo&&"fill"===g.options.stretching&&!b.hasClass(g.getElement(g.container).parentNode,g.options.classPrefix+"fill-container")){g.outerContainer=g.media.parentNode;var le=S.default.createElement("div");le.className=g.options.classPrefix+"fill-container",g.getElement(g.container).parentNode.insertBefore(le,g.getElement(g.container)),le.appendChild(g.getElement(g.container))}t.IS_ANDROID&&b.addClass(g.getElement(g.container),g.options.classPrefix+"android"),t.IS_IOS&&b.addClass(g.getElement(g.container),g.options.classPrefix+"ios"),t.IS_IPAD&&b.addClass(g.getElement(g.container),g.options.classPrefix+"ipad"),t.IS_IPHONE&&b.addClass(g.getElement(g.container),g.options.classPrefix+"iphone"),b.addClass(g.getElement(g.container),g.isVideo?g.options.classPrefix+"video":g.options.classPrefix+"audio"),g.getElement(g.container).querySelector("."+g.options.classPrefix+"mediaelement").appendChild(g.node),g.media.player=g,g.controls=g.getElement(g.container).querySelector("."+g.options.classPrefix+"controls"),g.layers=g.getElement(g.container).querySelector("."+g.options.classPrefix+"layers");var be=g.isVideo?"video":"audio",Re=be.substring(0,1).toUpperCase()+be.substring(1);g.width=g.options[be+"Width"]>0||g.options[be+"Width"].toString().indexOf("%")>-1?g.options[be+"Width"]:""!==g.node.style.width&&null!==g.node.style.width?g.node.style.width:g.node.getAttribute("width")?g.node.getAttribute("width"):g.options["default"+Re+"Width"],g.height=g.options[be+"Height"]>0||g.options[be+"Height"].toString().indexOf("%")>-1?g.options[be+"Height"]:""!==g.node.style.height&&null!==g.node.style.height?g.node.style.height:g.node.getAttribute("height")?g.node.getAttribute("height"):g.options["default"+Re+"Height"],g.initialAspectRatio=g.height>=g.width?g.width/g.height:g.height/g.width,g.setPlayerSize(g.width,g.height)}if(ue.pluginWidth=g.width,ue.pluginHeight=g.height,n.default.MepDefaults=ue,new c.default(g.media,ue,g.mediaFiles),void 0!==g.getElement(g.container)&&g.options.features.length&&g.controlsAreVisible&&!g.options.hideVideoControlsOnLoad){var we=(0,l.createEvent)("controlsshown",g.getElement(g.container));g.getElement(g.container).dispatchEvent(we)}}},{key:"showControls",value:function(g){var ue=this;if(g=void 0===g||g,!ue.controlsAreVisible&&ue.isVideo){if(g)!function(){b.fadeIn(ue.getElement(ue.controls),200,function(){b.removeClass(ue.getElement(ue.controls),ue.options.classPrefix+"offscreen");var Oe=(0,l.createEvent)("controlsshown",ue.getElement(ue.container));ue.getElement(ue.container).dispatchEvent(Oe)});for(var be=ue.getElement(ue.container).querySelectorAll("."+ue.options.classPrefix+"control"),Re=function(qe,Ne){b.fadeIn(be[qe],200,function(){b.removeClass(be[qe],ue.options.classPrefix+"offscreen")})},we=0,ce=be.length;we<ce;we++)Re(we)}();else{b.removeClass(ue.getElement(ue.controls),ue.options.classPrefix+"offscreen"),ue.getElement(ue.controls).style.display="",ue.getElement(ue.controls).style.opacity=1;for(var w=ue.getElement(ue.container).querySelectorAll("."+ue.options.classPrefix+"control"),ie=0,ee=w.length;ie<ee;ie++)b.removeClass(w[ie],ue.options.classPrefix+"offscreen"),w[ie].style.display="";var le=(0,l.createEvent)("controlsshown",ue.getElement(ue.container));ue.getElement(ue.container).dispatchEvent(le)}ue.controlsAreVisible=!0,ue.setControlsSize()}}},{key:"hideControls",value:function(g,ue){var w=this;if(g=void 0===g||g,!0===ue||!(!w.controlsAreVisible||w.options.alwaysShowControls||w.paused&&4===w.readyState&&(!w.options.hideVideoControlsOnLoad&&w.currentTime<=0||!w.options.hideVideoControlsOnPause&&w.currentTime>0)||w.isVideo&&!w.options.hideVideoControlsOnLoad&&!w.readyState||w.ended)){if(g)!function(){b.fadeOut(w.getElement(w.controls),200,function(){b.addClass(w.getElement(w.controls),w.options.classPrefix+"offscreen"),w.getElement(w.controls).style.display="";var qe=(0,l.createEvent)("controlshidden",w.getElement(w.container));w.getElement(w.container).dispatchEvent(qe)});for(var Re=w.getElement(w.container).querySelectorAll("."+w.options.classPrefix+"control"),we=function(Ne,Be){b.fadeOut(Re[Ne],200,function(){b.addClass(Re[Ne],w.options.classPrefix+"offscreen"),Re[Ne].style.display=""})},ce=0,Oe=Re.length;ce<Oe;ce++)we(ce)}();else{b.addClass(w.getElement(w.controls),w.options.classPrefix+"offscreen"),w.getElement(w.controls).style.display="",w.getElement(w.controls).style.opacity=0;for(var ie=w.getElement(w.container).querySelectorAll("."+w.options.classPrefix+"control"),ee=0,le=ie.length;ee<le;ee++)b.addClass(ie[ee],w.options.classPrefix+"offscreen"),ie[ee].style.display="";var be=(0,l.createEvent)("controlshidden",w.getElement(w.container));w.getElement(w.container).dispatchEvent(be)}w.controlsAreVisible=!1}}},{key:"startControlsTimer",value:function(g){var ue=this;g=typeof g<"u"?g:ue.options.controlsTimeoutDefault,ue.killControlsTimer("start"),ue.controlsTimer=setTimeout(function(){ue.hideControls(),ue.killControlsTimer("hide")},g)}},{key:"killControlsTimer",value:function(){var g=this;null!==g.controlsTimer&&(clearTimeout(g.controlsTimer),delete g.controlsTimer,g.controlsTimer=null)}},{key:"disableControls",value:function(){var g=this;g.killControlsTimer(),g.controlsEnabled=!1,g.hideControls(!1,!0)}},{key:"enableControls",value:function(){this.controlsEnabled=!0,this.showControls(!1)}},{key:"_setDefaultPlayer",value:function(){var g=this;g.proxy&&g.proxy.pause(),g.proxy=new o.default(g),g.media.addEventListener("loadedmetadata",function(){g.getCurrentTime()>0&&g.currentMediaTime>0&&(g.setCurrentTime(g.currentMediaTime),!t.IS_IOS&&!t.IS_ANDROID&&g.play())})}},{key:"_meReady",value:function(g,ue){var w=this,ie=ue.getAttribute("autoplay"),ee=!(null==ie||"false"===ie),le=null!==g.rendererName&&/(native|html5)/i.test(g.rendererName);if(w.getElement(w.controls)&&w.enableControls(),w.getElement(w.container)&&w.getElement(w.container).querySelector("."+w.options.classPrefix+"overlay-play")&&(w.getElement(w.container).querySelector("."+w.options.classPrefix+"overlay-play").style.display=""),!w.created){if(w.created=!0,w.media=g,w.domNode=ue,!(t.IS_ANDROID&&w.options.AndroidUseNativeControls||t.IS_IPAD&&w.options.iPadUseNativeControls||t.IS_IPHONE&&w.options.iPhoneUseNativeControls)){if(!w.isVideo&&!w.options.features.length&&!w.options.useDefaultControls)return ee&&le&&w.play(),void(w.options.success&&("string"==typeof w.options.success?D.default[w.options.success](w.media,w.domNode,w):w.options.success(w.media,w.domNode,w)));if(w.featurePosition={},w._setDefaultPlayer(),w.buildposter(w,w.getElement(w.controls),w.getElement(w.layers),w.media),w.buildkeyboard(w,w.getElement(w.controls),w.getElement(w.layers),w.media),w.buildoverlays(w,w.getElement(w.controls),w.getElement(w.layers),w.media),w.options.useDefaultControls){var be=["playpause","current","progress","duration","tracks","volume","fullscreen"];w.options.features=be.concat(w.options.features.filter(function(ce){return-1===be.indexOf(ce)}))}w.buildfeatures(w,w.getElement(w.controls),w.getElement(w.layers),w.media);var Re=(0,l.createEvent)("controlsready",w.getElement(w.container));w.getElement(w.container).dispatchEvent(Re),w.setPlayerSize(w.width,w.height),w.setControlsSize(),w.isVideo&&(w.clickToPlayPauseCallback=function(){if(w.options.clickToPlayPause){var ce=w.getElement(w.container).querySelector("."+w.options.classPrefix+"overlay-button"),Oe=ce.getAttribute("aria-pressed");w.paused&&Oe?w.pause():w.paused?w.play():w.pause(),ce.setAttribute("aria-pressed",!Oe),w.getElement(w.container).focus()}},w.createIframeLayer(),w.media.addEventListener("click",w.clickToPlayPauseCallback),!t.IS_ANDROID&&!t.IS_IOS||w.options.alwaysShowControls?(w.getElement(w.container).addEventListener("mouseenter",function(){w.controlsEnabled&&(w.options.alwaysShowControls||(w.killControlsTimer("enter"),w.showControls(),w.startControlsTimer(w.options.controlsTimeoutMouseEnter)))}),w.getElement(w.container).addEventListener("mousemove",function(){w.controlsEnabled&&(w.controlsAreVisible||w.showControls(),w.options.alwaysShowControls||w.startControlsTimer(w.options.controlsTimeoutMouseEnter))}),w.getElement(w.container).addEventListener("mouseleave",function(){w.controlsEnabled&&!w.paused&&!w.options.alwaysShowControls&&w.startControlsTimer(w.options.controlsTimeoutMouseLeave)})):w.node.addEventListener("touchstart",function(){w.controlsAreVisible?w.hideControls(!1):w.controlsEnabled&&w.showControls(!1)},!!t.SUPPORT_PASSIVE_EVENT&&{passive:!0}),w.options.hideVideoControlsOnLoad&&w.hideControls(!1),w.options.enableAutosize&&w.media.addEventListener("loadedmetadata",function(ce){var Oe=void 0!==ce?ce.detail.target||ce.target:w.media;w.options.videoHeight<=0&&!w.domNode.getAttribute("height")&&!w.domNode.style.height&&null!==Oe&&!isNaN(Oe.videoHeight)&&(w.setPlayerSize(Oe.videoWidth,Oe.videoHeight),w.setControlsSize(),w.media.setSize(Oe.videoWidth,Oe.videoHeight))})),w.media.addEventListener("play",function(){for(var ce in w.hasFocus=!0,n.default.players)if(n.default.players.hasOwnProperty(ce)){var Oe=n.default.players[ce];Oe.id!==w.id&&w.options.pauseOtherPlayers&&!Oe.paused&&!Oe.ended&&!0!==Oe.options.ignorePauseOtherPlayersOption&&(Oe.pause(),Oe.hasFocus=!1)}!t.IS_ANDROID&&!t.IS_IOS&&!w.options.alwaysShowControls&&w.isVideo&&w.hideControls()}),w.media.addEventListener("ended",function(){if(w.options.autoRewind)try{w.setCurrentTime(0),setTimeout(function(){var ce=w.getElement(w.container).querySelector("."+w.options.classPrefix+"overlay-loading");ce&&ce.parentNode&&(ce.parentNode.style.display="none")},20)}catch{}"function"==typeof w.media.renderer.stop?w.media.renderer.stop():w.pause(),w.setProgressRail&&w.setProgressRail(),w.setCurrentRail&&w.setCurrentRail(),w.options.loop?w.play():!w.options.alwaysShowControls&&w.controlsEnabled&&w.showControls()}),w.media.addEventListener("loadedmetadata",function(){(0,T.calculateTimeFormat)(w.getDuration(),w.options,w.options.framesPerSecond||25),w.updateDuration&&w.updateDuration(),w.updateCurrent&&w.updateCurrent(),w.isFullScreen||(w.setPlayerSize(w.width,w.height),w.setControlsSize())});var we=null;w.media.addEventListener("timeupdate",function(){!isNaN(w.getDuration())&&we!==w.getDuration()&&(we=w.getDuration(),(0,T.calculateTimeFormat)(we,w.options,w.options.framesPerSecond||25),w.updateDuration&&w.updateDuration(),w.updateCurrent&&w.updateCurrent(),w.setControlsSize())}),w.getElement(w.container).addEventListener("click",function(ce){b.addClass(ce.currentTarget,w.options.classPrefix+"container-keyboard-inactive")}),w.getElement(w.container).addEventListener("focusin",function(ce){b.removeClass(ce.currentTarget,w.options.classPrefix+"container-keyboard-inactive"),w.isVideo&&!t.IS_ANDROID&&!t.IS_IOS&&w.controlsEnabled&&!w.options.alwaysShowControls&&(w.killControlsTimer("enter"),w.showControls(),w.startControlsTimer(w.options.controlsTimeoutMouseEnter))}),w.getElement(w.container).addEventListener("focusout",function(ce){setTimeout(function(){ce.relatedTarget&&w.keyboardAction&&!ce.relatedTarget.closest("."+w.options.classPrefix+"container")&&(w.keyboardAction=!1,w.isVideo&&!w.options.alwaysShowControls&&!w.paused&&w.startControlsTimer(w.options.controlsTimeoutMouseLeave))},0)}),setTimeout(function(){w.setPlayerSize(w.width,w.height),w.setControlsSize()},0),w.globalResizeCallback=function(){w.isFullScreen||t.HAS_TRUE_NATIVE_FULLSCREEN&&S.default.webkitIsFullScreen||w.setPlayerSize(w.width,w.height),w.setControlsSize()},w.globalBind("resize",w.globalResizeCallback)}ee&&le&&w.play(),w.options.success&&("string"==typeof w.options.success?D.default[w.options.success](w.media,w.domNode,w):w.options.success(w.media,w.domNode,w))}}},{key:"_handleError",value:function(g,ue,w){var ie=this,ee=ie.getElement(ie.layers).querySelector("."+ie.options.classPrefix+"overlay-play");ee&&(ee.style.display="none"),ie.options.error&&ie.options.error(g,ue,w),ie.getElement(ie.container).querySelector("."+ie.options.classPrefix+"cannotplay")&&ie.getElement(ie.container).querySelector("."+ie.options.classPrefix+"cannotplay").remove();var le=S.default.createElement("div");le.className=ie.options.classPrefix+"cannotplay",le.style.width="100%",le.style.height="100%";var be="function"==typeof ie.options.customError?ie.options.customError(ie.media,ie.media.originalNode):ie.options.customError,Re="";if(!be){var we=ie.media.originalNode.getAttribute("poster");if(we&&(Re='<img src="'+we+'" alt="'+n.default.i18n.t("mejs.download-file")+'">'),g.message&&(be="<p>"+g.message+"</p>"),g.urls)for(var ce=0,Oe=g.urls.length;ce<Oe;ce++){var qe=g.urls[ce];be+='<a href="'+qe.src+'" data-type="'+qe.type+'"><span>'+n.default.i18n.t("mejs.download-file")+": "+qe.src+"</span></a>"}}be&&ie.getElement(ie.layers).querySelector("."+ie.options.classPrefix+"overlay-error")&&(le.innerHTML=be,ie.getElement(ie.layers).querySelector("."+ie.options.classPrefix+"overlay-error").innerHTML=""+Re+le.outerHTML,ie.getElement(ie.layers).querySelector("."+ie.options.classPrefix+"overlay-error").parentNode.style.display="block"),ie.controlsEnabled&&ie.disableControls()}},{key:"setPlayerSize",value:function(g,ue){var w=this;if(!w.options.setDimensions)return!1;switch(typeof g<"u"&&(w.width=g),typeof ue<"u"&&(w.height=ue),w.options.stretching){case"fill":w.isVideo?w.setFillMode():w.setDimensions(w.width,w.height);break;case"responsive":w.setResponsiveMode();break;case"none":w.setDimensions(w.width,w.height);break;default:!0===w.hasFluidMode()?w.setResponsiveMode():w.setDimensions(w.width,w.height)}}},{key:"hasFluidMode",value:function(){var g=this;return-1!==g.height.toString().indexOf("%")||g.node&&g.node.style.maxWidth&&"none"!==g.node.style.maxWidth&&g.node.style.maxWidth!==g.width||g.node&&g.node.currentStyle&&"100%"===g.node.currentStyle.maxWidth}},{key:"setResponsiveMode",value:function(){var g=this,ue=function(){for(var Ne=void 0,Be=g.getElement(g.container);Be;){try{if(t.IS_FIREFOX&&"html"===Be.tagName.toLowerCase()&&D.default.self!==D.default.top&&null!==D.default.frameElement)return D.default.frameElement;Ne=Be.parentElement}catch{Ne=Be.parentElement}if(Ne&&b.visible(Ne))return Ne;Be=Ne}return null}(),w=getComputedStyle(ue||S.default.body,null),ie=g.isVideo?g.node.videoWidth&&g.node.videoWidth>0?g.node.videoWidth:g.node.getAttribute("width")?g.node.getAttribute("width"):g.options.defaultVideoWidth:g.options.defaultAudioWidth,ee=g.isVideo?g.node.videoHeight&&g.node.videoHeight>0?g.node.videoHeight:g.node.getAttribute("height")?g.node.getAttribute("height"):g.options.defaultVideoHeight:g.options.defaultAudioHeight,le=function(){if(!g.options.enableAutosize)return g.initialAspectRatio;var Ne=1;return g.isVideo&&(Ne=g.node.videoWidth&&g.node.videoWidth>0&&g.node.videoHeight&&g.node.videoHeight>0?g.height>=g.width?g.node.videoWidth/g.node.videoHeight:g.node.videoHeight/g.node.videoWidth:g.initialAspectRatio,(isNaN(Ne)||Ne<.01||Ne>100)&&(Ne=1)),Ne}(),be=parseFloat(w.height),Re=void 0,we=parseFloat(w.width);if((Re=g.isVideo?"100%"===g.height?parseFloat(we*ee/ie,10):g.height>=g.width?parseFloat(we/le,10):parseFloat(we*le,10):ee)<=g.container.querySelector("."+g.options.classPrefix+"inner").offsetHeight&&(Re=g.container.querySelector("."+g.options.classPrefix+"inner").offsetHeight),isNaN(Re)&&(Re=be),g.getElement(g.container).parentNode.length>0&&"body"===g.getElement(g.container).parentNode.tagName.toLowerCase()&&(we=D.default.innerWidth||S.default.documentElement.clientWidth||S.default.body.clientWidth,Re=D.default.innerHeight||S.default.documentElement.clientHeight||S.default.body.clientHeight),Re&&we){g.getElement(g.container).style.width=we+"px",g.getElement(g.container).style.height=Re+"px",g.node.style.width="100%",g.node.style.height="100%",g.isVideo&&g.media.setSize&&g.media.setSize(we,Re),Re<=g.container.querySelector("."+g.options.classPrefix+"inner").offsetHeight&&(g.node.style.width="auto",g.node.style.height="auto");for(var ce=g.getElement(g.layers).children,Oe=0,qe=ce.length;Oe<qe;Oe++)ce[Oe].style.width="100%",ce[Oe].style.height="100%"}}},{key:"setFillMode",value:function(){var g=this,ue=D.default.self!==D.default.top&&null!==D.default.frameElement,w=function(){for(var z=void 0,V=g.getElement(g.container);V;){try{if(t.IS_FIREFOX&&"html"===V.tagName.toLowerCase()&&D.default.self!==D.default.top&&null!==D.default.frameElement)return D.default.frameElement;z=V.parentElement}catch{z=V.parentElement}if(z&&b.visible(z))return z;V=z}return null}(),ie=getComputedStyle(w||S.default.body,null);"none"!==g.node.style.height&&g.node.style.height!==g.height&&(g.node.style.height="auto"),"none"!==g.node.style.maxWidth&&g.node.style.maxWidth!==g.width&&(g.node.style.maxWidth="none"),"none"!==g.node.style.maxHeight&&g.node.style.maxHeight!==g.height&&(g.node.style.maxHeight="none"),g.node.currentStyle&&("100%"===g.node.currentStyle.height&&(g.node.currentStyle.height="auto"),"100%"===g.node.currentStyle.maxWidth&&(g.node.currentStyle.maxWidth="none"),"100%"===g.node.currentStyle.maxHeight&&(g.node.currentStyle.maxHeight="none")),!ue&&!parseFloat(ie.width)&&(w.style.width=g.media.offsetWidth+"px"),!ue&&!parseFloat(ie.height)&&(w.style.height=g.media.offsetHeight+"px"),ie=getComputedStyle(w);var ee=parseFloat(ie.width),le=parseFloat(ie.height);g.setDimensions("100%","100%");var be=g.getElement(g.container).querySelector("."+g.options.classPrefix+"poster>img");be&&(be.style.display="");for(var Re=g.getElement(g.container).querySelectorAll("object, embed, iframe, video"),we=g.height,ce=g.width,qe=we*ee/ce,Ne=ce*le/we,Be=le,se=!(Ne>ee),fe=Math.floor(se?ee:Ne),Ge=Math.floor(se?qe:Be),m=se?ee+"px":fe+"px",u=se?Ge+"px":le+"px",I=0,C=Re.length;I<C;I++)Re[I].style.height=u,Re[I].style.width=m,g.media.setSize&&g.media.setSize(m,u),Re[I].style.marginLeft=Math.floor((ee-fe)/2)+"px",Re[I].style.marginTop=0}},{key:"setDimensions",value:function(g,ue){var w=this;g=(0,l.isString)(g)&&g.indexOf("%")>-1?g:parseFloat(g)+"px",ue=(0,l.isString)(ue)&&ue.indexOf("%")>-1?ue:parseFloat(ue)+"px",w.getElement(w.container).style.width=g,w.getElement(w.container).style.height=ue;for(var ie=w.getElement(w.layers).children,ee=0,le=ie.length;ee<le;ee++)ie[ee].style.width=g,ie[ee].style.height=ue}},{key:"setControlsSize",value:function(){var g=this;if(b.visible(g.getElement(g.container))&&(!g.rail||!b.visible(g.rail))){for(var ue=g.getElement(g.controls).children,w=0,ie=0,ee=ue.length;ie<ee;ie++)w+=ue[ie].offsetWidth;g.getElement(g.container).style.minWidth=w+"px"}}},{key:"addControlElement",value:function(g,ue){var w=this;if(void 0!==w.featurePosition[ue]){var ie=w.getElement(w.controls).children[w.featurePosition[ue]-1];ie.parentNode.insertBefore(g,ie.nextSibling)}else{w.getElement(w.controls).appendChild(g);for(var ee=w.getElement(w.controls).children,le=0,be=ee.length;le<be;le++)if(g===ee[le]){w.featurePosition[ue]=le;break}}}},{key:"createIframeLayer",value:function(){var g=this;if(g.isVideo&&null!==g.media.rendererName&&g.media.rendererName.indexOf("iframe")>-1&&!S.default.getElementById(g.media.id+"-iframe-overlay")){var ue=S.default.createElement("div"),w=S.default.getElementById(g.media.id+"_"+g.media.rendererName);ue.id=g.media.id+"-iframe-overlay",ue.className=g.options.classPrefix+"iframe-overlay",ue.addEventListener("click",function(ie){g.options.clickToPlayPause&&(g.paused?g.play():g.pause(),ie.preventDefault(),ie.stopPropagation())}),w.parentNode.insertBefore(ue,w)}}},{key:"resetSize",value:function(){var g=this;setTimeout(function(){g.setPlayerSize(g.width,g.height),g.setControlsSize()},50)}},{key:"setPoster",value:function(g){var ue=this;if(ue.getElement(ue.container)){var w=ue.getElement(ue.container).querySelector("."+ue.options.classPrefix+"poster");w||((w=S.default.createElement("div")).className=ue.options.classPrefix+"poster "+ue.options.classPrefix+"layer",ue.getElement(ue.layers).appendChild(w));var ie=w.querySelector("img");!ie&&g&&((ie=S.default.createElement("img")).alt="",ie.className=ue.options.classPrefix+"poster-img",ie.width="100%",ie.height="100%",w.style.display="",w.appendChild(ie)),g?(ie.setAttribute("src",g),w.style.backgroundImage='url("'+g+'")',w.style.display=""):ie?(w.style.backgroundImage="none",w.style.display="none",ie.remove()):w.style.display="none"}else(t.IS_IPAD&&ue.options.iPadUseNativeControls||t.IS_IPHONE&&ue.options.iPhoneUseNativeControls||t.IS_ANDROID&&ue.options.AndroidUseNativeControls)&&(ue.media.originalNode.poster=g)}},{key:"changeSkin",value:function(g){var ue=this;ue.getElement(ue.container).className=ue.options.classPrefix+"container "+g,ue.setPlayerSize(ue.width,ue.height),ue.setControlsSize()}},{key:"globalBind",value:function(g,ue){var w=this,ie=w.node?w.node.ownerDocument:S.default;if((g=(0,l.splitEvents)(g,w.id)).d)for(var ee=g.d.split(" "),le=0,be=ee.length;le<be;le++)ee[le].split(".").reduce(function(Oe,qe){return ie.addEventListener(qe,ue,!1),qe},"");if(g.w)for(var Re=g.w.split(" "),we=0,ce=Re.length;we<ce;we++)Re[we].split(".").reduce(function(Oe,qe){return D.default.addEventListener(qe,ue,!1),qe},"")}},{key:"globalUnbind",value:function(g,ue){var w=this,ie=w.node?w.node.ownerDocument:S.default;if((g=(0,l.splitEvents)(g,w.id)).d)for(var ee=g.d.split(" "),le=0,be=ee.length;le<be;le++)ee[le].split(".").reduce(function(Oe,qe){return ie.removeEventListener(qe,ue,!1),qe},"");if(g.w)for(var Re=g.w.split(" "),we=0,ce=Re.length;we<ce;we++)Re[we].split(".").reduce(function(Oe,qe){return D.default.removeEventListener(qe,ue,!1),qe},"")}},{key:"buildfeatures",value:function(g,ue,w,ie){for(var le=0,be=this.options.features.length;le<be;le++){var Re=this.options.features[le];if(this["build"+Re])try{this["build"+Re](g,ue,w,ie)}catch(we){console.error("error building "+Re,we)}}}},{key:"buildposter",value:function(g,ue,w,ie){var ee=this,le=S.default.createElement("div");le.className=ee.options.classPrefix+"poster "+ee.options.classPrefix+"layer",w.appendChild(le);var be=ie.originalNode.getAttribute("poster");""!==g.options.poster&&(be&&t.IS_IOS&&ie.originalNode.removeAttribute("poster"),be=g.options.poster),be?ee.setPoster(be):null!==ee.media.renderer&&"function"==typeof ee.media.renderer.getPosterUrl?ee.setPoster(ee.media.renderer.getPosterUrl()):le.style.display="none",ie.addEventListener("play",function(){le.style.display="none"}),ie.addEventListener("playing",function(){le.style.display="none"}),g.options.showPosterWhenEnded&&g.options.autoRewind&&ie.addEventListener("ended",function(){le.style.display=""}),ie.addEventListener("error",function(){le.style.display="none"}),g.options.showPosterWhenPaused&&ie.addEventListener("pause",function(){g.ended||(le.style.display="")})}},{key:"buildoverlays",value:function(g,ue,w,ie){if(g.isVideo){var ee=this,le=S.default.createElement("div"),be=S.default.createElement("div"),Re=S.default.createElement("div");le.style.display="none",le.className=ee.options.classPrefix+"overlay "+ee.options.classPrefix+"layer",le.innerHTML='<div class="'+ee.options.classPrefix+'overlay-loading"><div class="'+ee.options.classPrefix+'overlay-loading-bg-img">\n\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t<use xlink:href="'+ee.media.options.iconSprite+'#icon-loading-spinner"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</div></div>',w.appendChild(le),be.style.display="none",be.className=ee.options.classPrefix+"overlay "+ee.options.classPrefix+"layer",be.innerHTML='<div class="'+ee.options.classPrefix+'overlay-error"></div>',w.appendChild(be),Re.className=ee.options.classPrefix+"overlay "+ee.options.classPrefix+"layer "+ee.options.classPrefix+"overlay-play",Re.innerHTML=(0,x.generateControlButton)(ee.id,e.default.t("mejs.play"),e.default.t("mejs.play"),""+ee.media.options.iconSprite,["icon-overlay-play"],""+ee.options.classPrefix,ee.options.classPrefix+"overlay-button","",!1),Re.addEventListener("click",function(){if(ee.options.clickToPlayPause){var ce=ee.getElement(ee.container).querySelector("."+ee.options.classPrefix+"overlay-button"),Oe=ce.getAttribute("aria-pressed");ee.paused?ee.play():ee.pause(),ce.setAttribute("aria-pressed",!!Oe),ee.getElement(ee.container).focus()}}),Re.addEventListener("keydown",function(ce){var Oe=ce.keyCode||ce.which||0;if(13===Oe||t.IS_FIREFOX&&32===Oe){var qe=(0,l.createEvent)("click",Re);return Re.dispatchEvent(qe),!1}}),w.appendChild(Re),null!==ee.media.rendererName&&(/(youtube|facebook)/i.test(ee.media.rendererName)&&!(ee.media.originalNode.getAttribute("poster")||g.options.poster||"function"==typeof ee.media.renderer.getPosterUrl&&ee.media.renderer.getPosterUrl())||t.IS_STOCK_ANDROID||ee.media.originalNode.getAttribute("autoplay"))&&(Re.style.display="none");var we=!1;ie.addEventListener("play",function(){Re.style.display="none",le.style.display="none",be.style.display="none",we=!1}),ie.addEventListener("playing",function(){Re.style.display="none",le.style.display="none",be.style.display="none",we=!1}),ie.addEventListener("seeking",function(){Re.style.display="none",le.style.display="",we=!1}),ie.addEventListener("seeked",function(){Re.style.display=ee.paused&&!t.IS_STOCK_ANDROID?"":"none",le.style.display="none",we=!1}),ie.addEventListener("pause",function(){le.style.display="none",!t.IS_STOCK_ANDROID&&!we&&(Re.style.display=""),we=!1}),ie.addEventListener("waiting",function(){le.style.display="",we=!1}),ie.addEventListener("loadeddata",function(){le.style.display="",t.IS_ANDROID&&(ie.canplayTimeout=setTimeout(function(){if(S.default.createEvent){var ce=S.default.createEvent("HTMLEvents");return ce.initEvent("canplay",!0,!0),ie.dispatchEvent(ce)}},300)),we=!1}),ie.addEventListener("canplay",function(){le.style.display="none",clearTimeout(ie.canplayTimeout),we=!1}),ie.addEventListener("error",function(ce){ee._handleError(ce,ee.media,ee.node),le.style.display="none",Re.style.display="none",we=!0}),ie.addEventListener("loadedmetadata",function(){ee.controlsEnabled||ee.enableControls()}),ie.addEventListener("keydown",function(ce){ee.onkeydown(g,ie,ce),we=!1})}}},{key:"buildkeyboard",value:function(g,ue,w,ie){var ee=this;ee.getElement(ee.container).addEventListener("keydown",function(){ee.keyboardAction=!0}),ee.globalKeydownCallback=function(le){if(!S.default.activeElement)return!0;var be=S.default.activeElement.closest("."+ee.options.classPrefix+"container"),Re=ee.media.closest("."+ee.options.classPrefix+"container");return ee.hasFocus=!(!be||!Re||be.id!==Re.id),ee.onkeydown(g,ie,le)},ee.globalClickCallback=function(le){ee.hasFocus=!!le.target.closest("."+ee.options.classPrefix+"container")},ee.globalBind("keydown",ee.globalKeydownCallback),ee.globalBind("click",ee.globalClickCallback)}},{key:"onkeydown",value:function(g,ue,w){if(g.hasFocus&&g.options.enableKeyboard)for(var ie=0,ee=g.options.keyActions.length;ie<ee;ie++)for(var le=g.options.keyActions[ie],be=0,Re=le.keys.length;be<Re;be++)if(w.keyCode===le.keys[be])return le.action(g,ue,w.keyCode,w),w.preventDefault(),void w.stopPropagation();return!0}},{key:"play",value:function(){return this.proxy.play()}},{key:"pause",value:function(){return this.proxy.pause()}},{key:"load",value:function(){return this.proxy.load()}},{key:"setCurrentTime",value:function(g){this.seekUserInteraction=arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.proxy.setCurrentTime(g)}},{key:"getCurrentTime",value:function(){return this.proxy.currentTime}},{key:"getDuration",value:function(){return this.proxy.duration}},{key:"setVolume",value:function(g){this.proxy.volume=g}},{key:"getVolume",value:function(){return this.proxy.getVolume()}},{key:"setMuted",value:function(g){this.proxy.setMuted(g)}},{key:"setSrc",value:function(g){this.controlsEnabled||this.enableControls(),this.proxy.setSrc(g)}},{key:"getSrc",value:function(){return this.proxy.getSrc()}},{key:"canPlayType",value:function(g){return this.proxy.canPlayType(g)}},{key:"remove",value:function(){var g=this,ue=g.media.rendererName,w=g.media.originalNode.src;for(var ie in g.options.features){var ee=g.options.features[ie];if(g["clean"+ee])try{g["clean"+ee](g,g.getElement(g.layers),g.getElement(g.controls),g.media)}catch(we){console.error("error cleaning "+ee,we)}}var le=g.node.getAttribute("width"),be=g.node.getAttribute("height");if(le?-1===le.indexOf("%")&&(le+="px"):le="auto",be?-1===be.indexOf("%")&&(be+="px"):be="auto",g.node.style.width=le,g.node.style.height=be,g.setPlayerSize(0,0),g.isDynamic?g.getElement(g.container).parentNode.insertBefore(g.node,g.getElement(g.container)):function(){g.node.setAttribute("controls",!0),g.node.setAttribute("id",g.node.getAttribute("id").replace("_"+ue,"").replace("_from_mejs",""));var we=g.getElement(g.container).querySelector("."+g.options.classPrefix+"poster>img");we&&g.node.setAttribute("poster",we.src),delete g.node.autoplay,g.node.setAttribute("src",""),""!==g.media.canPlayType((0,p.getTypeFromFile)(w))&&g.node.setAttribute("src",w),ue&&ue.indexOf("iframe")>-1&&S.default.getElementById(g.media.id+"-iframe-overlay").remove();var Oe=g.node.cloneNode();if(Oe.style.display="",g.getElement(g.container).parentNode.insertBefore(Oe,g.getElement(g.container)),g.node.remove(),g.mediaFiles)for(var qe=0,Ne=g.mediaFiles.length;qe<Ne;qe++){var Be=S.default.createElement("source");Be.setAttribute("src",g.mediaFiles[qe].src),Be.setAttribute("type",g.mediaFiles[qe].type),Oe.appendChild(Be)}if(g.trackFiles)for(var se=function(u,I){var C=g.trackFiles[u],z=S.default.createElement("track");z.kind=C.kind,z.label=C.label,z.srclang=C.srclang,z.src=C.src,Oe.appendChild(z),z.addEventListener("load",function(){this.mode="showing",Oe.textTracks[u].mode="showing"})},fe=0,Ge=g.trackFiles.length;fe<Ge;fe++)se(fe);delete g.node,delete g.mediaFiles,delete g.trackFiles}(),g.media.renderer&&"function"==typeof g.media.renderer.destroy&&g.media.renderer.destroy(),delete n.default.players[g.id],"object"===Vt(g.getElement(g.container))){var Re=g.getElement(g.container).parentNode.querySelector("."+g.options.classPrefix+"offscreen");Re&&Re.remove(),g.getElement(g.container).remove()}g.globalUnbind("resize",g.globalResizeCallback),g.globalUnbind("keydown",g.globalKeydownCallback),g.globalUnbind("click",g.globalClickCallback),delete g.media.player}},{key:"paused",get:function(){return this.proxy.paused}},{key:"muted",get:function(){return this.proxy.muted},set:function(g){this.setMuted(g)}},{key:"ended",get:function(){return this.proxy.ended}},{key:"readyState",get:function(){return this.proxy.readyState}},{key:"currentTime",set:function(g){this.setCurrentTime(g)},get:function(){return this.getCurrentTime()}},{key:"duration",get:function(){return this.getDuration()}},{key:"volume",set:function(g){this.setVolume(g)},get:function(){return this.getVolume()}},{key:"src",set:function(g){this.setSrc(g)},get:function(){return this.getSrc()}}]),ae}();D.default.MediaElementPlayer=j,n.default.MediaElementPlayer=j,at.default=j},{18:18,2:2,26:26,27:27,28:28,29:29,3:3,30:30,32:32,6:6,7:7,8:8}],18:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0});var Vt=function(){function r(n,d){for(var c=0;c<d.length;c++){var i=d[c];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,d,c){return d&&r(n.prototype,d),c&&r(n,c),n}}(),Ie=function D(r){return r&&r.__esModule?r:{default:r}}(ut(3)),S=function(){function r(n){return function J(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this.media=n.media,this.isVideo=n.isVideo,this.classPrefix=n.options.classPrefix,this.createIframeLayer=function(){return n.createIframeLayer()},this.setPoster=function(d){return n.setPoster(d)},this}return Vt(r,[{key:"play",value:function(){return this.media.play()}},{key:"pause",value:function(){return this.media.pause()}},{key:"load",value:function(){var d=this;d.isLoaded||d.media.load(),d.isLoaded=!0}},{key:"setCurrentTime",value:function(d){this.media.setCurrentTime(d)}},{key:"getCurrentTime",value:function(){return this.media.currentTime}},{key:"getDuration",value:function(){var d=this.media.getDuration();return d===1/0&&this.media.seekable&&this.media.seekable.length&&(d=this.media.seekable.end(0)),d}},{key:"setVolume",value:function(d){this.media.setVolume(d)}},{key:"getVolume",value:function(){return this.media.getVolume()}},{key:"setMuted",value:function(d){this.media.setMuted(d)}},{key:"setSrc",value:function(d){var c=this,i=document.getElementById(c.media.id+"-iframe-overlay");i&&i.remove(),c.media.setSrc(d),c.createIframeLayer(),null!==c.media.renderer&&"function"==typeof c.media.renderer.getPosterUrl&&c.setPoster(c.media.renderer.getPosterUrl())}},{key:"getSrc",value:function(){return this.media.getSrc()}},{key:"canPlayType",value:function(d){return this.media.canPlayType(d)}},{key:"paused",get:function(){return this.media.paused}},{key:"muted",set:function(d){this.setMuted(d)},get:function(){return this.media.muted}},{key:"ended",get:function(){return this.media.ended}},{key:"readyState",get:function(){return this.media.readyState}},{key:"currentTime",set:function(d){this.setCurrentTime(d)},get:function(){return this.getCurrentTime()}},{key:"duration",get:function(){return this.getDuration()}},{key:"remainingTime",get:function(){return this.getDuration()-this.currentTime()}},{key:"volume",set:function(d){this.setVolume(d)},get:function(){return this.getVolume()}},{key:"src",set:function(d){this.setSrc(d)},get:function(){return this.getSrc()}}]),r}();at.default=S,Ie.default.DefaultPlayer=S},{3:3}],19:[function(ut,ln,at){"use strict";r(ut(3));var n,D=r(ut(8)),S=r(ut(17));function r(n){return n&&n.__esModule?n:{default:n}}typeof jQuery<"u"?D.default.$=jQuery:typeof Zepto<"u"?D.default.$=Zepto:typeof ender<"u"&&(D.default.$=ender),typeof(n=D.default.$)<"u"&&(n.fn.mediaelementplayer=function(d){return this.each(!1===d?function(){var c=n(this).data("mediaelementplayer");c&&c.remove(),n(this).removeData("mediaelementplayer")}:function(){n(this).data("mediaelementplayer",new S.default(this,d))}),this},n(document).ready(function(){n("."+D.default.MepDefaults.classPrefix+"player").mediaelementplayer()}))},{17:17,3:3,8:8}],20:[function(ut,ln,at){"use strict";var Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie=i(ut(3)),J=i(ut(8)),S=ut(9),r=ut(28),n=ut(30),d=ut(26),c=ut(27);function i(e){return e&&e.__esModule?e:{default:e}}var o={promise:null,load:function(t){return typeof dashjs<"u"?o.promise=new Promise(function(l){l()}).then(function(){o._createPlayer(t)}):(t.options.path="string"==typeof t.options.path?t.options.path:"https://cdn.dashjs.org/latest/dash.all.min.js",o.promise=o.promise||(0,c.loadScript)(t.options.path),o.promise.then(function(){o._createPlayer(t)})),o.promise},_createPlayer:function(t){var l=dashjs.MediaPlayer().create();return Ie.default["__ready__"+t.id](l),l}},y={name:"native_dash",options:{prefix:"native_dash",dash:{path:"https://cdn.dashjs.org/latest/dash.all.min.js",debug:!1,drm:{},robustnessLevel:""}},canPlayType:function(t){return d.HAS_MSE&&["application/dash+xml"].indexOf(t.toLowerCase())>-1},create:function(t,l,T){var p=t.originalNode,E=t.id+"_"+l.prefix,b=p.autoplay,x=p.children,A=null,_=null;p.removeAttribute("type");for(var O=0,G=x.length;O<G;O++)x[O].removeAttribute("type");A=p.cloneNode(!0),l=Object.assign(l,t.options);for(var j=J.default.html5media.properties,ae=J.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(be){return"error"!==be}),pe=function(Re){var we=(0,r.createEvent)(Re.type,t);t.dispatchEvent(we)},g=function(Re){var we=""+Re.substring(0,1).toUpperCase()+Re.substring(1);A["get"+we]=function(){return null!==_?A[Re]:null},A["set"+we]=function(ce){if(-1===J.default.html5media.readOnlyProperties.indexOf(Re))if("src"===Re){var Oe="object"===(typeof ce>"u"?"undefined":Vt(ce))&&ce.src?ce.src:ce;if(A[Re]=Oe,null!==_){_.reset();for(var qe=0,Ne=ae.length;qe<Ne;qe++)A.removeEventListener(ae[qe],pe);_=o._createPlayer({options:l.dash,id:E}),ce&&"object"===(typeof ce>"u"?"undefined":Vt(ce))&&"object"===Vt(ce.drm)&&(_.setProtectionData(ce.drm),(0,r.isString)(l.dash.robustnessLevel)&&l.dash.robustnessLevel&&_.getProtectionController().setRobustnessLevel(l.dash.robustnessLevel)),_.attachSource(Oe),b&&_.play()}}else A[Re]=ce}},ue=0,w=j.length;ue<w;ue++)g(j[ue]);if(Ie.default["__ready__"+E]=function(be){t.dashPlayer=_=be;for(var Re=dashjs.MediaPlayer.events,ce=0,Oe=ae.length;ce<Oe;ce++)"loadedmetadata"===(se=ae[ce])&&(_.initialize(),_.attachView(A),_.setAutoPlay(!1),"object"===Vt(l.dash.drm)&&!J.default.Utils.isObjectEmpty(l.dash.drm)&&(_.setProtectionData(l.dash.drm),(0,r.isString)(l.dash.robustnessLevel)&&l.dash.robustnessLevel&&_.getProtectionController().setRobustnessLevel(l.dash.robustnessLevel)),_.attachSource(A.getSrc())),A.addEventListener(se,pe);var se,qe=function(se){if("error"===se.type.toLowerCase())t.generateError(se.message,A.src),console.error(se);else{var fe=(0,r.createEvent)(se.type,t);fe.data=se,t.dispatchEvent(fe)}};for(var Ne in Re)Re.hasOwnProperty(Ne)&&_.on(Re[Ne],function(Be){return qe(Be)})},T&&T.length>0)for(var ie=0,ee=T.length;ie<ee;ie++)if(S.renderer.renderers[l.prefix].canPlayType(T[ie].type)){A.setAttribute("src",T[ie].src),typeof T[ie].drm<"u"&&(l.dash.drm=T[ie].drm);break}A.setAttribute("id",E),p.parentNode.insertBefore(A,p),p.autoplay=!1,p.style.display="none",A.setSize=function(be,Re){return A.style.width=be+"px",A.style.height=Re+"px",A},A.hide=function(){return A.pause(),A.style.display="none",A},A.show=function(){return A.style.display="",A},A.destroy=function(){null!==_&&_.reset()};var le=(0,r.createEvent)("rendererready",A);return t.dispatchEvent(le),t.promises.push(o.load({options:l.dash,id:E})),A}};n.typeChecks.push(function(e){return~e.toLowerCase().indexOf(".mpd")?"application/dash+xml":null}),S.renderer.add(y)},{26:26,27:27,28:28,3:3,30:30,8:8,9:9}],21:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0}),at.PluginDetector=void 0;var Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},Ie=e(ut(3)),J=e(ut(2)),r=e(ut(8)),d=e(ut(6)),c=ut(9),i=ut(28),o=ut(26),y=ut(30);function e(_){return _&&_.__esModule?_:{default:_}}var t=at.PluginDetector={plugins:[],hasPluginVersion:function(O,G){var j=t.plugins[O];return G[1]=G[1]||0,G[2]=G[2]||0,j[0]>G[0]||j[0]===G[0]&&j[1]>G[1]||j[0]===G[0]&&j[1]===G[1]&&j[2]>=G[2]},addPlugin:function(O,G,j,ae,pe){t.plugins[O]=t.detectPlugin(G,j,ae,pe)},detectPlugin:function(O,G,j,ae){var pe=[0,0,0],g=void 0,ue=void 0;if(null!=o.NAV.plugins&&"object"===Vt(o.NAV.plugins[O])){if((g=o.NAV.plugins[O].description)&&(!(typeof o.NAV.mimeTypes<"u"&&o.NAV.mimeTypes[G])||o.NAV.mimeTypes[G].enabledPlugin))for(var w=0,ie=(pe=g.replace(O,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".")).length;w<ie;w++)pe[w]=parseInt(pe[w].match(/\d+/),10)}else if(void 0!==Ie.default.ActiveXObject)try{(ue=new ActiveXObject(j))&&(pe=ae(ue))}catch{}return pe}};t.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(_){var O=[],G=_.GetVariable("$version");return G&&(G=G.split(" ")[1].split(","),O=[parseInt(G[0],10),parseInt(G[1],10),parseInt(G[2],10)]),O});var l={create:function(O,G,j){var ae={},pe=!1;ae.options=G,ae.id=O.id+"_"+ae.options.prefix,ae.mediaElement=O,ae.flashState={},ae.flashApi=null,ae.flashApiStack=[];for(var g=r.default.html5media.properties,ue=function(V){ae.flashState[V]=null;var ye=""+V.substring(0,1).toUpperCase()+V.substring(1);ae["get"+ye]=function(){if(null!==ae.flashApi){if("function"==typeof ae.flashApi["get_"+V]){var Le=ae.flashApi["get_"+V]();return"buffered"===V?{start:function(){return 0},end:function(){return Le},length:1}:Le}return null}return null},ae["set"+ye]=function(Le){if("src"===V&&(Le=(0,y.absolutizeUrl)(Le)),null!==ae.flashApi&&void 0!==ae.flashApi["set_"+V])try{ae.flashApi["set_"+V](Le)}catch{}else ae.flashApiStack.push({type:"set",propName:V,value:Le})}},w=0,ie=g.length;w<ie;w++)ue(g[w]);var ee=r.default.html5media.methods,le=function(V){ae[V]=function(){if(pe)if(null!==ae.flashApi){if(ae.flashApi["fire_"+V])try{ae.flashApi["fire_"+V]()}catch{}}else ae.flashApiStack.push({type:"call",methodName:V})}};ee.push("stop");for(var be=0,Re=ee.length;be<Re;be++)le(ee[be]);for(var we=["rendererready"],ce=0,Oe=we.length;ce<Oe;ce++){var qe=(0,i.createEvent)(we[ce],ae);O.dispatchEvent(qe)}Ie.default["__ready__"+ae.id]=function(){if(ae.flashReady=!0,ae.flashApi=J.default.getElementById("__"+ae.id),ae.flashApiStack.length)for(var z=0,V=ae.flashApiStack.length;z<V;z++){var ye=ae.flashApiStack[z];if("set"===ye.type){var Le=ye.propName,ke=""+Le.substring(0,1).toUpperCase()+Le.substring(1);ae["set"+ke](ye.value)}else"call"===ye.type&&ae[ye.methodName]()}},Ie.default["__event__"+ae.id]=function(z,V){var ye=(0,i.createEvent)(z,ae);if(V)try{ye.data=JSON.parse(V),ye.details.data=JSON.parse(V)}catch{ye.message=V}ae.mediaElement.dispatchEvent(ye)},ae.flashWrapper=J.default.createElement("div"),-1===["always","sameDomain"].indexOf(ae.options.shimScriptAccess)&&(ae.options.shimScriptAccess="sameDomain");var Be=["uid="+ae.id,"autoplay="+O.originalNode.autoplay,"allowScriptAccess="+ae.options.shimScriptAccess,"preload="+(O.originalNode.getAttribute("preload")||"")],se=null!==O.originalNode&&"video"===O.originalNode.tagName.toLowerCase(),fe=se?O.originalNode.height:1,Ge=se?O.originalNode.width:1;O.originalNode.getAttribute("src")&&Be.push("src="+O.originalNode.getAttribute("src")),!0===ae.options.enablePseudoStreaming&&(Be.push("pseudostreamstart="+ae.options.pseudoStreamingStartQueryParam),Be.push("pseudostreamtype="+ae.options.pseudoStreamingType)),ae.options.streamDelimiter&&Be.push("streamdelimiter="+encodeURIComponent(ae.options.streamDelimiter)),ae.options.proxyType&&Be.push("proxytype="+ae.options.proxyType),O.appendChild(ae.flashWrapper),O.originalNode.style.display="none";var m=[];if(o.IS_IE||o.IS_EDGE){var u=J.default.createElement("div");ae.flashWrapper.appendChild(u),m=o.IS_EDGE?['type="application/x-shockwave-flash"','data="'+ae.options.pluginPath+ae.options.filename+'"','id="__'+ae.id+'"','width="'+Ge+'"','height="'+fe+"'\""]:['classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"','codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"','id="__'+ae.id+'"','width="'+Ge+'"','height="'+fe+'"'],se||m.push('style="clip: rect(0 0 0 0); position: absolute;"'),u.outerHTML="<object "+m.join(" ")+'><param name="movie" value="'+ae.options.pluginPath+ae.options.filename+"?x="+new Date+'" /><param name="flashvars" value="'+Be.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+ae.options.shimScriptAccess+'" /><param name="allowFullScreen" value="true" /><div>'+d.default.t("mejs.install-flash")+"</div></object>"}else m=['id="__'+ae.id+'"','name="__'+ae.id+'"','play="true"','loop="false"','quality="high"','bgcolor="#000000"','wmode="transparent"','allowScriptAccess="'+ae.options.shimScriptAccess+'"','allowFullScreen="true"','type="application/x-shockwave-flash"','pluginspage="//www.macromedia.com/go/getflashplayer"','src="'+ae.options.pluginPath+ae.options.filename+'"','flashvars="'+Be.join("&")+'"'],se?(m.push('width="'+Ge+'"'),m.push('height="'+fe+'"')):m.push('style="position: fixed; left: -9999em; top: -9999em;"'),ae.flashWrapper.innerHTML="<embed "+m.join(" ")+">";if(ae.flashNode=ae.flashWrapper.lastChild,ae.hide=function(){pe=!1,se&&(ae.flashNode.style.display="none")},ae.show=function(){pe=!0,se&&(ae.flashNode.style.display="")},ae.setSize=function(z,V){ae.flashNode.style.width=z+"px",ae.flashNode.style.height=V+"px",null!==ae.flashApi&&"function"==typeof ae.flashApi.fire_setSize&&ae.flashApi.fire_setSize(z,V)},ae.destroy=function(){ae.flashNode.remove()},j&&j.length>0)for(var I=0,C=j.length;I<C;I++)if(c.renderer.renderers[G.prefix].canPlayType(j[I].type)){ae.setSrc(j[I].src);break}return ae}};t.hasPluginVersion("flash",[10,0,0])&&(y.typeChecks.push(function(_){return(_=_.toLowerCase()).startsWith("rtmp")?~_.indexOf(".mp3")?"audio/rtmp":"video/rtmp":/\.og(a|g)/i.test(_)?"audio/ogg":~_.indexOf(".m3u8")?"application/x-mpegURL":~_.indexOf(".mpd")?"application/dash+xml":~_.indexOf(".flv")?"video/flv":null}),c.renderer.add({name:"flash_video",options:{prefix:"flash_video",filename:"mediaelement-flash-video.swf",enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",pseudoStreamingType:"byte",proxyType:"",streamDelimiter:""},canPlayType:function(O){return~["video/mp4","video/rtmp","audio/rtmp","rtmp/mp4","audio/mp4","video/flv","video/x-flv"].indexOf(O.toLowerCase())},create:l.create}),c.renderer.add({name:"flash_hls",options:{prefix:"flash_hls",filename:"mediaelement-flash-video-hls.swf"},canPlayType:function(O){return~["application/x-mpegurl","application/vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(O.toLowerCase())},create:l.create}),c.renderer.add({name:"flash_dash",options:{prefix:"flash_dash",filename:"mediaelement-flash-video-mdash.swf"},canPlayType:function(O){return~["application/dash+xml"].indexOf(O.toLowerCase())},create:l.create}),c.renderer.add({name:"flash_audio",options:{prefix:"flash_audio",filename:"mediaelement-flash-audio.swf"},canPlayType:function(O){return~["audio/mp3"].indexOf(O.toLowerCase())},create:l.create}),c.renderer.add({name:"flash_audio_ogg",options:{prefix:"flash_audio_ogg",filename:"mediaelement-flash-audio-ogg.swf"},canPlayType:function(O){return~["audio/ogg","audio/oga","audio/ogv"].indexOf(O.toLowerCase())},create:l.create}))},{2:2,26:26,28:28,3:3,30:30,6:6,8:8,9:9}],22:[function(ut,ln,at){"use strict";var Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie=i(ut(3)),J=i(ut(8)),S=ut(9),r=ut(28),n=ut(26),d=ut(30),c=ut(27);function i(e){return e&&e.__esModule?e:{default:e}}var o={promise:null,load:function(t){return typeof flvjs<"u"?o.promise=new Promise(function(l){l()}).then(function(){o._createPlayer(t)}):(t.options.path="string"==typeof t.options.path?t.options.path:"https://cdn.jsdelivr.net/npm/flv.js@latest",o.promise=o.promise||(0,c.loadScript)(t.options.path),o.promise.then(function(){o._createPlayer(t)})),o.promise},_createPlayer:function(t){flvjs.LoggingControl.enableDebug=t.options.debug,flvjs.LoggingControl.enableVerbose=t.options.debug;var l=flvjs.createPlayer(t.options,t.configs);return Ie.default["__ready__"+t.id](l),l}},y={name:"native_flv",options:{prefix:"native_flv",flv:{path:"https://cdn.jsdelivr.net/npm/flv.js@latest",cors:!0,debug:!1}},canPlayType:function(t){return n.HAS_MSE&&["video/x-flv","video/flv"].indexOf(t.toLowerCase())>-1},create:function(t,l,T){var p=t.originalNode,E=t.id+"_"+l.prefix,b=null,x=null;b=p.cloneNode(!0),l=Object.assign(l,t.options);for(var A=J.default.html5media.properties,_=J.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(ee){return"error"!==ee}),O=function(le){var be=(0,r.createEvent)(le.type,t);t.dispatchEvent(be)},G=function(le){var be=""+le.substring(0,1).toUpperCase()+le.substring(1);b["get"+be]=function(){return null!==x?b[le]:null},b["set"+be]=function(Re){if(-1===J.default.html5media.readOnlyProperties.indexOf(le))if("src"===le){if(b[le]="object"===(typeof Re>"u"?"undefined":Vt(Re))&&Re.src?Re.src:Re,null!==x){var we={type:"flv"};we.url=Re,we.cors=l.flv.cors,we.debug=l.flv.debug,we.path=l.flv.path;var ce=l.flv.configs;x.destroy();for(var Oe=0,qe=_.length;Oe<qe;Oe++)b.removeEventListener(_[Oe],O);(x=o._createPlayer({options:we,configs:ce,id:E})).attachMediaElement(b),x.load()}}else b[le]=Re}},j=0,ae=A.length;j<ae;j++)G(A[j]);if(Ie.default["__ready__"+E]=function(ee){t.flvPlayer=x=ee;for(var le=flvjs.Events,Re=0,we=_.length;Re<we;Re++)"loadedmetadata"===(Be=_[Re])&&(x.unload(),x.detachMediaElement(),x.attachMediaElement(b),x.load()),b.addEventListener(Be,O);var Be,Oe=function(Be){le.hasOwnProperty(Be)&&x.on(le[Be],function(){for(var se=arguments.length,fe=Array(se),Ge=0;Ge<se;Ge++)fe[Ge]=arguments[Ge];return function(Be,se){if("error"===Be)t.generateError(se[0]+": "+se[1]+" "+se[2].msg,b.src);else{var Ge=(0,r.createEvent)(Be,t);Ge.data=se,t.dispatchEvent(Ge)}}(le[Be],fe)})};for(var qe in le)Oe(qe)},T&&T.length>0)for(var pe=0,g=T.length;pe<g;pe++)if(S.renderer.renderers[l.prefix].canPlayType(T[pe].type)){b.setAttribute("src",T[pe].src);break}b.setAttribute("id",E),p.parentNode.insertBefore(b,p),p.autoplay=!1,p.style.display="none";var ue={type:"flv"};ue.url=b.src,ue.cors=l.flv.cors,ue.debug=l.flv.debug,ue.path=l.flv.path;var w=l.flv.configs;b.setSize=function(ee,le){return b.style.width=ee+"px",b.style.height=le+"px",b},b.hide=function(){return null!==x&&x.pause(),b.style.display="none",b},b.show=function(){return b.style.display="",b},b.destroy=function(){null!==x&&x.destroy()};var ie=(0,r.createEvent)("rendererready",b);return t.dispatchEvent(ie),t.promises.push(o.load({options:ue,configs:w,id:E})),b}};d.typeChecks.push(function(e){return~e.toLowerCase().indexOf(".flv")?"video/flv":null}),S.renderer.add(y)},{26:26,27:27,28:28,3:3,30:30,8:8,9:9}],23:[function(ut,ln,at){"use strict";var Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie=i(ut(3)),J=i(ut(8)),S=ut(9),r=ut(28),n=ut(26),d=ut(30),c=ut(27);function i(e){return e&&e.__esModule?e:{default:e}}var o={promise:null,load:function(t){return typeof Hls<"u"?o.promise=new Promise(function(l){l()}).then(function(){o._createPlayer(t)}):(t.options.path="string"==typeof t.options.path?t.options.path:"https://cdn.jsdelivr.net/npm/hls.js@latest",o.promise=o.promise||(0,c.loadScript)(t.options.path),o.promise.then(function(){o._createPlayer(t)})),o.promise},_createPlayer:function(t){var l=new Hls(t.options);return Ie.default["__ready__"+t.id](l),l}},y={name:"native_hls",options:{prefix:"native_hls",hls:{path:"https://cdn.jsdelivr.net/npm/hls.js@latest",autoStartLoad:!1,debug:!1}},canPlayType:function(t){return n.HAS_MSE&&["application/x-mpegurl","application/vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(t.toLowerCase())>-1},create:function(t,l,T){var p=t.originalNode,E=t.id+"_"+l.prefix,b=p.getAttribute("preload"),x=p.autoplay,A=null,_=null,O=0,G=T.length;_=p.cloneNode(!0),(l=Object.assign(l,t.options)).hls.autoStartLoad=b&&"none"!==b||x;for(var j=J.default.html5media.properties,ae=J.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(ee){return"error"!==ee}),pe=function(le){var be=(0,r.createEvent)(le.type,t);t.dispatchEvent(be)},g=function(le){var be=""+le.substring(0,1).toUpperCase()+le.substring(1);_["get"+be]=function(){return null!==A?_[le]:null},_["set"+be]=function(Re){if(-1===J.default.html5media.readOnlyProperties.indexOf(le))if("src"===le){if(_[le]="object"===(typeof Re>"u"?"undefined":Vt(Re))&&Re.src?Re.src:Re,null!==A){A.destroy();for(var we=0,ce=ae.length;we<ce;we++)_.removeEventListener(ae[we],pe);(A=o._createPlayer({options:l.hls,id:E})).loadSource(Re),A.attachMedia(_)}}else _[le]=Re}},ue=0,w=j.length;ue<w;ue++)g(j[ue]);if(Ie.default["__ready__"+E]=function(ee){t.hlsPlayer=A=ee;for(var le=Hls.Events,be=function(fe){if("loadedmetadata"===fe){var Ge=t.originalNode.src;A.detachMedia(),A.loadSource(Ge),A.attachMedia(_)}_.addEventListener(fe,pe)},Re=0,we=ae.length;Re<we;Re++)be(ae[Re]);var ce=void 0,Oe=void 0,Ne=function(fe){le.hasOwnProperty(fe)&&A.on(le[fe],function(){for(var Ge=arguments.length,m=Array(Ge),u=0;u<Ge;u++)m[u]=arguments[u];return function(fe,Ge){if("hlsError"===fe&&(console.warn(Ge),(Ge=Ge[1]).fatal))switch(Ge.type){case"mediaError":var m=(new Date).getTime();if(!ce||m-ce>3e3)ce=(new Date).getTime(),A.recoverMediaError();else if(!Oe||m-Oe>3e3)Oe=(new Date).getTime(),console.warn("Attempting to swap Audio Codec and recover from media error"),A.swapAudioCodec(),A.recoverMediaError();else{var u="Cannot recover, last media error recovery failed";t.generateError(u,_.src),console.error(u)}break;case"networkError":if("manifestLoadError"===Ge.details)if(O<G&&void 0!==T[O+1])_.setSrc(T[O++].src),_.load(),_.play();else{var I="Network error";t.generateError(I,T),console.error(I)}else{var C="Network error";t.generateError(C,T),console.error(C)}break;default:A.destroy()}else{var z=(0,r.createEvent)(fe,t);z.data=Ge,t.dispatchEvent(z)}}(le[fe],m)})};for(var Be in le)Ne(Be)},G>0)for(;O<G;O++)if(S.renderer.renderers[l.prefix].canPlayType(T[O].type)){_.setAttribute("src",T[O].src);break}"auto"!==b&&!x&&(_.addEventListener("play",function(){null!==A&&A.startLoad()}),_.addEventListener("pause",function(){null!==A&&A.stopLoad()})),_.setAttribute("id",E),p.parentNode.insertBefore(_,p),p.autoplay=!1,p.style.display="none",_.setSize=function(ee,le){return _.style.width=ee+"px",_.style.height=le+"px",_},_.hide=function(){return _.pause(),_.style.display="none",_},_.show=function(){return _.style.display="",_},_.destroy=function(){null!==A&&(A.stopLoad(),A.destroy())};var ie=(0,r.createEvent)("rendererready",_);return t.dispatchEvent(ie),t.promises.push(o.load({options:l.hls,id:E})),_}};d.typeChecks.push(function(e){return~e.toLowerCase().indexOf(".m3u8")?"application/x-mpegURL":null}),S.renderer.add(y)},{26:26,27:27,28:28,3:3,30:30,8:8,9:9}],24:[function(ut,ln,at){"use strict";var Pe=c(ut(3)),D=c(ut(2)),S=c(ut(8)),r=ut(9),n=ut(28),d=ut(26);function c(o){return o&&o.__esModule?o:{default:o}}var i={name:"html5",options:{prefix:"html5"},canPlayType:function(y){var e=D.default.createElement("video");return d.IS_ANDROID&&/\/mp(3|4)$/i.test(y)||~["application/x-mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(y.toLowerCase())&&d.SUPPORTS_NATIVE_HLS?"yes":e.canPlayType?e.canPlayType(y.toLowerCase()).replace(/no/,""):""},create:function(y,e,t){var l=y.id+"_"+e.prefix,T=!1,p=null;null==y.originalNode?(p=D.default.createElement("audio"),y.appendChild(p)):p=y.originalNode,p.setAttribute("id",l);for(var E=S.default.html5media.properties,b=function(w){var ie=""+w.substring(0,1).toUpperCase()+w.substring(1);p["get"+ie]=function(){return p[w]},p["set"+ie]=function(ee){-1===S.default.html5media.readOnlyProperties.indexOf(w)&&(p[w]=ee)}},x=0,A=E.length;x<A;x++)b(E[x]);for(var _=S.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(ue){return"error"!==ue}),G=0,j=_.length;G<j;G++)p.addEventListener(_[G],function(ie){if(T){var ee=(0,n.createEvent)(ie.type,ie.target);y.dispatchEvent(ee)}});p.setSize=function(ue,w){return p.style.width=ue+"px",p.style.height=w+"px",p},p.hide=function(){return T=!1,p.style.display="none",p},p.show=function(){return T=!0,p.style.display="",p};var ae=0,pe=t.length;if(pe>0)for(;ae<pe;ae++)if(r.renderer.renderers[e.prefix].canPlayType(t[ae].type)){p.setAttribute("src",t[ae].src);break}p.addEventListener("error",function(ue){ue&&ue.target&&ue.target.error&&4===ue.target.error.code&&T&&(ae<pe&&void 0!==t[ae+1]?(p.src=t[ae++].src,p.load(),p.play()):y.generateError("Media error: Format(s) not supported or source(s) not found",t))});var g=(0,n.createEvent)("rendererready",p);return y.dispatchEvent(g),p}};Pe.default.HtmlMediaElement=S.default.HtmlMediaElement=i,r.renderer.add(i)},{2:2,26:26,28:28,3:3,8:8,9:9}],25:[function(ut,ln,at){"use strict";var Pe=i(ut(3)),D=i(ut(2)),S=i(ut(8)),r=ut(9),n=ut(28),d=ut(30),c=ut(27);function i(e){return e&&e.__esModule?e:{default:e}}var o={isIframeStarted:!1,isIframeLoaded:!1,iframeQueue:[],enqueueIframe:function(t){o.isLoaded=typeof YT<"u"&&YT.loaded,o.isLoaded?o.createIframe(t):(o.loadIframeApi(),o.iframeQueue.push(t))},loadIframeApi:function(){o.isIframeStarted||((0,c.loadScript)("https://www.youtube.com/player_api"),o.isIframeStarted=!0)},iFrameReady:function(){for(o.isLoaded=!0,o.isIframeLoaded=!0;o.iframeQueue.length>0;){var t=o.iframeQueue.pop();o.createIframe(t)}},createIframe:function(t){return new YT.Player(t.containerId,t)},getYouTubeId:function(t){var l="";t.indexOf("?")>0?""===(l=o.getYouTubeIdFromParam(t))&&(l=o.getYouTubeIdFromUrl(t)):l=o.getYouTubeIdFromUrl(t);var T=l.substring(l.lastIndexOf("/")+1);return(l=T.split("?"))[0]},getYouTubeIdFromParam:function(t){if(null==t||!t.trim().length)return null;for(var T=t.split("?")[1].split("&"),p="",E=0,b=T.length;E<b;E++){var x=T[E].split("=");if("v"===x[0]){p=x[1];break}}return p},getYouTubeIdFromUrl:function(t){if(null==t||!t.trim().length)return null;var l=t.split("?");return(t=l[0]).substring(t.lastIndexOf("/")+1)},getYouTubeNoCookieUrl:function(t){if(null==t||!t.trim().length||-1===t.indexOf("//www.youtube"))return t;var l=t.split("/");return l[2]=l[2].replace(".com","-nocookie.com"),l.join("/")}},y={name:"youtube_iframe",options:{prefix:"youtube_iframe",youtube:{autoplay:0,controls:0,disablekb:1,end:0,loop:0,modestbranding:0,playsinline:0,rel:0,showinfo:0,start:0,iv_load_policy:3,nocookie:!1,imageQuality:null}},canPlayType:function(t){return~["video/youtube","video/x-youtube"].indexOf(t.toLowerCase())},create:function(t,l,T){var p={},E=[],x=null,A=!0,_=!1,O=null;p.options=l,p.id=t.id+"_"+l.prefix,p.mediaElement=t;for(var j=S.default.html5media.properties,ae=function(Be){var se=""+Be.substring(0,1).toUpperCase()+Be.substring(1);p["get"+se]=function(){if(null!==x){switch(Be){case"currentTime":return x.getCurrentTime();case"duration":return x.getDuration();case"volume":return x.getVolume()/100;case"playbackRate":return x.getPlaybackRate();case"paused":return A;case"ended":return _;case"muted":return x.isMuted();case"buffered":var Ge=x.getVideoLoadedFraction(),m=x.getDuration();return{start:function(){return 0},end:function(){return Ge*m},length:1};case"src":return x.getVideoUrl();case"readyState":return 4}return null}return null},p["set"+se]=function(fe){if(null!==x)switch(Be){case"src":var m=o.getYouTubeId("string"==typeof fe?fe:fe[0].src);t.originalNode.autoplay?x.loadVideoById(m):x.cueVideoById(m);break;case"currentTime":x.seekTo(fe);break;case"muted":fe?x.mute():x.unMute(),setTimeout(function(){var I=(0,n.createEvent)("volumechange",p);t.dispatchEvent(I)},50);break;case"volume":x.setVolume(100*fe),setTimeout(function(){var I=(0,n.createEvent)("volumechange",p);t.dispatchEvent(I)},50);break;case"playbackRate":x.setPlaybackRate(fe),setTimeout(function(){var I=(0,n.createEvent)("ratechange",p);t.dispatchEvent(I)},50);break;case"readyState":var u=(0,n.createEvent)("canplay",p);t.dispatchEvent(u)}else E.push({type:"set",propName:Be,value:fe})}},pe=0,g=j.length;pe<g;pe++)ae(j[pe]);for(var ue=S.default.html5media.methods,w=function(Be){p[Be]=function(){if(null!==x)switch(Be){case"play":return A=!1,x.playVideo();case"pause":return A=!0,x.pauseVideo();case"load":return null}else E.push({type:"call",methodName:Be})}},ie=0,ee=ue.length;ie<ee;ie++)w(ue[ie]);var be=D.default.createElement("div");be.id=p.id,p.options.youtube.nocookie&&(t.originalNode.src=o.getYouTubeNoCookieUrl(T[0].src)),t.originalNode.parentNode.insertBefore(be,t.originalNode),t.originalNode.style.display="none";var Re="audio"===t.originalNode.tagName.toLowerCase(),we=Re?"1":t.originalNode.height,ce=Re?"1":t.originalNode.width,Oe=o.getYouTubeId(T[0].src),qe={id:p.id,containerId:be.id,videoId:Oe,height:we,width:ce,host:p.options.youtube&&p.options.youtube.nocookie?"https://www.youtube-nocookie.com":void 0,playerVars:Object.assign({controls:0,rel:0,disablekb:1,showinfo:0,modestbranding:0,html5:1,iv_load_policy:3},p.options.youtube),origin:Pe.default.location.host,events:{onReady:function(Be){if(t.youTubeApi=x=Be.target,t.youTubeState={paused:!0,ended:!1},E.length)for(var se=0,fe=E.length;se<fe;se++){var Ge=E[se];if("set"===Ge.type){var m=Ge.propName,u=""+m.substring(0,1).toUpperCase()+m.substring(1);p["set"+u](Ge.value)}else"call"===Ge.type&&p[Ge.methodName]()}O=x.getIframe(),t.originalNode.muted&&x.mute();for(var I=["mouseover","mouseout"],C=function(Ke){var nt=(0,n.createEvent)(Ke.type,p);t.dispatchEvent(nt)},z=0,V=I.length;z<V;z++)O.addEventListener(I[z],C,!1);for(var ye=["rendererready","loadedmetadata","loadeddata","canplay"],Le=0,ke=ye.length;Le<ke;Le++){var Ce=(0,n.createEvent)(ye[Le],p);t.dispatchEvent(Ce)}},onStateChange:function(Be){var se=[];switch(Be.data){case-1:se=["loadedmetadata"],A=!0,_=!1;break;case 0:se=["ended"],A=!1,_=!p.options.youtube.loop,p.options.youtube.loop||p.stopInterval();break;case 1:se=["play","playing"],A=!1,_=!1,p.startInterval();break;case 2:se=["pause"],A=!0,_=!1,p.stopInterval();break;case 3:se=["progress"],_=!1;break;case 5:se=["loadeddata","loadedmetadata","canplay"],A=!0,_=!1}for(var fe=0,Ge=se.length;fe<Ge;fe++){var m=(0,n.createEvent)(se[fe],p);t.dispatchEvent(m)}},onError:function(Be){return function(Be){var se="";switch(Be.data){case 2:se="The request contains an invalid parameter value. Verify that video ID has 11 characters and that contains no invalid characters, such as exclamation points or asterisks.";break;case 5:se="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.";break;case 100:se="The video requested was not found. Either video has been removed or has been marked as private.";break;case 101:case 105:se="The owner of the requested video does not allow it to be played in embedded players.";break;default:se="Unknown error."}t.generateError("Code "+Be.data+": "+se,T)}(Be)}}};return(Re||t.originalNode.hasAttribute("playsinline"))&&(qe.playerVars.playsinline=1),t.originalNode.controls&&(qe.playerVars.controls=1),t.originalNode.autoplay&&(qe.playerVars.autoplay=1),t.originalNode.loop&&(qe.playerVars.loop=1),(qe.playerVars.loop&&1===parseInt(qe.playerVars.loop,10)||t.originalNode.src.indexOf("loop=")>-1)&&!qe.playerVars.playlist&&-1===t.originalNode.src.indexOf("playlist=")&&(qe.playerVars.playlist=o.getYouTubeId(t.originalNode.src)),o.enqueueIframe(qe),p.onEvent=function(Ne,Be,se){null!=se&&(t.youTubeState=se)},p.setSize=function(Ne,Be){null!==x&&x.setSize(Ne,Be)},p.hide=function(){p.stopInterval(),p.pause(),O&&(O.style.display="none")},p.show=function(){O&&(O.style.display="")},p.destroy=function(){x.destroy()},p.interval=null,p.startInterval=function(){p.interval=setInterval(function(){var Ne=(0,n.createEvent)("timeupdate",p);t.dispatchEvent(Ne)},250)},p.stopInterval=function(){p.interval&&clearInterval(p.interval)},p.getPosterUrl=function(){var Ne=l.youtube.imageQuality,se=o.getYouTubeId(t.originalNode.src);return Ne&&["default","hqdefault","mqdefault","sddefault","maxresdefault"].indexOf(Ne)>-1&&se?"https://img.youtube.com/vi/"+se+"/"+Ne+".jpg":""},p}};Pe.default.onYouTubePlayerAPIReady=function(){o.iFrameReady()},d.typeChecks.push(function(e){return/\/\/(www\.youtube|youtu\.?be)/i.test(e)?"video/x-youtube":null}),r.renderer.add(y)},{2:2,27:27,28:28,3:3,30:30,8:8,9:9}],26:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0}),at.cancelFullScreen=at.requestFullScreen=at.isFullScreen=at.FULLSCREEN_EVENT_NAME=at.HAS_NATIVE_FULLSCREEN_ENABLED=at.HAS_TRUE_NATIVE_FULLSCREEN=at.HAS_IOS_FULLSCREEN=at.HAS_MS_NATIVE_FULLSCREEN=at.HAS_MOZ_NATIVE_FULLSCREEN=at.HAS_WEBKIT_NATIVE_FULLSCREEN=at.HAS_NATIVE_FULLSCREEN=at.SUPPORTS_NATIVE_HLS=at.SUPPORT_PASSIVE_EVENT=at.SUPPORT_POINTER_EVENTS=at.HAS_MSE=at.IS_STOCK_ANDROID=at.IS_SAFARI=at.IS_FIREFOX=at.IS_CHROME=at.IS_EDGE=at.IS_IE=at.IS_ANDROID=at.IS_IOS=at.IS_IPOD=at.IS_IPHONE=at.IS_IPAD=at.UA=at.NAV=void 0;var Pe=r(ut(3)),D=r(ut(2)),S=r(ut(8));function r(I){return I&&I.__esModule?I:{default:I}}for(var n=at.NAV=Pe.default.navigator,d=at.UA=n.userAgent.toLowerCase(),c=at.IS_IPAD=/ipad/i.test(d)&&!Pe.default.MSStream,i=at.IS_IPHONE=/iphone/i.test(d)&&!Pe.default.MSStream,o=at.IS_IPOD=/ipod/i.test(d)&&!Pe.default.MSStream,e=(at.IS_IOS=/ipad|iphone|ipod/i.test(d)&&!Pe.default.MSStream,at.IS_ANDROID=/android/i.test(d)),t=at.IS_IE=/(trident|microsoft)/i.test(n.appName),l=(at.IS_EDGE="msLaunchUri"in n&&!("documentMode"in D.default)),T=at.IS_CHROME=/chrome/i.test(d),p=at.IS_FIREFOX=/firefox/i.test(d),E=at.IS_SAFARI=/safari/i.test(d)&&!T,b=at.IS_STOCK_ANDROID=/^mozilla\/\d+\.\d+\s\(linux;\su;/i.test(d),x=(at.HAS_MSE="MediaSource"in Pe.default),A=at.SUPPORT_POINTER_EVENTS=function(){var I=D.default.createElement("x"),C=D.default.documentElement,z=Pe.default.getComputedStyle;if(!("pointerEvents"in I.style))return!1;I.style.pointerEvents="auto",I.style.pointerEvents="x",C.appendChild(I);var V=z&&"auto"===(z(I,"")||{}).pointerEvents;return I.remove(),!!V}(),_=at.SUPPORT_PASSIVE_EVENT=function(){var I=!1;try{var C=Object.defineProperty({},"passive",{get:function(){I=!0}});Pe.default.addEventListener("test",null,C)}catch{}return I}(),O=["source","track","audio","video"],G=void 0,j=0,ae=O.length;j<ae;j++)G=D.default.createElement(O[j]);var pe=at.SUPPORTS_NATIVE_HLS=E||t&&/edge/i.test(d),g=void 0!==G.webkitEnterFullscreen,ue=void 0!==G.requestFullscreen;g&&/mac os x 10_5/i.test(d)&&(ue=!1,g=!1);var w=void 0!==G.webkitRequestFullScreen,ie=void 0!==G.mozRequestFullScreen,ee=void 0!==G.msRequestFullscreen,le=w||ie||ee,be=le,Re="",we=void 0,ce=void 0,Oe=void 0;ie?be=D.default.mozFullScreenEnabled:ee&&(be=D.default.msFullscreenEnabled),T&&(g=!1),le&&(w?Re="webkitfullscreenchange":ie?Re="fullscreenchange":ee&&(Re="MSFullscreenChange"),at.isFullScreen=we=function(){return ie?D.default.mozFullScreen:w?D.default.webkitIsFullScreen:ee?null!==D.default.msFullscreenElement:void 0},at.requestFullScreen=ce=function(C){w?C.webkitRequestFullScreen():ie?C.mozRequestFullScreen():ee&&C.msRequestFullscreen()},at.cancelFullScreen=Oe=function(){w?D.default.webkitCancelFullScreen():ie?D.default.mozCancelFullScreen():ee&&D.default.msExitFullscreen()});var qe=at.HAS_NATIVE_FULLSCREEN=ue,Ne=at.HAS_WEBKIT_NATIVE_FULLSCREEN=w,Be=at.HAS_MOZ_NATIVE_FULLSCREEN=ie,se=at.HAS_MS_NATIVE_FULLSCREEN=ee,fe=at.HAS_IOS_FULLSCREEN=g,Ge=at.HAS_TRUE_NATIVE_FULLSCREEN=le,m=at.HAS_NATIVE_FULLSCREEN_ENABLED=be,u=at.FULLSCREEN_EVENT_NAME=Re;at.isFullScreen=we,at.requestFullScreen=ce,at.cancelFullScreen=Oe,S.default.Features=S.default.Features||{},S.default.Features.isiPad=c,S.default.Features.isiPod=o,S.default.Features.isiPhone=i,S.default.Features.isiOS=S.default.Features.isiPhone||S.default.Features.isiPad,S.default.Features.isAndroid=e,S.default.Features.isIE=t,S.default.Features.isEdge=l,S.default.Features.isChrome=T,S.default.Features.isFirefox=p,S.default.Features.isSafari=E,S.default.Features.isStockAndroid=b,S.default.Features.hasMSE=x,S.default.Features.supportsNativeHLS=pe,S.default.Features.supportsPointerEvents=A,S.default.Features.supportsPassiveEvent=_,S.default.Features.hasiOSFullScreen=fe,S.default.Features.hasNativeFullscreen=qe,S.default.Features.hasWebkitNativeFullScreen=Ne,S.default.Features.hasMozNativeFullScreen=Be,S.default.Features.hasMsNativeFullScreen=se,S.default.Features.hasTrueNativeFullScreen=Ge,S.default.Features.nativeFullScreenEnabled=m,S.default.Features.fullScreenEventName=u,S.default.Features.isFullScreen=we,S.default.Features.requestFullScreen=ce,S.default.Features.cancelFullScreen=Oe},{2:2,3:3,8:8}],27:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0}),at.removeClass=at.addClass=at.hasClass=void 0,at.loadScript=n,at.offset=d,at.toggleClass=l,at.fadeOut=T,at.fadeIn=p,at.siblings=E,at.visible=b,at.ajax=x;var Pe=r(ut(3)),D=r(ut(2)),S=r(ut(8));function r(A){return A&&A.__esModule?A:{default:A}}function n(A){return new Promise(function(_,O){var G=D.default.createElement("script");G.src=A,G.async=!0,G.onload=function(){G.remove(),_()},G.onerror=function(){G.remove(),O()},D.default.head.appendChild(G)})}function d(A){var _=A.getBoundingClientRect();return{top:_.top+(Pe.default.pageYOffset||D.default.documentElement.scrollTop),left:_.left+(Pe.default.pageXOffset||D.default.documentElement.scrollLeft)}}var c=void 0,i=void 0,o=void 0;"classList"in D.default.documentElement?(c=function(_,O){return void 0!==_.classList&&_.classList.contains(O)},i=function(_,O){return _.classList.add(O)},o=function(_,O){return _.classList.remove(O)}):(c=function(_,O){return new RegExp("\\b"+O+"\\b").test(_.className)},i=function(_,O){y(_,O)||(_.className+=" "+O)},o=function(_,O){_.className=_.className.replace(new RegExp("\\b"+O+"\\b","g"),"")});var y=at.hasClass=c,e=at.addClass=i,t=at.removeClass=o;function l(A,_){y(A,_)?t(A,_):e(A,_)}function T(A){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,O=arguments[2];A.style.opacity||(A.style.opacity=1);var G=null;Pe.default.requestAnimationFrame(function j(ae){var pe=ae-(G=G||ae),g=parseFloat(1-pe/_,2);A.style.opacity=g<0?0:g,pe>_?O&&"function"==typeof O&&O():Pe.default.requestAnimationFrame(j)})}function p(A){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,O=arguments[2];A.style.opacity||(A.style.opacity=0);var G=null;Pe.default.requestAnimationFrame(function j(ae){var pe=ae-(G=G||ae),g=parseFloat(pe/_,2);A.style.opacity=g>1?1:g,pe>_?O&&"function"==typeof O&&O():Pe.default.requestAnimationFrame(j)})}function E(A,_){var O=[];A=A.parentNode.firstChild;do{(!_||_(A))&&O.push(A)}while(A=A.nextSibling);return O}function b(A){return void 0!==A.getClientRects&&"function"===A.getClientRects?!!(A.offsetWidth||A.offsetHeight||A.getClientRects().length):!(!A.offsetWidth&&!A.offsetHeight)}function x(A,_,O,G){var j=Pe.default.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),ae="application/x-www-form-urlencoded; charset=UTF-8",pe=!1,g="*/".concat("*");switch(_){case"text":ae="text/plain";break;case"json":ae="application/json, text/javascript";break;case"html":ae="text/html";break;case"xml":ae="application/xml, text/xml"}"application/x-www-form-urlencoded"!==ae&&(g=ae+", */*; q=0.01"),j&&(j.open("GET",A,!0),j.setRequestHeader("Accept",g),j.onreadystatechange=function(){if(!pe&&4===j.readyState)if(200===j.status){pe=!0;var ue=void 0;switch(_){case"json":ue=JSON.parse(j.responseText);break;case"xml":ue=j.responseXML;break;default:ue=j.responseText}O(ue)}else"function"==typeof G&&G(j.status)},j.send())}S.default.Utils=S.default.Utils||{},S.default.Utils.offset=d,S.default.Utils.hasClass=y,S.default.Utils.addClass=e,S.default.Utils.removeClass=t,S.default.Utils.toggleClass=l,S.default.Utils.fadeIn=p,S.default.Utils.fadeOut=T,S.default.Utils.siblings=E,S.default.Utils.visible=b,S.default.Utils.ajax=x,S.default.Utils.loadScript=n},{2:2,3:3,8:8}],28:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0}),at.escapeHTML=D,at.debounce=J,at.isObjectEmpty=S,at.splitEvents=r,at.createEvent=n,at.isNodeAfter=d,at.isString=c;var Pe=function Ie(i){return i&&i.__esModule?i:{default:i}}(ut(8));function D(i){if("string"!=typeof i)throw new Error("Argument passed must be a string");var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return i.replace(/[&<>"]/g,function(y){return o[y]})}function J(i,o){var y=this,e=arguments,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"!=typeof i)throw new Error("First argument must be a function");if("number"!=typeof o)throw new Error("Second argument must be a numeric value");var l=void 0;return function(){var T=y,p=e,b=t&&!l;clearTimeout(l),l=setTimeout(function(){l=null,t||i.apply(T,p)},o),b&&i.apply(T,p)}}function S(i){return Object.getOwnPropertyNames(i).length<=0}function r(i,o){var y=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/,e={d:[],w:[]};return(i||"").split(" ").forEach(function(t){var l=t+(o?"."+o:"");l.startsWith(".")?(e.d.push(l),e.w.push(l)):e[y.test(t)?"w":"d"].push(l)}),e.d=e.d.join(" "),e.w=e.w.join(" "),e}function n(i,o){if("string"!=typeof i)throw new Error("Event name must be a string");var y=i.match(/([a-z]+\.([a-z]+))/i),e={target:o};return null!==y&&(i=y[1],e.namespace=y[2]),new window.CustomEvent(i,{detail:e})}function d(i,o){return!!(i&&o&&2&i.compareDocumentPosition(o))}function c(i){return"string"==typeof i}Pe.default.Utils=Pe.default.Utils||{},Pe.default.Utils.escapeHTML=D,Pe.default.Utils.debounce=J,Pe.default.Utils.isObjectEmpty=S,Pe.default.Utils.splitEvents=r,Pe.default.Utils.createEvent=n,Pe.default.Utils.isNodeAfter=d,Pe.default.Utils.isString=c},{8:8}],29:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0}),at.generateControlButton=D;var Pe=function Ie(J){return J&&J.__esModule?J:{default:J}}(ut(8));function D(J,S,r,n,d,c){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",y=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;if("string"!=typeof J)throw new Error("`ariaControls` argument must be a string");if("string"!=typeof S)throw new Error("`ariaLabel` argument must be a string");if("string"!=typeof r)throw new Error("`title` argument must be a string");if("string"!=typeof n)throw new Error("`iconSprite` argument must be a string");if("string"!=typeof o)throw new Error("`ariaDescribedby` argument must be a string");if(!Array.isArray(d))throw new Error("`icons` argument must be an array");if("string"!=typeof c)throw new Error("`classPrefix` argument must be a string");var e=i?'class="'+i+'" ':"",t=""!==o?'aria-describedby="'+o+'" ':"",l=null!==y?'aria-pressed="'+y+'"':"",T=d.map(function(p){return'<svg xmlns="http://www.w3.org/2000/svg" id="'+J+"-"+p+'" class="'+c+p+'" aria-hidden="true" focusable="false">\n\t\t\t\t<use xlink:href="'+n+"#"+p+'"></use>\n\t\t\t</svg>\n'});return"<button "+e+' type="button" aria-controls="'+J+'" title="'+r+'" aria-label="'+S+'" '+t+" "+l+">\n\t\t\t"+T.join("")+"\n\t\t</button>"}Pe.default.Utils=Pe.default.Utils||{},Pe.default.Utils.generateControlButton=D},{8:8}],30:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0}),at.typeChecks=void 0,at.absolutizeUrl=S,at.formatType=r,at.getMimeFromType=n,at.getTypeFromFile=d,at.getExtension=c,at.normalizeExtension=i;var Pe=function D(o){return o&&o.__esModule?o:{default:o}}(ut(8)),Ie=ut(28),J=at.typeChecks=[];function S(o){if("string"!=typeof o)throw new Error("`url` argument must be a string");var y=document.createElement("div");return y.innerHTML='<a href="'+(0,Ie.escapeHTML)(o)+'">x</a>',y.firstChild.href}function r(o){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o&&!y?d(o):y}function n(o){if("string"!=typeof o)throw new Error("`type` argument must be a string");return o&&o.indexOf(";")>-1?o.substr(0,o.indexOf(";")):o}function d(o){if("string"!=typeof o)throw new Error("`url` argument must be a string");for(var y=0,e=J.length;y<e;y++){var t=J[y](o);if(t)return t}var T=i(c(o)),p="video/mp4";return T&&(~["mp4","m4v","ogg","ogv","webm","flv","mpeg"].indexOf(T)?p="video/"+T:"mov"===T?p="video/quicktime":~["mp3","oga","wav","mid","midi"].indexOf(T)&&(p="audio/"+T)),p}function c(o){if("string"!=typeof o)throw new Error("`url` argument must be a string");var e=o.split("?")[0].split("\\").pop().split("/").pop();return~e.indexOf(".")?e.substring(e.lastIndexOf(".")+1):""}function i(o){if("string"!=typeof o)throw new Error("`extension` argument must be a string");switch(o){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return o}}Pe.default.Utils=Pe.default.Utils||{},Pe.default.Utils.typeChecks=J,Pe.default.Utils.absolutizeUrl=S,Pe.default.Utils.formatType=r,Pe.default.Utils.getMimeFromType=n,Pe.default.Utils.getTypeFromFile=d,Pe.default.Utils.getExtension=c,Pe.default.Utils.normalizeExtension=i},{28:28,8:8}],31:[function(ut,ln,at){"use strict";var d,Pe=r(ut(2)),D=r(ut(4)),S=r(ut(5));function r(d){return d&&d.__esModule?d:{default:d}}if([Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(c){c.hasOwnProperty("remove")||Object.defineProperty(c,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),function(){if("function"==typeof window.CustomEvent)return!1;function d(c,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var o=Pe.default.createEvent("CustomEvent");return o.initCustomEvent(c,i.bubbles,i.cancelable,i.detail),o}d.prototype=window.Event.prototype,window.CustomEvent=d}(),"function"!=typeof Object.assign&&(Object.assign=function(d){if(null==d)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(d),i=1,o=arguments.length;i<o;i++){var y=arguments[i];if(null!==y)for(var e in y)Object.prototype.hasOwnProperty.call(y,e)&&(c[e]=y[e])}return c}),String.prototype.startsWith||(String.prototype.startsWith=function(d,c){return this.substr(c=c||0,d.length)===d}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(d){for(var c=(this.document||this.ownerDocument).querySelectorAll(d),i=c.length-1;--i>=0&&c.item(i)!==this;);return i>-1}),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(d){var c=(this.document||this.ownerDocument).querySelectorAll(d),i=void 0,o=this;do{for(i=c.length;--i>=0&&c.item(i)!==o;);}while(i<0&&(o=o.parentElement));return o}),function(){for(var d=0,c=["ms","moz","webkit","o"],i=0;i<c.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[c[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[i]+"CancelAnimationFrame"]||window[c[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(o){var y=(new Date).getTime(),e=Math.max(0,16-(y-d)),t=window.setTimeout(function(){o(y+e)},e);return d=y+e,t}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(o){clearTimeout(o)})}(),/firefox/i.test(navigator.userAgent)){var n=window.getComputedStyle;window.getComputedStyle=function(d,c){var i=n(d,c);return null===i?{getPropertyValue:function(){}}:i}}window.Promise||(window.Promise=D.default),(0,S.default)(),(d=window.Node||window.Element)&&d.prototype&&null===d.prototype.children&&Object.defineProperty(d.prototype,"children",{get:function(){for(var i=0,o=void 0,y=this.childNodes,e=[];o=y[i++];)1===o.nodeType&&e.push(o);return e}})},{2:2,4:4,5:5}],32:[function(ut,ln,at){"use strict";Object.defineProperty(at,"__esModule",{value:!0}),at.isDropFrame=D,at.secondsToTimeCode=J,at.timeCodeToSeconds=S,at.calculateTimeFormat=r,at.convertSMPTEtoSeconds=n;var Pe=function Ie(d){return d&&d.__esModule?d:{default:d}}(ut(8));function D(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:25)%1!=0}function J(d){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,e=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"hh:mm:ss";d=!d||"number"!=typeof d||d<0?0:d;var t=Math.round(.066666*o),l=Math.round(o),T=24*Math.round(3600*o),p=Math.round(600*o),E=D(o)?";":":",b=void 0,x=void 0,A=void 0,_=void 0,O=Math.round(d*o);if(D(o)){O<0&&(O=T+O);var j=(O%=T)%p;O+=9*t*Math.floor(O/p),j>t&&(O+=t*Math.floor((j-t)/Math.round(60*l-t)));var ae=Math.floor(O/l);b=Math.floor(Math.floor(ae/60)/60),x=Math.floor(ae/60)%60,A=i?ae%60:Math.floor(O/l%60).toFixed(y)}else b=Math.floor(d/3600)%24,x=Math.floor(d/60)%60,A=i?Math.floor(d%60):Math.floor(d%60).toFixed(y);b=b<=0?0:b,A=60===(A=A<=0?0:A)?0:A,x=60===(x=x<=0?0:x)?0:x;for(var pe=e.split(":"),g={},ue=0,w=pe.length;ue<w;++ue){for(var ie="",ee=0,le=pe[ue].length;ee<le;ee++)ie.indexOf(pe[ue][ee])<0&&(ie+=pe[ue][ee]);~["f","s","m","h"].indexOf(ie)&&(g[ie]=pe[ue].length)}var be=c||b>0?(b<10&&g.h>1?"0"+b:b)+":":"";return be+=(x<10&&g.m>1?"0"+x:x)+":",be+=""+(A<10&&g.s>1?"0"+A:A),i&&(be+=(_=(_=(O%l).toFixed(0))<=0?0:_)<10&&g.f?E+"0"+_:""+E+_),be}function S(d){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;if("string"!=typeof d)throw new TypeError("Time must be a string");if(d.indexOf(";")>0&&(d=d.replace(";",":")),!/\d{2}(\:\d{2}){0,3}/i.test(d))throw new TypeError("Time code must have the format `00:00:00`");var i=d.split(":"),o=void 0,y=0,e=0,t=0,l=0,T=0,p=Math.round(.066666*c),E=Math.round(c),b=3600*E,x=60*E;switch(i.length){default:case 1:t=parseInt(i[0],10);break;case 2:e=parseInt(i[0],10),t=parseInt(i[1],10);break;case 3:y=parseInt(i[0],10),e=parseInt(i[1],10),t=parseInt(i[2],10);break;case 4:y=parseInt(i[0],10),e=parseInt(i[1],10),t=parseInt(i[2],10),l=parseInt(i[3],10)}return o=D(c)?b*y+x*e+E*t+l-p*((T=60*y+e)-Math.floor(T/10)):(b*y+x*e+c*t+l)/c,parseFloat(o.toFixed(3))}function r(d,c){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25;d=!d||"number"!=typeof d||d<0?0:d;for(var o=Math.floor(d/3600)%24,y=Math.floor(d/60)%60,e=Math.floor(d%60),l=[[Math.floor((d%1*i).toFixed(3)),"f"],[e,"s"],[y,"m"],[o,"h"]],T=c.timeFormat,p=T[1]===T[0],E=p?2:1,b=T.length<E?T[E]:":",x=T[0],A=!1,_=0,O=l.length;_<O;_++)if(~T.indexOf(l[_][1]))A=!0;else if(A){for(var G=!1,j=_;j<O;j++)if(l[j][0]>0){G=!0;break}if(!G)break;p||(T=x+T),T=l[_][1]+b+T,p&&(T=l[_][1]+T),x=l[_][1]}c.timeFormat=T}function n(d){if("string"!=typeof d)throw new TypeError("Argument must be a string value");for(var c=~(d=d.replace(",",".")).indexOf(".")?d.split(".")[1].length:0,i=0,o=1,y=0,e=(d=d.split(":").reverse()).length;y<e;y++)o=1,y>0&&(o=Math.pow(60,y)),i+=Number(d[y])*o;return Number(i.toFixed(c))}Pe.default.Utils=Pe.default.Utils||{},Pe.default.Utils.secondsToTimeCode=J,Pe.default.Utils.timeCodeToSeconds=S,Pe.default.Utils.calculateTimeFormat=r,Pe.default.Utils.convertSMPTEtoSeconds=n},{8:8}]},{},[31,7,6,16,24,21,20,22,23,25,17,19,18,10,11,12,13,14,15]),function(ut,ln){"object"==typeof exports&&"object"==typeof module?module.exports=ln():"function"==typeof define&&define.amd?define([],ln):"object"==typeof exports?exports.dashjs=ln():ut.dashjs=ln()}(self,()=>(()=>{var ut={4593:(Pe,Ie)=>{var D,J,S,r,n,i={};D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J=function(o){for(var y=0,e=[],t=0|o.length/3;0<t--;){var l=(o[y]<<16)+(o[y+1]<<8)+o[y+2];y+=3,e.push(D.charAt(63&l>>18)),e.push(D.charAt(63&l>>12)),e.push(D.charAt(63&l>>6)),e.push(D.charAt(63&l))}return o.length-y==2?(e.push(D.charAt(63&(l=(o[y]<<16)+(o[y+1]<<8))>>18)),e.push(D.charAt(63&l>>12)),e.push(D.charAt(63&l>>6)),e.push("=")):o.length-y==1&&(e.push(D.charAt(63&(l=o[y]<<16)>>18)),e.push(D.charAt(63&l>>12)),e.push("==")),e.join("")},S=function(){for(var o=[],y=0;y<64;++y)o[D.charCodeAt(y)]=y;return o["=".charCodeAt(0)]=0,o}(),r=function(o){for(var y=0,e=[],t=0|o.length/4;0<t--;){var l=(S[o.charCodeAt(y)]<<18)+(S[o.charCodeAt(y+1)]<<12)+(S[o.charCodeAt(y+2)]<<6)+S[o.charCodeAt(y+3)];e.push(255&l>>16),e.push(255&l>>8),e.push(255&l),y+=4}return e&&("="==o.charAt(y-2)?(e.pop(),e.pop()):"="==o.charAt(y-1)&&e.pop()),e},n={encode:function(o){for(var y=[],e=0;e<o.length;++e)y.push(o.charCodeAt(e));return y},decode:function(o){for(var y=0;y<s.length;++y)a[y]=String.fromCharCode(a[y]);return a.join("")}},i.decodeArray=function(o){var y=r(o);return new Uint8Array(y)},i.encodeASCII=function(o){var y=n.encode(o);return J(y)},i.decodeASCII=function(o){var y=r(o);return n.decode(y)},i.encode=function(o){var y=function(o){for(var y=[],e=0;e<o.length;++e){var t=o.charCodeAt(e);t<128?y.push(t):t<2048?(y.push(192|t>>6),y.push(128|63&t)):t<65536?(y.push(224|t>>12),y.push(128|63&t>>6),y.push(128|63&t)):(y.push(240|t>>18),y.push(128|63&t>>12),y.push(128|63&t>>6),y.push(128|63&t))}return y}(o);return J(y)},i.decode=function(o){return function(o){for(var y=[],e=0;e<o.length;){var t=o[e++];t<128||(t<224?(t=(31&t)<<6,t|=63&o[e++]):t<240?(t=(15&t)<<12,t|=(63&o[e++])<<6,t|=63&o[e++]):(t=(7&t)<<18,t|=(63&o[e++])<<12,t|=(63&o[e++])<<6,t|=63&o[e++])),y.push(String.fromCharCode(t))}return y.join("")}(r(o))},Ie.decode=i.decode,Ie.decodeArray=i.decodeArray,Ie.encode=i.encode,Ie.encodeASCII=i.encodeASCII},452:(Pe,Ie)=>{!function(D){"use strict";var J={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},S=function(A){var _=A;return J.hasOwnProperty(A)&&(_=J[A]),String.fromCharCode(_)},r=15,n=32,d={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},c={17:2,18:4,21:6,22:8,23:10,19:13,20:15},i={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},o={25:2,26:4,29:6,30:8,31:10,27:13,28:15},y=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],e={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(A){this.time=A},log:function(A,_){this.verboseLevel>=this.verboseFilter[A]&&console.log(this.time+" ["+A+"] "+_)}},t=function(A){for(var _=[],O=0;O<A.length;O++)_.push(A[O].toString(16));return _},l=function(A,_,O,G,j){this.foreground=A||"white",this.underline=_||!1,this.italics=O||!1,this.background=G||"black",this.flash=j||!1};l.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(A){for(var _=["foreground","underline","italics","background","flash"],O=0;O<_.length;O++){var G=_[O];A.hasOwnProperty(G)&&(this[G]=A[G])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(A){return this.foreground===A.foreground&&this.underline===A.underline&&this.italics===A.italics&&this.background===A.background&&this.flash===A.flash},copy:function(A){this.foreground=A.foreground,this.underline=A.underline,this.italics=A.italics,this.background=A.background,this.flash=A.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var T=function(A,_,O,G,j,ae){this.uchar=A||" ",this.penState=new l(_,O,G,j,ae)};T.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(A,_){this.uchar=A,this.penState.copy(_)},setPenState:function(A){this.penState.copy(A)},equals:function(A){return this.uchar===A.uchar&&this.penState.equals(A.penState)},copy:function(A){this.uchar=A.uchar,this.penState.copy(A.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var p=function(){this.chars=[];for(var A=0;A<n;A++)this.chars.push(new T);this.pos=0,this.currPenState=new l};p.prototype={equals:function(A){for(var _=!0,O=0;O<n;O++)if(!this.chars[O].equals(A.chars[O])){_=!1;break}return _},copy:function(A){for(var _=0;_<n;_++)this.chars[_].copy(A.chars[_])},isEmpty:function(){for(var A=!0,_=0;_<n;_++)if(!this.chars[_].isEmpty()){A=!1;break}return A},setCursor:function(A){this.pos!==A&&(this.pos=A),this.pos<0?(e.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>n&&(e.log("ERROR","Too large cursor position "+this.pos),this.pos=n)},moveCursor:function(A){var _=this.pos+A;if(A>1)for(var O=this.pos+1;O<_+1;O++)this.chars[O].setPenState(this.currPenState);this.setCursor(_)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(A){A>=144&&this.backSpace();var _=S(A);this.pos>=n?e.log("ERROR","Cannot insert "+A.toString(16)+" ("+_+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(_,this.currPenState),this.moveCursor(1))},clearFromPos:function(A){var _;for(_=A;_<n;_++)this.chars[_].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var A=[],_=!0,O=0;O<n;O++){var G=this.chars[O].uchar;" "!==G&&(_=!1),A.push(G)}return _?"":A.join("")},setPenStyles:function(A){this.currPenState.setStyles(A),this.chars[this.pos].setPenState(this.currPenState)}};var E=function(){this.rows=[];for(var A=0;A<r;A++)this.rows.push(new p);this.currRow=14,this.nrRollUpRows=null,this.reset()};E.prototype={reset:function(){for(var A=0;A<r;A++)this.rows[A].clear();this.currRow=14},equals:function(A){for(var _=!0,O=0;O<r;O++)if(!this.rows[O].equals(A.rows[O])){_=!1;break}return _},copy:function(A){for(var _=0;_<r;_++)this.rows[_].copy(A.rows[_])},isEmpty:function(){for(var A=!0,_=0;_<r;_++)if(!this.rows[_].isEmpty()){A=!1;break}return A},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(A){this.rows[this.currRow].insertChar(A)},setPen:function(A){this.rows[this.currRow].setPenStyles(A)},moveCursor:function(A){this.rows[this.currRow].moveCursor(A)},setCursor:function(A){e.log("INFO","setCursor: "+A),this.rows[this.currRow].setCursor(A)},setPAC:function(A){e.log("INFO","pacData = "+JSON.stringify(A));var _=A.row-1;this.nrRollUpRows&&_<this.nrRollUpRows-1&&(_=this.nrRollUpRows-1),this.currRow=_;var O=this.rows[this.currRow];if(null!==A.indent){var j=Math.max(A.indent-1,0);O.setCursor(A.indent),A.color=O.chars[j].penState.foreground}this.setPen({foreground:A.color,underline:A.underline,italics:A.italics,background:"black",flash:!1})},setBkgData:function(A){e.log("INFO","bkgData = "+JSON.stringify(A)),this.backSpace(),this.setPen(A),this.insertChar(32)},setRollUpRows:function(A){this.nrRollUpRows=A},rollUp:function(){if(null!==this.nrRollUpRows){e.log("TEXT",this.getDisplayText());var _=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];_.clear(),this.rows.splice(this.currRow,0,_),e.log("INFO","Rolling up")}else e.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(A){A=A||!1;for(var _=[],O="",j=0;j<r;j++){var ae=this.rows[j].getTextString();ae&&_.push(A?"Row "+(j+1)+': "'+ae+'"':ae.trim())}return _.length>0&&(O=A?"["+_.join(" | ")+"]":_.join("\n")),O},getTextAndFormat:function(){return this.rows}};var b=function(A,_){this.chNr=A,this.outputFilter=_,this.mode=null,this.verbose=0,this.displayedMemory=new E,this.nonDisplayedMemory=new E,this.lastOutputScreen=new E,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};b.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(A){this.outputFilter=A},setPAC:function(A){this.writeScreen.setPAC(A)},setBkgData:function(A){this.writeScreen.setBkgData(A)},setMode:function(A){A!==this.mode&&(this.mode=A,e.log("INFO","MODE="+A),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=A)},insertChars:function(A){for(var _=0;_<A.length;_++)this.writeScreen.insertChar(A[_]);e.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(e.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){e.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){e.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){e.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(A){e.log("INFO","RU("+A+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(A)},cc_FON:function(){e.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){e.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){e.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){e.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){e.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){e.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){e.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(e.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var A=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=A,this.writeScreen=this.nonDisplayedMemory,e.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(A){e.log("INFO","TO("+A+") - Tab Offset"),this.writeScreen.moveCursor(A)},cc_MIDROW:function(A){var _={flash:!1};if(_.underline=A%2==1,_.italics=A>=46,_.italics)_.foreground="white";else{var O=Math.floor(A/2)-16;_.foreground=["white","green","blue","cyan","red","yellow","magenta"][O]}e.log("INFO","MIDROW: "+JSON.stringify(_)),this.writeScreen.setPen(_)},outputDataUpdate:function(){var A=e.time;null!==A&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(A,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,A,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:A):this.cueStartTime=A,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(A){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,A,this.displayedMemory),this.cueStartTime=A))}};var x=function(A,_,O){this.field=A||1,this.outputs=[_,O],this.channels=[new b(1,_),new b(2,O)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};x.prototype={getHandler:function(A){return this.channels[A].getHandler()},setHandler:function(A,_){this.channels[A].setHandler(_)},addData:function(A,_){var O,G,j,ae=!1;this.lastTime=A,e.setTime(A);for(var pe=0;pe<_.length;pe+=2)j=127&_[pe+1],(G=127&_[pe])>=16&&G<=31&&G===this.lastCmdA&&j===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,e.log("DEBUG","Repeated command ("+t([G,j])+") is dropped")):0!==G||0!==j?(e.log("DATA","["+t([_[pe],_[pe+1]])+"] -> ("+t([G,j])+")"),(O=this.parseCmd(G,j))||(O=this.parseMidrow(G,j)),O||(O=this.parsePAC(G,j)),O||(O=this.parseBackgroundAttributes(G,j)),O||(ae=this.parseChars(G,j))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(ae):e.log("WARNING","No channel found yet. TEXT-MODE?")),O?this.dataCounters.cmd+=2:ae?this.dataCounters.char+=2:(this.dataCounters.other+=2,e.log("WARNING","Couldn't parse cleaned data "+t([G,j])+" orig: "+t([_[pe],_[pe+1]])))):this.dataCounters.padding+=2},parseCmd:function(A,_){var O;if(!((20===A||21===A||28===A||29===A)&&32<=_&&_<=47||(23===A||31===A)&&33<=_&&_<=35))return!1;var G=this.channels[(O=20===A||21===A||23===A?1:2)-1];return 20===A||21===A||28===A||29===A?32===_?G.cc_RCL():33===_?G.cc_BS():34===_?G.cc_AOF():35===_?G.cc_AON():36===_?G.cc_DER():37===_?G.cc_RU(2):38===_?G.cc_RU(3):39===_?G.cc_RU(4):40===_?G.cc_FON():41===_?G.cc_RDC():42===_?G.cc_TR():43===_?G.cc_RTD():44===_?G.cc_EDM():45===_?G.cc_CR():46===_?G.cc_ENM():47===_&&G.cc_EOC():G.cc_TO(_-32),this.lastCmdA=A,this.lastCmdB=_,this.currChNr=O,!0},parseMidrow:function(A,_){var O=null;if((17===A||25===A)&&32<=_&&_<=47){if((O=17===A?1:2)!==this.currChNr)return e.log("ERROR","Mismatch channel in midrow parsing"),!1;var G=this.channels[O-1];return G.insertChars([32]),G.cc_MIDROW(_),e.log("DEBUG","MIDROW ("+t([A,_])+")"),this.lastCmdA=A,this.lastCmdB=_,!0}return!1},parsePAC:function(A,_){var O;if(!((17<=A&&A<=23||25<=A&&A<=31)&&64<=_&&_<=127||(16===A||24===A)&&64<=_&&_<=95))return!1;O=A<=23?1:2;var j=this.interpretPAC(64<=_&&_<=95?1===O?d[A]:i[A]:1===O?c[A]:o[A],_);return this.channels[O-1].setPAC(j),this.lastCmdA=A,this.lastCmdB=_,this.currChNr=O,!0},interpretPAC:function(A,_){var O,G={color:null,italics:!1,indent:null,underline:!1,row:A};return G.underline=1==(1&(O=_>95?_-96:_-64)),O<=13?G.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(O/2)]:O<=15?(G.italics=!0,G.color="white"):G.indent=4*Math.floor((O-16)/2),G},parseChars:function(A,_){var ae,O=null,G=null,j=null;if(A>=25?(O=2,j=A-8):(O=1,j=A),17<=j&&j<=19?(e.log("INFO","Special char '"+S(ae=17===j?_+80:18===j?_+112:_+144)+"' in channel "+O),G=[ae],this.lastCmdA=A,this.lastCmdB=_):32<=A&&A<=127&&(G=0===_?[A]:[A,_],this.lastCmdA=null,this.lastCmdB=null),G){var pe=t(G);e.log("DEBUG","Char codes =  "+pe.join(","))}return G},parseBackgroundAttributes:function(A,_){var O,G;return((16===A||24===A)&&32<=_&&_<=47||(23===A||31===A)&&45<=_&&_<=47)&&(O={},16===A||24===A?(G=Math.floor((_-32)/2),O.background=y[G],_%2==1&&(O.background=O.background+"_semi")):45===_?O.background="transparent":(O.foreground="black",47===_&&(O.underline=!0)),this.channels[(A<24?1:2)-1].setBkgData(O),this.lastCmdA=A,this.lastCmdB=_,!0)},reset:function(){for(var A=0;A<this.channels.length;A++)this.channels[A]&&this.channels[A].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(A){for(var _=0;_<this.channels.length;_++)this.channels[_]&&this.channels[_].cueSplitAtTime(A)}},D.logger=e,D.PenState=l,D.CaptionScreen=E,D.Cea608Parser=x,D.findCea608Nalus=function(A,_,O){for(var G=0,j=_,ae=[],pe=function(ee,le,be,Re){if(4!==ee||le<8)return null;var we=be.getUint8(Re),ce=be.getUint16(Re+1),Oe=be.getUint32(Re+3),qe=be.getUint8(Re+7);return 181==we&&49==ce&&1195456820==Oe&&3==qe};j<_+O;){if(G=A.getUint32(j),6==(31&A.getUint8(j+4)))for(var g=j+5,ue=-1;g<j+4+G-1;){ue=0;for(var w=255;255===w;)ue+=w=A.getUint8(g),g++;var ie=0;for(w=255;255===w;)ie+=w=A.getUint8(g),g++;pe(ue,ie,A,g)&&ae.push([g,ie]),g+=ie}j+=G+4}return ae},D.extractCea608DataFromRange=function(A,_){var O=_[0],G=[[],[]],j=31&A.getUint8(O+=8);O+=2;for(var ae=0;ae<j;ae++){var pe=A.getUint8(O),g=4&pe,ue=3&pe;O++;var w=A.getUint8(O);O++;var ie=A.getUint8(O);O++,g&&(127&w)+(127&ie)!=0&&(0===ue?(G[0].push(w),G[0].push(ie)):1===ue&&(G[1].push(w),G[1].push(ie)))}return G}}(Ie)},8416:(Pe,Ie,D)=>{"use strict";var J=D(7688),S=D(5448),r=D(6398),n=D(2032),d=(D(5530),typeof window<"u"&&window||D.g),c=d.dashjs;c||(c=d.dashjs={}),c.MediaPlayer=J.Z,c.FactoryMaker=S.Z,c.Debug=r.Z,c.Version=(0,n.e)()},6398:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>t});var J=D(5595),S=D(8512),r=D(5448),n=1,d=2,c=3,i=4,o=5;function y(l){l=l||{};var T,p,E,b,A=(0,J.Z)(this.context).getInstance(),_=l.settings,O=[];function G(ie){return ie&&ie.bind?ie.bind(window.console):window.console.log.bind(window.console)}function j(){for(var ie=arguments.length,ee=new Array(ie),le=0;le<ie;le++)ee[le]=arguments[le];w.apply(void 0,[n,this].concat(ee))}function ae(){for(var ie=arguments.length,ee=new Array(ie),le=0;le<ie;le++)ee[le]=arguments[le];w.apply(void 0,[d,this].concat(ee))}function pe(){for(var ie=arguments.length,ee=new Array(ie),le=0;le<ie;le++)ee[le]=arguments[le];w.apply(void 0,[c,this].concat(ee))}function g(){for(var ie=arguments.length,ee=new Array(ie),le=0;le<ie;le++)ee[le]=arguments[le];w.apply(void 0,[i,this].concat(ee))}function ue(){for(var ie=arguments.length,ee=new Array(ie),le=0;le<ie;le++)ee[le]=arguments[le];w.apply(void 0,[o,this].concat(ee))}function w(ie,ee){var le="",be=null;p&&(be=(new Date).getTime(),le+="["+(be-b)+"]"),E&&ee&&ee.getClassName&&(le+="["+ee.getClassName()+"]",ee.getType&&(le+="["+ee.getType()+"]")),le.length>0&&(le+=" ");for(var Re=arguments.length,we=new Array(Re>2?Re-2:0),ce=2;ce<Re;ce++)we[ce-2]=arguments[ce];Array.apply(null,we).forEach(function(Oe){le+=Oe+" "}),O[ie]&&_&&_.get().debug.logLevel>=ie&&O[ie](le),_&&_.get().debug.dispatchEvent&&A.trigger(S.Z.LOG,{message:le,level:ie})}return T={getLogger:function(ie){return{fatal:j.bind(ie),error:ae.bind(ie),warn:pe.bind(ie),info:g.bind(ie),debug:ue.bind(ie)}},setLogTimestampVisible:function(ie){p=ie},setCalleeNameVisible:function(ie){E=ie}},p=!0,E=!0,b=(new Date).getTime(),typeof window<"u"&&window.console&&(O[n]=G(window.console.error),O[d]=G(window.console.error),O[c]=G(window.console.warn),O[i]=G(window.console.info),O[o]=G(window.console.debug)),T}y.__dashjs_factory_name="Debug";var e=r.Z.getSingletonFactory(y);e.LOG_LEVEL_NONE=0,e.LOG_LEVEL_FATAL=n,e.LOG_LEVEL_ERROR=d,e.LOG_LEVEL_WARNING=c,e.LOG_LEVEL_INFO=i,e.LOG_LEVEL_DEBUG=o,r.Z.updateSingletonFactory(y.__dashjs_factory_name,e);const t=e},5595:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>d});var J=D(5448),S=D(8825);function r(){var c={};function i(y,e,t){var l=-1;return c[y]&&c[y].some(function(T,p){if(T&&T.callback===e&&(!t||t===T.scope))return l=p,!0}),l}var o={on:function(y,e,t){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!y)throw new Error("event type cannot be null or undefined");if(!e||"function"!=typeof e)throw new Error("listener must be a function: "+e);var T=l.priority||0;if(!(i(y,e,t)>=0)){c[y]=c[y]||[];var p={callback:e,scope:t,priority:T};t&&t.getStreamId&&(p.streamId=t.getStreamId()),t&&t.getType&&(p.mediaType=t.getType()),l&&l.mode&&(p.mode=l.mode),c[y].some(function(b,x){if(b&&T>b.priority)return c[y].splice(x,0,p),!0})||c[y].push(p)}},off:function(y,e,t){if(y&&e&&c[y]){var l=i(y,e,t);l<0||(c[y][l]=null)}},trigger:function(y){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(y&&c[y]){if((e=e||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");e.type=y,t.streamId&&(e.streamId=t.streamId),t.mediaType&&(e.mediaType=t.mediaType),c[y].filter(function(l){return!(!l||t.streamId&&l.streamId&&l.streamId!==t.streamId||t.mediaType&&l.mediaType&&l.mediaType!==t.mediaType||t.mode&&l.mode&&l.mode!==t.mode||!l.mode&&t.mode&&t.mode===S.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(l){return l&&l.callback.call(l.scope,e)})}},reset:function(){c={}}};return o}r.__dashjs_factory_name="EventBus";var n=J.Z.getSingletonFactory(r);n.EVENT_PRIORITY_LOW=0,n.EVENT_PRIORITY_HIGH=5e3,J.Z.updateSingletonFactory(r.__dashjs_factory_name,n);const d=n},5448:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>J});const J=function(){var S,r=[],n={},d={};function c(e,t){for(var l in r){var T=r[l];if(T.context===e&&T.name===t)return T.instance}return null}function i(e,t){return t[e]}function o(e,t,l){e in l&&(l[e]=t)}function y(e,t,l){var T,p=e.__dashjs_factory_name,E=t[p];if(E){var b=E.instance;if(!E.override)return b.apply({context:t,factory:S},l);for(var x in T=e.apply({context:t},l),b=b.apply({context:t,factory:S,parent:T},l))T.hasOwnProperty(x)&&(T[x]=b[x])}else T=e.apply({context:t},l);return T.getClassName=function(){return p},T}return S={extend:function(e,t,l,T){!T[e]&&t&&(T[e]={instance:t,override:l})},getSingletonInstance:c,setSingletonInstance:function(e,t,l){for(var T in r){var p=r[T];if(p.context===e&&p.name===t)return void(r[T].instance=l)}r.push({name:t,context:e,instance:l})},deleteSingletonInstances:function(e){r=r.filter(function(t){return t.context!==e})},getSingletonFactory:function(e){var t=i(e.__dashjs_factory_name,n);return t||(t=function(l){var T;return void 0===l&&(l={}),{getInstance:function(){return T||(T=c(l,e.__dashjs_factory_name)),T||(T=y(e,l,arguments),r.push({name:e.__dashjs_factory_name,context:l,instance:T})),T}}},n[e.__dashjs_factory_name]=t),t},getSingletonFactoryByName:function(e){return i(e,n)},updateSingletonFactory:function(e,t){o(e,t,n)},getClassFactory:function(e){var t=i(e.__dashjs_factory_name,d);return t||(t=function(l){return void 0===l&&(l={}),{create:function(){return y(e,l,arguments)}}},d[e.__dashjs_factory_name]=t),t},getClassFactoryByName:function(e){return i(e,d)},updateClassFactory:function(e,t){o(e,t,d)}},S}()},1264:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>t});var J=D(5448),S=D(703),r=D(6398),n=D(3393),d=D(7855),c=D(5595),i=D(8512);function o(l){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(l)}function y(l,T,p){return T in l?Object.defineProperty(l,T,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[T]=p,l}function e(){var l,T,E=(0,c.Z)(this.context).getInstance(),b={"streaming.delay.liveDelay":i.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":i.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":i.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":i.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":i.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},x={debug:{logLevel:r.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:n.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:n.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:n.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:n.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(l={},y(l,d.w.MPD_TYPE,500),y(l,d.w.XLINK_EXPANSION_TYPE,500),y(l,d.w.MEDIA_SEGMENT_TYPE,1e3),y(l,d.w.INIT_SEGMENT_TYPE,1e3),y(l,d.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),y(l,d.w.INDEX_SEGMENT_TYPE,1e3),y(l,d.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),y(l,d.w.LICENSE,1e3),y(l,d.w.OTHER_TYPE,1e3),y(l,"lowLatencyReductionFactor",10),l),retryAttempts:(T={},y(T,d.w.MPD_TYPE,3),y(T,d.w.XLINK_EXPANSION_TYPE,1),y(T,d.w.MEDIA_SEGMENT_TYPE,3),y(T,d.w.INIT_SEGMENT_TYPE,3),y(T,d.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),y(T,d.w.INDEX_SEGMENT_TYPE,3),y(T,d.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),y(T,d.w.LICENSE,3),y(T,d.w.OTHER_TYPE,3),y(T,"lowLatencyMultiplyFactor",5),T),abr:{movingAverageMethod:n.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:n.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:n.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:n.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},A=S.Z.clone(x);function _(O,G,j){for(var ae in O)O.hasOwnProperty(ae)&&(G.hasOwnProperty(ae)?"object"!==o(O[ae])||O[ae]instanceof Array||null===O[ae]?(G[ae]=S.Z.clone(O[ae]),b[j+ae]&&E.trigger(b[j+ae])):_(O[ae],G[ae],j.slice()+ae+"."):console.error("Settings parameter "+j+ae+" is not supported"))}return{get:function(){return A},update:function(O){"object"===o(O)&&_(O,A,"")},reset:function(){A=S.Z.clone(x)}}}e.__dashjs_factory_name="Settings";const t=J.Z.getSingletonFactory(e)},703:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>c});var J=D(3875),S=D.n(J),r=D(1067);function n(i){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}const c=function(){function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i)}var y;return y=[{key:"mixin",value:function(e,t,l){var T,p={};if(e)for(var E in t)t.hasOwnProperty(E)&&(T=t[E],E in e&&(e[E]===T||E in p&&p[E]===T)||(e[E]="object"===n(e[E])&&null!==e[E]?i.mixin(e[E],T,l):l(T)));return e}},{key:"clone",value:function(e){if(!e||"object"!==n(e))return e;var t;if(e instanceof Array){t=[];for(var l=0,T=e.length;l<T;++l)l in e&&t.push(i.clone(e[l]))}else t={};return i.mixin(t,e,i.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(e,t){try{if(!t||0===t.length)return e;var l=new URL(e);return t.forEach(function(T){T.key&&T.value&&l.searchParams.set(T.key,T.value)}),l.href}catch{return e}}},{key:"parseHttpHeaders",value:function(e){var t={};if(!e)return t;for(var l=e.trim().split("\r\n"),T=0,p=l.length;T<p;T++){var E=l[T],b=E.indexOf(": ");b>0&&(t[E.substring(0,b)]=E.substring(b+2))}return t}},{key:"generateUuid",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var l=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?l:3&l|8).toString(16)})}},{key:"generateHashCode",value:function(e){var t=0;if(0===e.length)return t;for(var l=0;l<e.length;l++)t=(t<<5)-t+e.charCodeAt(l),t|=0;return t}},{key:"getRelativeUrl",value:function(e,t){try{var l=new URL(e),T=new URL(t);if(l.protocol=T.protocol,l.origin!==T.origin)return t;var p=S().relative(l.pathname.substr(0,l.pathname.lastIndexOf("/")),T.pathname.substr(0,T.pathname.lastIndexOf("/"))),E=0===p.length?1:0;return p+=T.pathname.substr(T.pathname.lastIndexOf("/")+E,T.pathname.length-1),T.pathname.length<p.length?T.pathname:p}catch{return t}}},{key:"parseUserAgent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var t=null===e&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,r.UAParser)(t)}catch{return{}}}},{key:"stringHasProtocol",value:function(e){return/(http(s?)):\/\//i.test(e)}}],y&&function d(i,o){for(var y=0;y<o.length;y++){var e=o[y];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}(i,y),i}()},2032:(Pe,Ie,D)=>{"use strict";function J(){return"4.7.1"}D.d(Ie,{e:()=>J})},2230:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>S});const S=function(){function r(){!function(c,i){if(!(c instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r)}var d;return(d=[{key:"extend",value:function(c,i){if(c){var o=!!i&&i.override,y=!!i&&i.publicOnly;for(var e in c)!c.hasOwnProperty(e)||this[e]&&!o||y&&-1===c[e].indexOf("public_")||(this[e]=c[e])}}}])&&function J(r,n){for(var d=0;d<n.length;d++){var c=n[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(r,c.key,c)}}(r.prototype,d),r}()},4351:(Pe,Ie,D)=>{"use strict";function J(c){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}function S(c,i){return(S=Object.setPrototypeOf||function(o,y){return o.__proto__=y,o})(c,i)}function n(c){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)})(c)}D.d(Ie,{Z:()=>d});const d=function(c){!function(t,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(l&&l.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),l&&S(t,l)}(e,c);var i,o,y=(i=e,o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var t,l=n(i);if(o){var T=n(this).constructor;t=Reflect.construct(l,arguments,T)}else t=l.apply(this,arguments);return function r(c,i){return!i||"object"!==J(i)&&"function"!=typeof i?function(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(c):i}(this,t)});function e(){var t;return function(l,T){if(!(l instanceof T))throw new TypeError("Cannot call a class as a function")}(this,e),(t=y.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",t.BUFFERING_COMPLETED="bufferingCompleted",t.BUFFER_CLEARED="bufferCleared",t.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",t.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",t.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",t.CMSD_STATIC_HEADER="cmsdStaticHeader",t.CURRENT_TRACK_CHANGED="currentTrackChanged",t.DATA_UPDATE_COMPLETED="dataUpdateCompleted",t.INBAND_EVENTS="inbandEvents",t.INITIAL_STREAM_SWITCH="initialStreamSwitch",t.INIT_FRAGMENT_LOADED="initFragmentLoaded",t.INIT_FRAGMENT_NEEDED="initFragmentNeeded",t.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",t.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",t.LOADING_COMPLETED="loadingCompleted",t.LOADING_PROGRESS="loadingProgress",t.LOADING_DATA_PROGRESS="loadingDataProgress",t.LOADING_ABANDONED="loadingAborted",t.MANIFEST_UPDATED="manifestUpdated",t.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",t.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",t.QUOTA_EXCEEDED="quotaExceeded",t.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",t.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",t.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",t.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",t.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",t.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",t.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",t.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",t.SOURCE_BUFFER_ERROR="sourceBufferError",t.STREAMS_COMPOSED="streamsComposed",t.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",t.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",t.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",t.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",t.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",t.URL_RESOLUTION_FAILED="urlResolutionFailed",t.VIDEO_CHUNK_RECEIVED="videoChunkReceived",t.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",t.XLINK_ELEMENT_LOADED="xlinkElementLoaded",t.XLINK_READY="xlinkReady",t.SEEK_TARGET="seekTarget",t.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",t.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",t.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",t.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",t.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",t}return e}(D(8342).Z)},8512:(Pe,Ie,D)=>{"use strict";function J(i){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}function r(i,o){return(r=Object.setPrototypeOf||function(y,e){return y.__proto__=e,y})(i,o)}function d(i){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(i)}D.d(Ie,{Z:()=>c});const c=new(function(i){!function(l,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(T&&T.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),T&&r(l,T)}(t,i);var o,y,e=(o=t,y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,T=d(o);if(y){var p=d(this).constructor;l=Reflect.construct(T,arguments,p)}else l=T.apply(this,arguments);return function n(i,o){return!o||"object"!==J(o)&&"function"!=typeof o?function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(i):o}(this,l)});function t(){return function S(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}(this,t),e.apply(this,arguments)}return t}(D(4351).Z))},8342:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>S});const S=function(){function r(){!function(c,i){if(!(c instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r)}var d;return(d=[{key:"extend",value:function(c,i){if(c){var o=!!i&&i.override,y=!!i&&i.publicOnly;for(var e in c)!c.hasOwnProperty(e)||this[e]&&!o||y&&-1===c[e].indexOf("public_")||(this[e]=c[e])}}}])&&function J(r,n){for(var d=0;d<n.length;d++){var c=n[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(r,c.key,c)}}(r.prototype,d),r}()},9326:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>o});var J=D(3186),S=D(7855),r=D(5448),n=D(8825),d=D(7387),c=D(1553);function i(y){var e,t,l,T,p,E=(y=y||{}).eventBus,x=y.urlUtils,A=y.type,_=y.streamInfo,O=y.segmentsController,G=y.timelineConverter,j=y.baseURLController;function ae(){return A}function pe(){l=null}function g(ee,le,be){var Re,we,ce=j.resolve(be.path),Oe={};return ce&&le!==ce.url&&x.isRelative(le)?(Re=ce.url,we=ce.serviceLocation,Oe=ce.queryParams,le&&(Re=x.resolve(le,Re))):Re=le,!x.isRelative(Re)&&(ee.url=Re,ee.serviceLocation=we,ee.queryParams=Oe,!0)}function ue(ee,le){if(null==le)return null;var be=new J.Z,Re=le.representation,we=Re.adaptation.period.mpd.manifest.Period_asArray[Re.adaptation.period.index].AdaptationSet_asArray[Re.adaptation.index].Representation_asArray[Re.index].bandwidth,ce=le.media;return ce=(0,d.vi)(ce,"Number",le.replacementNumber),ce=(0,d.vi)(ce,"Time",le.replacementTime),ce=(0,d.vi)(ce,"Bandwidth",we),ce=(0,d.Aj)(ce,Re.id),ce=(0,d.eR)(ce),be.mediaType=ae(),be.type=S.w.MEDIA_SEGMENT_TYPE,be.range=le.mediaRange,be.startTime=le.presentationStartTime,be.mediaStartTime=le.mediaStartTime,be.duration=le.duration,be.timescale=Re.timescale,be.availabilityStartTime=le.availabilityStartTime,be.availabilityEndTime=le.availabilityEndTime,be.availabilityTimeComplete=Re.availabilityTimeComplete,be.wallStartTime=le.wallStartTime,be.quality=Re.index,be.index=le.index,be.mediaInfo=ee,be.adaptationIndex=Re.adaptation.index,be.representationId=Re.id,g(be,ce,Re)?be:void 0}function w(ee,le,be){var Re=null;if(!le||!le.segmentInfoType)return Re;var we=O.getSegmentByTime(le,be);return we&&(l=we,t.debug("Index for time "+be+" is "+we.index),Re=ue(ee,we)),Re}function ie(){t.debug("Dynamic stream complete"),p=!0}return e={initialize:function(ee){T=ee,p=!1,O.initialize(ee)},getStreamId:function(){return _.id},getType:ae,getStreamInfo:function(){return _},getInitRequest:function(ee,le){return le?function(be,Re,we){var ce=new J.Z,Oe=Re.adaptation.period,qe=Oe.start;if(ce.mediaType=we,ce.type=S.w.INIT_SEGMENT_TYPE,ce.range=Re.range,ce.availabilityStartTime=G.calcAvailabilityStartTimeFromPresentationTime(qe,Re,T),ce.availabilityEndTime=G.calcAvailabilityEndTimeFromPresentationTime(qe+Oe.duration,Re,T),ce.quality=Re.index,ce.mediaInfo=be,ce.representationId=Re.id,g(ce,Re.initialization,Re))return ce.url=(0,d.vi)(ce.url,"Bandwidth",Re.bandwidth),ce}(ee,le,ae()):null},getSegmentRequestForTime:w,getCurrentIndex:function(){return l?l.index:-1},getNextSegmentRequest:function(ee,le){var be=null;if(!le||!le.segmentInfoType)return null;var Re=l?l.index+1:0,we=O.getSegmentByIndex(le,Re,l?l.mediaStartTime:-1);if(we)be=ue(ee,we),l=we;else{if(T&&!p)return t.debug(ae()+" No segment found at index: "+Re+". Wait for next loop"),null;p=!0}return be},isLastSegmentRequested:function(ee,le){return!!(ee&&l&&(p||isFinite(ee.adaptation.period.duration)&&!(l.presentationStartTime+l.duration>le)&&(ee.mediaFinishedInformation&&!isNaN(ee.mediaFinishedInformation.numberOfSegments)&&!isNaN(l.index)&&l.index>=ee.mediaFinishedInformation.numberOfSegments-1&&(!T||ee.segmentInfoType===c.Z.SEGMENT_TEMPLATE||T&&ee.segmentInfoType===c.Z.SEGMENT_LIST&&ee.adaptation.period.nextPeriodId)||T&&ee.adaptation.period.nextPeriodId&&ee.segmentInfoType===c.Z.SEGMENT_TIMELINE&&ee.mediaFinishedInformation&&!isNaN(ee.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&l&&!isNaN(l.mediaStartTime)&&!isNaN(l.duration)&&l.mediaStartTime+l.duration>=ee.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)))},reset:function(){pe(),E.off(n.Z.DYNAMIC_TO_STATIC,ie,e)},getNextSegmentRequestIdempotent:function(ee,le){var Re=O.getSegmentByIndex(le,l?l.index+1:0,l?l.mediaStartTime:-1);return Re?ue(ee,Re):null},getValidTimeAheadOfTargetTime:function(ee,le,be,Re){try{if(isNaN(ee)||!le||!be)return NaN;if(ee<0&&(ee=0),isNaN(Re)&&(Re=.5),w(le,be,ee))return ee;if(be.adaptation.period.start+be.adaptation.period.duration<ee)return NaN;for(var we=isFinite(be.adaptation.period.duration)?be.adaptation.period.start+be.adaptation.period.duration:ee+30,ce=Math.min(ee+Re,we),Oe=NaN,qe=null;ce<=we;){var Ne=null;if(ce<=we&&(Ne=w(le,be,ce)),Ne){Oe=ce,qe=Ne;break}ce+=Re}if(qe){var Be=qe.startTime+qe.duration;return ee>qe.startTime&&Be-ee>Re?ee:!isNaN(qe.startTime)&&ee<qe.startTime&&Oe>qe.startTime?qe.startTime+.001:Math.min(Be-Re,Oe)}return Oe}catch{return NaN}}},t=y.debug.getLogger(e),pe(),E.on(n.Z.DYNAMIC_TO_STATIC,ie,e),e}i.__dashjs_factory_name="DashHandler";const o=r.Z.getClassFactory(i)},1553:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>S});const S=new(function(){function r(){(function(c,i){if(!(c instanceof i))throw new TypeError("Cannot call a class as a function")})(this,r),this.init()}var d;return(d=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&function J(r,n){for(var d=0;d<n.length;d++){var c=n[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(r,c.key,c)}}(r.prototype,d),r}())},7802:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>i});var J=D(5448),S=D(1724),r=D(3636),n=D(1736),d=D(5246);function c(o){var y,e,t=this.context,l=(o=o||{}).dashConstants,T=o.type,p=o.segmentBaseController;function E(b){return b?b.segments?e[l.SEGMENT_BASE]:e[b.segmentInfoType]:null}return y={initialize:function(b){e[l.SEGMENT_TIMELINE]=(0,S.Z)(t).create(o,b),e[l.SEGMENT_TEMPLATE]=(0,r.Z)(t).create(o,b),e[l.SEGMENT_LIST]=(0,n.Z)(t).create(o,b),e[l.SEGMENT_BASE]=(0,d.Z)(t).create(o,b)},updateInitData:function(b,x){return x?Promise.resolve():p.getSegmentBaseInitSegment({representation:b,mediaType:T})},updateSegmentData:function(b,x){return x?Promise.resolve():p.getSegmentList({mimeType:b.mimeType,representation:b,mediaType:T})},getSegmentByIndex:function(b,x,A){var _=E(b);return _?_.getSegmentByIndex(b,x,A):null},getSegmentByTime:function(b,x){var A=E(b);return A?A.getSegmentByTime(b,x):null},getMediaFinishedInformation:function(b){var x=E(b);return x?x.getMediaFinishedInformation(b):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},e={},y}c.__dashjs_factory_name="SegmentsController";const i=J.Z.getClassFactory(c)},1736:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>d});var J=D(5448),S=D(3393),r=D(7387);function n(c,i){var o=(c=c||{}).timelineConverter;function y(){if(!o||!o.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(S.Z.MISSING_CONFIG_ERROR)}function e(t,l){if(y(),!t)return null;var T=t.adaptation.period.mpd.manifest.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index].Representation_asArray[t.index].SegmentList,p=T.SegmentURL_asArray.length,E=t&&!isNaN(t.startNumber)?t.startNumber:1,b=Math.max(E-1,0),x=Math.max(l-b,0),A=null;if(x<p){var _=T.SegmentURL_asArray[x];(A=(0,r.NF)(o,i,t,l))&&(A.replacementTime=(E+l-1)*t.segmentDuration,A.media=_.media?_.media:"",A.mediaRange=_.mediaRange,A.indexRange=_.indexRange)}return A}return{getSegmentByIndex:e,getSegmentByTime:function(t,l){if(y(),!t)return null;var T=t.segmentDuration;if(isNaN(T))return null;var p=o.calcPeriodRelativeTimeFromMpdRelativeTime(t,l);return e(t,Math.floor(p/T))},getMediaFinishedInformation:function(t){var l={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!t)return l;var T=t.adaptation.period.mpd.manifest.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index].Representation_asArray[t.index].SegmentList,p=t&&!isNaN(t.startNumber)?t.startNumber:1,E=Math.max(p-1,0);return l.numberOfSegments=E+T.SegmentURL_asArray.length,l}}}n.__dashjs_factory_name="ListSegmentsGetter";const d=J.Z.getClassFactory(n)},5246:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>n});var J=D(5448),S=D(3393);function r(d){var c=(d=d||{}).timelineConverter;function i(){if(!c||!c.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(S.Z.MISSING_CONFIG_ERROR)}function o(y,e){if(i(),!y)return null;var t,l=y.segments?y.segments.length:-1;if(e<l&&(t=y.segments[e])&&t.index===e)return t;for(var T=0;T<l;T++)if((t=y.segments[T])&&t.index===e)return t;return null}return{getSegmentByIndex:o,getSegmentByTime:function(y,e){return i(),o(y,function(l,T){if(!l)return-1;var p,E,b,x,A,_=l.segments,O=_?_.length:null,G=-1;if(_&&O>0)for(A=0;A<O;A++)if(b=(E=_[A]).presentationStartTime,T+(p=(x=E.duration)/2)>=b&&T-p<b+x){G=E.index;break}return G}(y,e))},getMediaFinishedInformation:function(y){var e={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return y&&y.segments&&(e.numberOfSegments=y.segments.length),e}}}r.__dashjs_factory_name="SegmentBaseGetter";const n=J.Z.getClassFactory(r)},7387:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Aj:()=>n,NF:()=>o,TJ:()=>y,eR:()=>r,vi:()=>d});var J=D(2011);function S(e,t){for(;e.length<t;)e="0"+e;return e}function r(e){return e&&e.split("$$").join("$")}function n(e,t){if(!t||!e||-1===e.indexOf("$RepresentationID$"))return e;var l=t.toString();return e.split("$RepresentationID$").join(l)}function d(e,t,l){var T,p,E,b,x,A,_=t.length;if(!e)return e;for(;;){if((T=e.indexOf("$"+t))<0||(p=e.indexOf("$",T+_))<0)return e;if((E=e.indexOf("%0",T+_))>T&&E<p)switch(b=e.charAt(p-1),x=parseInt(e.substring(E+2,p-1),10),b){case"d":case"i":case"u":A=S(l.toString(),x);break;case"x":A=S(l.toString(16),x);break;case"X":A=S(l.toString(16),x).toUpperCase();break;case"o":A=S(l.toString(8),x);break;default:return e}else A=l;e=e.substring(0,T)+A+e.substring(p+1)}}function c(e,t,l,T,p,E,b,x){var _=new J.Z;return _.representation=e,_.duration=t,_.presentationStartTime=l,_.mediaStartTime=T,_.availabilityStartTime=p.calcAvailabilityStartTimeFromPresentationTime(E,e,b),_.availabilityEndTime=p.calcAvailabilityEndTimeFromPresentationTime(E+t,e,b),_.wallStartTime=p.calcWallTimeForSegment(_,b),_.replacementNumber=_.representation.startNumber+x,_.index=x,_}function i(e,t,l,T){var p=t.adaptation.period;if(isFinite(p.duration)&&p.start+p.duration<=l.presentationStartTime)return!1;if(T){if("INF"===t.availabilityTimeOffset)return!0;var E=e.getClientReferenceTime();return l.availabilityStartTime.getTime()<=E&&(!isFinite(l.availabilityEndTime)||l.availabilityEndTime.getTime()>=E)}return!0}function o(e,t,l,T){var p,E,b;p=l.segmentDuration,isNaN(p)&&(p=l.adaptation.period.duration),E=parseFloat((l.adaptation.period.start+T*p).toFixed(5)),b=parseFloat((E+p).toFixed(5));var x=c(l,p,E,e.calcMediaTimeFromPresentationTime(E,l),e,b,t,T);return i(e,l,x,t)?x:null}function y(e,t,l,T,p,E,b,x,A,_){var O,G,j=T/E,ae=p/E;return O=e.calcPresentationTimeFromMediaTime(j,l),i(e,l,G=c(l,ae,O,j,e,O+ae,t,A),t)?(G.replacementTime=_||T,b=d(b,"Number",G.replacementNumber),b=d(b,"Time",G.replacementTime),G.media=b,G.mediaRange=x,G):null}},3636:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>d});var J=D(5448),S=D(3393),r=D(7387);function n(c,i){var o=(c=c||{}).timelineConverter;function y(){if(!o||!o.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(S.Z.MISSING_CONFIG_ERROR)}function e(t,l){if(y(),!t)return null;var T=t.adaptation.period.mpd.manifest.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index].Representation_asArray[t.index].SegmentTemplate;l=Math.max(l,0);var p=(0,r.NF)(o,i,t,l);if(p){p.replacementTime=Math.round((l-1)*t.segmentDuration*t.timescale,10);var E=T.media;E=(0,r.vi)(E,"Number",p.replacementNumber),E=(0,r.vi)(E,"Time",p.replacementTime),p.media=E}return p}return{getSegmentByIndex:e,getSegmentByTime:function(t,l){if(y(),!t)return null;var T=t.segmentDuration;if(isNaN(T))return null;var p=o.calcPeriodRelativeTimeFromMpdRelativeTime(t,l);return e(t,Math.floor(p/T))},getMediaFinishedInformation:function(t){var l={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!t)return l;var T=t.segmentDuration;return l.numberOfSegments=isNaN(T)?1:Math.ceil(t.adaptation.period.duration/T),l}}}n.__dashjs_factory_name="TemplateSegmentsGetter";const d=J.Z.getClassFactory(n)},1724:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>d});var J=D(5448),S=D(3393),r=D(7387);function n(c,i){var o=(c=c||{}).timelineConverter,y=c.dashMetrics;function e(){if(!o)throw new Error(S.Z.MISSING_CONFIG_ERROR)}function t(T,p){var E,b,x,A,_,O,G,j=T.adaptation.period.mpd.manifest.Period_asArray[T.adaptation.period.index].AdaptationSet_asArray[T.adaptation.index].Representation_asArray[T.index].SegmentTemplate||T.adaptation.period.mpd.manifest.Period_asArray[T.adaptation.period.index].AdaptationSet_asArray[T.adaptation.index].Representation_asArray[T.index].SegmentList,pe=j.SegmentURL_asArray,g=0,ue=-1;G=T.timescale;var w=!1;for(x=0,A=(E=j.SegmentTimeline.S_asArray).length;x<A&&!w;x++)for(O=0,(b=E[x]).hasOwnProperty("r")&&(O=b.r),b.hasOwnProperty("t")&&(g=b.t),O<0&&(O=l(T,E[x+1],b,G,g/G)),_=0;_<=O&&!w;_++)(w=p(g,j,pe,b,G,++ue,x))&&(T.segmentDuration=b.d/G),g+=b.d}function l(T,p,E,b,x){var A;if(p&&p.hasOwnProperty("t"))A=p.t/b;else try{var _=0;if(isNaN(T.adaptation.period.start)||isNaN(T.adaptation.period.duration)||!isFinite(T.adaptation.period.duration)){var O=y.getCurrentDVRInfo();_=isNaN(O.end)?0:O.end}else _=T.adaptation.period.start+T.adaptation.period.duration;A=o.calcMediaTimeFromPresentationTime(_,T),T.segmentDuration=E.d/b}catch{A=0}return Math.max(Math.ceil((A-x)/(E.d/b))-1,0)}return{getSegmentByIndex:function(T,p,E){if(e(),!T)return null;var b=null,x=!1;return t(T,function(A,_,O,G,j,ae,pe){if(x||E<0){var g=_.media,ue=G.mediaRange;return O&&(g=O[pe].media||"",ue=O[pe].mediaRange),b=(0,r.TJ)(o,i,T,A,G.d,j,g,ue,ae,G.tManifest),!0}return A>=E*j-.5*G.d&&(x=!0),!1}),b},getSegmentByTime:function(T,p){if(e(),!T)return null;void 0===p&&(p=null);var E=null,b=o.calcMediaTimeFromPresentationTime(p,T);return t(T,function(x,A,_,O,G,j,ae){var pe=parseFloat((b*G).toPrecision(15));if(pe<x+O.d&&pe>=x){var g=A.media,ue=O.mediaRange;return _&&(g=_[ae].media||"",ue=_[ae].mediaRange),E=(0,r.TJ)(o,i,T,x,O.d,G,g,ue,j,O.tManifest),!0}return!1}),E},getMediaFinishedInformation:function(T){if(!T)return 0;var p,E,b,x,A,_,O,j=0,ae=0,pe=0;for(O=T.timescale,x=(p=(T.adaptation.period.mpd.manifest.Period_asArray[T.adaptation.period.index].AdaptationSet_asArray[T.adaptation.index].Representation_asArray[T.index].SegmentTemplate||T.adaptation.period.mpd.manifest.Period_asArray[T.adaptation.period.index].AdaptationSet_asArray[T.adaptation.index].Representation_asArray[T.index].SegmentList).SegmentTimeline.S_asArray).length,b=0;b<x;b++)for(_=0,(E=p[b]).hasOwnProperty("r")&&(_=E.r),E.hasOwnProperty("t")&&(ae=(j=E.t)/O),_<0&&(_=l(T,p[b+1],E,O,ae)),A=0;A<=_;A++)pe++,ae=(j+=E.d)/O;return{numberOfSegments:pe,mediaTimeOfLastSignaledSegment:ae}}}}n.__dashjs_factory_name="TimelineSegmentsGetter";const d=J.Z.getClassFactory(n)},2011:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>J});const J=function S(){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,S),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>J});const J=function S(){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,S),this.schemeIdUri="",this.value=""}},7688:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>Qs});var J=D(452),S=D.n(J),r=D(3393),n=D(1553),d=D(3860),c=D(5595),i=D(8512),o=D(5448),y=D(6398),e=D(8825);function t(){var h,f,v,P,L,M,R,F,W,te,Q,U,$,X,Se,de,Te,q,ge,oe,he,N,H,Y=this.context,B=(0,c.Z)(Y).getInstance();function k(){Z(),X=!1,te=0,Q=0,de=0,he=!1,Te=!1,N=!1,q=NaN,R&&(B.off(i.Z.DATA_UPDATE_COMPLETED,He,h),B.off(i.Z.LOADING_PROGRESS,jt,h),B.off(i.Z.MANIFEST_UPDATED,Et,h),B.off(i.Z.STREAMS_COMPOSED,Je,h),B.off(e.Z.PLAYBACK_ENDED,mn,h),B.off(e.Z.STREAM_INITIALIZING,Zt,h),B.off(e.Z.REPRESENTATION_SWITCH,et,h),B.off(e.Z.BUFFER_LEVEL_STATE_CHANGED,Xe,h),_e(),R.removeEventListener("canplay",De),R.removeEventListener("canplaythrough",ze),R.removeEventListener("play",$e),R.removeEventListener("waiting",gt),R.removeEventListener("playing",At),R.removeEventListener("pause",qt),R.removeEventListener("error",pt),R.removeEventListener("seeking",zt),R.removeEventListener("seeked",Bt),R.removeEventListener("timeupdate",Kt),R.removeEventListener("progress",Xt),R.removeEventListener("ratechange",sn),R.removeEventListener("loadedmetadata",dn),R.removeEventListener("loadeddata",rn),R.removeEventListener("stalled",Ht),R.removeEventListener("ended",gn),R.removeEventListener("volumechange",un)),W=null,R=null,U=null,$=null}function ne(){return parseFloat((re(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-Ue()).toFixed(5))}function re(Ze){var ve=Ze||U;return ve.start+ve.duration}function me(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0];U&&R&&R.getElement()?(Ze&&$&&Fe(Ue()),R.play()):X=!0}function Z(){U&&R&&R.pause()}function K(Ze){var ve=arguments.length>1&&void 0!==arguments[1]&&arguments[1],We=arguments.length>2&&void 0!==arguments[2]&&arguments[2],lt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];U&&R&&R.getElement()&&Ze!==(isNaN(q)?R.getTime():q)&&((ge=!0===We)||(q=Ze),f.info("Requesting seek to time: "+Ze+(ge?" (internal)":"")),$&&lt&&Fe(Ze),R.setCurrentTime(Ze,ve))}function Ae(){if(U&&R&&$){var Ze=v&&v.hasVideoTrack()?r.Z.VIDEO:r.Z.AUDIO,ve=L.getCurrentDVRInfo(Ze);return ve&&ve.range?ve.range.end:0}}function Fe(Ze){var ve=new Date(F.getClientReferenceTime()),We=M.getRegularPeriods()[0],lt=F.calcPresentationTimeFromWallTime(ve,We);te=lt-Ze}function Ue(){return U&&R?R.getTime():null}function je(){return U&&R?R.isPaused():null}function Me(){return U&&R?R.isSeeking():null}function Ye(){return U&&R?R.isStalled():null}function dt(){return U&&R?R.getPlaybackRate():null}function it(){return U&&R?R.getEnded():null}function ot(){return $}function bt(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!je()&&$&&0!==R.getReadyState()&&!Me()&&!he){Ze||(Ze=v.hasVideoTrack()?r.Z.VIDEO:r.Z.AUDIO);var ve=Ue(),We=function Pt(Ze,ve){var We=L.getCurrentDVRInfo(ve),lt=We?We.range:null;return lt?Ze>lt.end?Math.max(lt.end-te,lt.start):Ze>0&&Ze+.25<lt.start&&Math.abs(Ze-lt.start)<31536e4?Te?Math.max(lt.end-te,lt.start):lt.start:Ze:NaN}(ve,Ze);!isNaN(We)&&We!==ve&&!Me()&&(Ye()||oe||1===R.getReadyState())&&(f.debug("UpdateCurrentTime: Seek to actual time: ".concat(We," from currentTime: ").concat(ve)),K(We,!1,!1))}}function xe(){null===W&&(W=setInterval(function(){var Ze;B.trigger(i.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:$,time:new Date}),ot()&&(v.addDVRMetric(),je()?(Ze=Date.now(),(!Se||Ze>Se+500)&&(Se=Ze,Kt())):bt())},H.get().streaming.wallclockTimeUpdateInterval))}function _e(){clearInterval(W),W=null}function He(Ze){var ve=M.convertRepresentationToRepresentationInfo(Ze.currentRepresentation),We=ve?ve.mediaInfo.streamInfo:null;null!==We&&U.id===We.id&&(U=We)}function De(){B.trigger(i.Z.CAN_PLAY)}function ze(){B.trigger(i.Z.CAN_PLAY_THROUGH)}function Xe(Ze){Ze.streamId===v.getActiveStreamInfo().id&&(oe=Ze.state===d.Z.BUFFER_EMPTY,H.get().streaming.buffer.setStallState&&R.setStallState(Ze.mediaType,Ze.state===d.Z.BUFFER_EMPTY))}function $e(){f.info("Native video element event: play"),bt(),xe(),B.trigger(i.Z.PLAYBACK_STARTED,{startTime:Ue()})}function gt(){f.info("Native video element event: waiting"),B.trigger(i.Z.PLAYBACK_WAITING,{playingTime:Ue()})}function At(){f.info("Native video element event: playing"),ge=!1,B.trigger(i.Z.PLAYBACK_PLAYING,{playingTime:Ue()})}function qt(){f.info("Native video element event: pause"),B.trigger(i.Z.PLAYBACK_PAUSED,{ended:it()})}function zt(){if(!ge){var Ze=Ue();isNaN(q)||q===Ze||(Ze=q),q=NaN,f.info("Seeking to: "+Ze),xe(),B.trigger(i.Z.PLAYBACK_SEEKING,{seekTime:Ze,streamId:U.id})}}function Bt(){f.info("Native video element event: seeked"),ge=!1,B.trigger(i.Z.PLAYBACK_SEEKED)}function Kt(){U&&B.trigger(i.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:ne(),time:Ue(),streamId:U.id})}function Xt(){B.trigger(i.Z.PLAYBACK_PROGRESS,{streamId:U.id})}function sn(){var Ze=dt();f.info("Native video element event: ratechange: ",Ze),B.trigger(i.Z.PLAYBACK_RATE_CHANGED,{playbackRate:Ze})}function dn(){f.info("Native video element event: loadedmetadata"),B.trigger(i.Z.PLAYBACK_METADATA_LOADED),xe()}function rn(){f.info("Native video element event: loadeddata"),B.trigger(i.Z.PLAYBACK_LOADED_DATA)}function gn(){f.info("Native video element event: ended"),Z(),_e();var Ze=v?v.getActiveStreamInfo():null;Ze&&B.trigger(i.Z.PLAYBACK_ENDED,{isLast:Ze.isLast})}function un(){B.trigger(i.Z.PLAYBACK_VOLUME_CHANGED)}function mn(Ze){if(W&&Ze.isLast){f.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var ve=Ze.seekTime?Ze.seekTime:re();R.setCurrentTime(ve),Z(),_e()}}function pt(Ze){B.trigger(i.Z.PLAYBACK_ERROR,{error:(Ze.target||Ze.srcElement).error})}function jt(Ze){if(!1===Ze.stream&&Te&&!isNaN(Ze.request.duration)){var ve=1.2*Ze.request.duration;ve>te&&(f.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",ve.toFixed(2)),te=ve,Q=ve)}}function Ht(Ze){B.trigger(i.Z.PLAYBACK_STALLED,{e:Ze})}function Zt(Ze){var ve;(ve=Ze.mediaInfo)&&ve.supplementalProperties&&"true"===ve.supplementalProperties[r.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(f.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),Te=!0)}function et(Ze){var ve=v.getActiveStreamInfo();Ze&&ve&&Ze.currentRepresentation&&Ze.streamId&&Ze.streamId===ve.id&&Ze.mediaType&&(Ze.mediaType===r.Z.VIDEO||Ze.mediaType===r.Z.AUDIO)&&(Te=!Ze.currentRepresentation.availabilityTimeComplete)&&!N&&(N=!0)}function Et(){he=!0}function Je(){he=!1}return h={initialize:function(Ze,ve){U=Ze,!0!==ve&&(R.addEventListener("canplay",De),R.addEventListener("canplaythrough",ze),R.addEventListener("play",$e),R.addEventListener("waiting",gt),R.addEventListener("playing",At),R.addEventListener("pause",qt),R.addEventListener("error",pt),R.addEventListener("seeking",zt),R.addEventListener("seeked",Bt),R.addEventListener("timeupdate",Kt),R.addEventListener("progress",Xt),R.addEventListener("ratechange",sn),R.addEventListener("loadedmetadata",dn),R.addEventListener("loadeddata",rn),R.addEventListener("stalled",Ht),R.addEventListener("ended",gn),R.addEventListener("volumechange",un),$=U.manifestInfo.isDynamic,oe=!1,ge=!1,B.on(i.Z.DATA_UPDATE_COMPLETED,He,h),B.on(i.Z.LOADING_PROGRESS,jt,h),B.on(i.Z.MANIFEST_UPDATED,Et,h),B.on(i.Z.STREAMS_COMPOSED,Je,h),B.on(e.Z.PLAYBACK_ENDED,mn,h,{priority:c.Z.EVENT_PRIORITY_HIGH}),B.on(e.Z.STREAM_INITIALIZING,Zt,h),B.on(e.Z.REPRESENTATION_SWITCH,et,h),B.on(e.Z.BUFFER_LEVEL_STATE_CHANGED,Xe,h),X&&(X=!1,me()))},setConfig:function(Ze){Ze&&(Ze.streamController&&(v=Ze.streamController),Ze.serviceDescriptionController&&(P=Ze.serviceDescriptionController),Ze.dashMetrics&&(L=Ze.dashMetrics),Ze.adapter&&(M=Ze.adapter),Ze.videoModel&&(R=Ze.videoModel),Ze.timelineConverter&&(F=Ze.timelineConverter),Ze.settings&&(H=Ze.settings))},getTimeToStreamEnd:ne,getBufferLevel:function(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,ve=null;return v.getActiveStreamProcessors().forEach(function(We){if(!Ze||0===Ze.length||-1===Ze.indexOf(We.getType())){var lt=We.getBufferLevel();ve=null===ve?lt:Math.min(ve,lt)}}),ve},getPlaybackStalled:function(){return oe},getTime:Ue,getLowLatencyModeEnabled:function(){return Te},getInitialCatchupModeActivated:function(){return N},getIsManifestUpdateInProgress:function(){return he},getPlaybackRate:dt,getPlayedRanges:function(){return U&&R?R.getPlayedRanges():null},getEnded:it,getIsDynamic:ot,getStreamController:function(){return v},computeAndSetLiveDelay:function(Ze,ve){var We,lt,Nt,Ft=!isNaN(Ze)&&isFinite(Ze)?Ze:NaN,on=M.getSuggestedPresentationDelay(),Cn=P.getServiceDescriptionSettings();return We=isNaN(H.get().streaming.delay.liveDelay)?null===H.get().streaming.delay.liveDelayFragmentCount||isNaN(H.get().streaming.delay.liveDelayFragmentCount)||isNaN(Ft)?Cn&&!isNaN(Cn.liveDelay)&&Cn.liveDelay>0?Cn.liveDelay:!0===H.get().streaming.delay.useSuggestedPresentationDelay&&null!==on&&!isNaN(on)&&on>0?on:isNaN(Ft)?ve&&!isNaN(ve.minBufferTime)?4*ve.minBufferTime:4*U.manifestInfo.minBufferTime:4*Ft:Ft*H.get().streaming.delay.liveDelayFragmentCount:H.get().streaming.delay.liveDelay,null!==(Nt=M.getAvailabilityStartTime())&&(de=Nt),lt=ve&&ve.dvrWindowSize>0?Math.min(We,ve.dvrWindowSize):We,te=lt,Q=lt,lt},getLiveDelay:function(){return te},getOriginalLiveDelay:function(){return Q},getCurrentLiveLatency:function(){if(!$||isNaN(de))return NaN;var Ze=Ue();if(isNaN(Ze)||0===Ze)return 0;var ve=(new Date).getTime()+1e3*F.getClientTimeOffset();return Math.max(((ve-de-1e3*Ze)/1e3).toFixed(3),0)},play:me,isPaused:je,isStalled:Ye,pause:Z,isSeeking:Me,getStreamEndTime:re,seek:K,seekToOriginalLive:function(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ve=arguments.length>1&&void 0!==arguments[1]&&arguments[1],We=arguments.length>2&&void 0!==arguments[2]&&arguments[2],lt=Ae();0!==lt&&K(lt-(te=Q),Ze,ve,We)},seekToCurrentLive:function(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ve=arguments.length>1&&void 0!==arguments[1]&&arguments[1],We=arguments.length>2&&void 0!==arguments[2]&&arguments[2],lt=Ae();0!==lt&&K(lt-te,Ze,ve,We)},reset:k,updateCurrentTime:bt,getAvailabilityStartTime:function(){return de}},f=(0,y.Z)(Y).getInstance().getLogger(h),k(),h}t.__dashjs_factory_name="PlaybackController";const l=o.Z.getSingletonFactory(t);var T=D(3186),p="loading",E="executed",b="failed";function x(h){var f,v,P,L,M=(h=h||{}).eventBus,R=h.events,F=h.dashMetrics,W=h.fragmentLoader,Q=h.streamInfo,U=h.type;function $(N){var H;return!!N&&(H=!1,P.some(function(Y){if(B=N,k=Y,!isNaN(B.index)&&B.startTime===k.startTime&&B.adaptationIndex===k.adaptationIndex&&B.type===k.type||(ne=N,re=Y,isNaN(ne.index)&&isNaN(re.index)&&ne.quality===re.quality)||function(ne,re){return ne.action===T.Z.ACTION_COMPLETE&&ne.action===re.action}(N,Y))return H=!0;var ne,re,B,k}),H)}function X(N){return isNaN(N.duration)?.25:Math.min(N.duration/8,.5)}function Se(N){P=P.filter(function(H){var Y=X(H);return isNaN(H.startTime)||void 0!==N&&H.startTime>=N-Y})}function de(N,H){H<=N+.5||(P=P.filter(function(Y){var B=X(Y);return isNaN(Y.startTime)||Y.startTime>=H-B||isNaN(Y.duration)||Y.startTime+Y.duration<=N+B}))}function Ee(N,H,Y){for(var B=N.length-1;B>=0;B--){var k=N[B],ne=k.startTime,re=ne+k.duration;if(Y=isNaN(Y)?X(k):Y,!isNaN(ne)&&!isNaN(re)&&H+Y>=ne&&H-Y<re||isNaN(ne)&&isNaN(H))return k}return null}function Te(N,H){F.addSchedulingInfo(N,H),F.addRequestsQueue(N.mediaType,L,P)}function q(N){N.sender===W&&(L.splice(L.indexOf(N.request),1),N.response&&!N.error&&P.push(N.request),Te(N.request,N.error?b:E),M.trigger(R.FRAGMENT_LOADING_COMPLETED,{request:N.request,response:N.response,error:N.error,sender:this},{streamId:Q.id,mediaType:U}))}function ge(N){N.sender===W&&M.trigger(R.FRAGMENT_LOADING_PROGRESS,{request:N.request,response:N.response,error:N.error,sender:this},{streamId:Q.id,mediaType:U})}function oe(N){N.sender===W&&M.trigger(R.FRAGMENT_LOADING_ABANDONED,{request:N.request},{streamId:Q.id,mediaType:U})}function he(){P=[],L=[]}return f={getStreamId:function(){return Q.id},getType:function(){return U},getRequests:function(N){var Y=[];return(N?N.state instanceof Array?N.state:[N.state]:[]).forEach(function(B){var ne,re,k=function(ne){var re;switch(ne){case p:re=L;break;case E:re=P;break;default:re=[]}return re}(B);Y=Y.concat((ne=k,(re=N).hasOwnProperty("time")?[Ee(ne,re.time,re.threshold)]:ne.filter(function(me){for(var Z in re)if("state"!==Z&&re.hasOwnProperty(Z)&&me[Z]!=re[Z])return!1;return!0})))}),Y},isFragmentLoaded:$,isFragmentLoadedOrPending:function(N){var H,Y=!1,B=0;if(!(Y=$(N)))for(B=0;B<L.length;B++)N.url===(H=L[B]).url&&N.startTime===H.startTime&&(Y=!0);return Y},removeExecutedRequestsBeforeTime:Se,removeExecutedRequestsAfterTime:function(N){P=P.filter(function(H){return isNaN(H.startTime)||void 0!==N&&H.startTime<N})},syncExecutedRequestsWithBufferedRange:function(N,H){if(N&&0!==N.length){for(var Y=0,B=0,k=N.length;B<k;B++)de(Y,N.start(B)),Y=N.end(B);H>0&&de(Y,H)}else Se()},abortRequests:function(){v.debug("abort requests"),W.abort(),L=[]},executeRequest:function(N){var H;N.action===T.Z.ACTION_DOWNLOAD?(Te(N,p),L.push(N),M.trigger(R.FRAGMENT_LOADING_STARTED,{request:H=N},{streamId:Q.id,mediaType:U}),W.load(H)):v.warn("Unknown request action.")},reset:function(){M.off(R.LOADING_COMPLETED,q,this),M.off(R.LOADING_DATA_PROGRESS,ge,this),M.off(R.LOADING_ABANDONED,oe,this),W&&W.reset(),he()},resetInitialSettings:he,addExecutedRequest:function(N){P.push(N)}},v=h.debug.getLogger(f),he(),M.on(R.LOADING_COMPLETED,q,f),M.on(R.LOADING_DATA_PROGRESS,ge,f),M.on(R.LOADING_ABANDONED,oe,f),f}x.__dashjs_factory_name="FragmentModel";var A=o.Z.getClassFactory(x);A.FRAGMENT_MODEL_LOADING=p,A.FRAGMENT_MODEL_EXECUTED=E,A.FRAGMENT_MODEL_CANCELED="canceled",A.FRAGMENT_MODEL_FAILED=b,o.Z.updateClassFactory(x.__dashjs_factory_name,A);const _=A;var O=D(5459);function G(h){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function j(h,f){return(j=Object.setPrototypeOf||function(v,P){return v.__proto__=P,v})(h,f)}function pe(h){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}const g=new(function(h){!function(M,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&j(M,R)}(L,h);var f,v,P=(f=L,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,R=pe(f);if(v){var F=pe(this).constructor;M=Reflect.construct(R,arguments,F)}else M=R.apply(this,arguments);return function ae(h,f){return!f||"object"!==G(f)&&"function"!=typeof f?function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(h):f}(this,M)});function L(){var M;return function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")}(this,L),(M=P.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,M.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,M.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,M.SEGMENT_BASE_LOADER_ERROR_CODE=15,M.TIME_SYNC_FAILED_ERROR_CODE=16,M.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,M.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,M.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,M.APPEND_ERROR_CODE=20,M.REMOVE_ERROR_CODE=21,M.DATA_UPDATE_FAILED_ERROR_CODE=22,M.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,M.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,M.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,M.DOWNLOAD_ERROR_ID_SIDX_CODE=26,M.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,M.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,M.DOWNLOAD_ERROR_ID_XLINK_CODE=29,M.MANIFEST_ERROR_ID_PARSE_CODE=31,M.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,M.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,M.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,M.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,M.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",M.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",M.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",M.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",M.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",M.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",M.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",M.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",M.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",M.APPEND_ERROR_MESSAGE="chunk is not defined",M.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",M.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",M.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",M.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",M.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",M.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",M}return L}(D(2230).Z));var ue=D(1264),w=D(7855);function ie(h){var f,v,P,L,M,R,F=this.context,W=(0,ue.Z)(F).getInstance(),te=h.textController,Q=h.eventBus,U=[],$=[],X=!1,Se=h.mediaSource,de=null;function Ee(k){return new Promise(function(ne){B(function(){L.changeType&&L.changeType(k),ne()})})}function Te(k){return L=te.getTextSourceBuffer(k),Promise.resolve()}function q(){if("function"==typeof L.addEventListener)try{L.addEventListener("updateend",H,!1),L.addEventListener("error",Y,!1),L.addEventListener("abort",Y,!1)}catch{R=setInterval(H,50)}else R=setInterval(H,50)}function ge(k){return new Promise(function(ne){L&&W.get().streaming.buffer.useAppendWindow?B(function(){try{if(!L)return void ne();var re=Se.duration,me=0;k&&!isNaN(k.start)&&!isNaN(k.duration)&&isFinite(k.duration)&&(re=k.start+k.duration),k&&!isNaN(k.start)&&(me=k.start),L.appendWindowEnd===re&&L.appendWindowStart===me||(L.appendWindowStart=0,L.appendWindowEnd=re+.01,L.appendWindowStart=Math.max(me-.1,0),P.debug("Updated append window for ".concat(M.type,". Set start to ").concat(L.appendWindowStart," and end to ").concat(L.appendWindowEnd))),ne()}catch{P.warn("Failed to set append window"),ne()}}):ne()})}function oe(k){return new Promise(function(ne){L?B(function(){try{L.timestampOffset===k||isNaN(k)||(L.timestampOffset=k,P.debug("Set MSE timestamp offset to ".concat(k))),ne()}catch{ne()}}):ne()})}function he(){if(!X&&$.length>0){X=!0;var k=$[0];$.splice(0,1);var ne=function(){X=!1,$.length>0&&he.call(this),k&&k.data&&k.data.segmentType&&k.data.segmentType!==w.w.INIT_SEGMENT_TYPE&&delete k.data.bytes,k.promise.resolve({chunk:k.data})};try{de=k.request,0===k.data.bytes.byteLength?ne.call(this):(L.appendBuffer?L.appendBuffer(k.data.bytes):L.append(k.data.bytes,k.data),B(ne.bind(this)))}catch(re){P.fatal('SourceBuffer append failed "'+re+'"'),$.length>0?he():X=!1,delete k.data.bytes,k.promise.reject({chunk:k.data,error:new O.Z(re.code,re.message)})}}}function N(){U.length>0&&(L.updating||(U.shift()(),N()))}function H(){L.updating||N()}function Y(k){Q.trigger(i.Z.SOURCE_BUFFER_ERROR,{error:k.target||{},lastRequestAppended:de},{streamId:M.streamInfo.id,mediaType:v})}function B(k){U.push(k),L.updating||N()}return f={getType:function(){return v},getAllBufferRanges:function(){try{return L.buffered}catch(k){return P.error("getAllBufferRanges exception: "+k.message),null}},getBuffer:function(){return L},append:function(k){var ne=this,re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(me,Z){k?($.push({data:k,promise:{resolve:me,reject:Z},request:re}),B(he.bind(ne))):Z({chunk:k,error:new O.Z(g.APPEND_ERROR_CODE,g.APPEND_ERROR_MESSAGE)})})},remove:function(k){return new Promise(function(ne,re){var me=k.start,Z=k.end;me>=0&&Z>me?B(function(){try{L.remove(me,Z),B(function(){ne({from:me,to:Z,unintended:!1}),k.resolve&&k.resolve()})}catch(K){re({from:me,to:Z,unintended:!1,error:new O.Z(g.REMOVE_ERROR_CODE,g.REMOVE_ERROR_MESSAGE)}),k.reject&&k.reject(K)}}):ne()})},abort:function(){return new Promise(function(k){try{$=[],"open"===Se.readyState?B(function(){try{L&&L.abort(),k()}catch{k()}}):(L&&L.setTextTrack&&"ended"===Se.readyState&&L.abort(),k())}catch{k()}})},reset:function(){if(L){try{U=[],function(){try{"function"==typeof L.removeEventListener&&(L.removeEventListener("updateend",H,!1),L.removeEventListener("error",Y,!1),L.removeEventListener("abort",Y,!1)),clearInterval(R)}catch(k){P.error(k)}}(),X=!1,$=[],L.getClassName&&"TextSourceBuffer"===L.getClassName()||(P.debug("Removing sourcebuffer from media source"),Se.removeSourceBuffer(L))}catch{}L=null}de=null},updateTimestampOffset:oe,initializeForStreamSwitch:function(k,ne,re){v=(M=k).type;var me=M.codec;L=re.getBuffer(),q();var Z=[];return Z.push(new Promise(function(K){B(function(){var Ae=L.appendWindowStart,Fe=L.appendWindowEnd;L&&(L.abort(),L.appendWindowStart=Ae,L.appendWindowEnd=Fe),K()})})),Z.push(ge(M.streamInfo)),W.get().streaming.buffer.useChangeTypeForTrackSwitch&&Z.push(Ee(me)),ne&&void 0!==ne.MSETimeOffset&&Z.push(oe(ne.MSETimeOffset)),Promise.all(Z)},initializeForFirstUse:function(k,ne,re){v=(M=ne).type;var me=M.codec;try{if(me.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Te(k);L=Se.addSourceBuffer(me),q();var Z=[];return Z.push(ge(M.streamInfo)),re&&void 0!==re.MSETimeOffset&&Z.push(oe(re.MSETimeOffset)),Promise.all(Z)}catch(K){return M.type==r.Z.TEXT&&!M.isFragmented||-1!==me.indexOf('codecs="stpp')||-1!==me.indexOf('codecs="vtt')?Te(k):Promise.reject(K)}},updateAppendWindow:ge,changeType:Ee},P=(0,y.Z)(F).getInstance().getLogger(f),f}ie.__dashjs_factory_name="SourceBufferSink";const ee=o.Z.getClassFactory(ie);function le(h){var f,v,P,M=[],R=h;function F(W,te){return M=M.filter(function(Q){return!((isNaN(te)||Q.start<te)&&(isNaN(W)||Q.end>W))}),Promise.resolve()}return f={getAllBufferRanges:function(){for(var W=[],te=0;te<M.length;te++){var Q=M[te];0===W.length||Q.start>W[W.length-1].end?W.push({start:Q.start,end:Q.end}):W[W.length-1].end=Q.end}var U={start:function($){return W[$].start},end:function($){return W[$].end}};return Object.defineProperty(U,"length",{get:function(){return W.length}}),U},append:function(W){return"InitializationSegment"!==W.segmentType?(M.push(W),M.sort(function(te,Q){return te.start-Q.start}),P=null):P=W,v.debug("PreBufferSink appended chunk s: "+W.start+"; e: "+W.end),R&&R({chunk:W}),Promise.resolve()},remove:F,abort:function(){return Promise.resolve()},discharge:function(W,te){var U,$,Q=(U=W,$=te,M.filter(function(X){return(isNaN($)||X.start<$)&&(isNaN(U)||X.end>U)}));return P&&(Q.push(P),P=null),F(W,te),Q},reset:function(){M=[],P=null,R=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(W){W()},getBuffer:function(){return this}},v=(0,y.Z)(this.context).getInstance().getLogger(f),f}le.__dashjs_factory_name="PreBufferSink";const be=o.Z.getClassFactory(le);function Re(){var h={};return{save:function(f){var v=f.streamId,P=f.representationId;h[v]=h[v]||{},h[v][P]=f},extract:function(f,v){return h&&h[f]&&h[f][v]?h[f][v]:null},reset:function(){h={}}}}Re.__dashjs_factory_name="InitCache";const we=o.Z.getSingletonFactory(Re);var Oe="BufferController";function qe(h){h=h||{};var f,v,P,L,M,R,F,W,te,Q,U,$,X,Se,de,Ee,Te,q,ge,oe,he,N=this.context,H=(0,c.Z)(N).getInstance(),Y=h.errHandler,B=h.fragmentModel,k=h.representationController,ne=h.adapter,re=h.textController,me=h.abrController,Z=h.playbackController,K=h.streamInfo,Ae=h.type,Fe=h.settings;function Ue(Je){var Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(ve,We){R=Je,te&&Ze&&"function"==typeof te.discharge?(Q=te,Me(Ze).then(function(){ve()}).catch(function(lt){We(lt)})):ve()})}function je(Je){return ne.convertRepresentationToRepresentationInfo(k.getRepresentationForQuality(Je))}function Me(Je){var Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(ve,We){q&&Je?R?(U=!1,function dt(Je,Ze){return new Promise(function(ve,We){var Nt,Ft,on,Cn,lt=me.getQualityFor(Ae,K.id);te=ee(N).create({mediaSource:R,textController:re,eventBus:H}),(Nt=Je,Ft=Ze,on=lt,Cn=je(on),Ft&&Ft[Ae]&&(Ae===r.Z.VIDEO||Ae===r.Z.AUDIO)?te.initializeForStreamSwitch(Nt,Cn,Ft[Ae]):te.initializeForFirstUse(K,Nt,Cn)).then(function(){return rn(je(lt))}).then(function(){ve(te)}).catch(function(Nt){v.fatal("Caught error on create SourceBuffer: "+Nt),Y.error(new O.Z(g.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,g.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+Ae)),We(Nt)})})}(Je,Ze).then(function(lt){ve(lt)}).catch(function(lt){We(lt)})):(U=!0,function Ye(){var Je=this;return new Promise(function(Ze,ve){var We=me.getQualityFor(Ae,K.id);te=be(N).create(xe.bind(Je)),rn(je(We)).then(function(){Ze(te)}).catch(function(){ve()})})}().then(function(lt){ve(lt)}).catch(function(lt){We(lt)})):ve(null)})}function it(Je){Fe.get().streaming.cacheInitSegments&&(v.info("Init fragment finished loading saving to",Ae+"'s init cache"),q.save(Je.chunk)),v.debug("Append Init fragment",Ae," with representationId:",Je.chunk.representationId," and quality:",Je.chunk.quality,", data size:",Je.chunk.bytes.byteLength),bt(Je.chunk)}function ot(Je){bt(Je.chunk,Je.request)}function bt(Je){te.append(Je,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(ve){xe(ve)}).catch(function(ve){xe(ve)}),Je.mediaInfo.type===r.Z.VIDEO&&et(i.Z.VIDEO_CHUNK_RECEIVED,{chunk:Je})}function Pt(Je){if(Je&&Je.length>0)for(var Ze=0,ve=Je.length;Ze<ve;Ze++)v.debug("Buffered range: "+Je.start(Ze)+" - "+Je.end(Ze)+", currentTime = ",Z.getTime())}function xe(Je){if(Je.error)return 22===Je.error.code&&function(){if(Te=!0,M=.8*jt(),v.warn("Quota exceeded, Critical Buffer: "+M),M>0){var We=Math.max(.2*M,1),lt=M-We,Nt=Math.min(Fe.get().streaming.buffer.bufferTimeAtTopQuality,.9*lt),Ft=Math.min(Fe.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*lt),on={streaming:{buffer:{bufferToKeep:parseFloat(We.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Nt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(Ft.toFixed(5))}}};Fe.update(on)}}(),void(22!==Je.error.code&&Zt()||(v.warn("Clearing playback buffer to overcome quota exceed situation"),et(i.Z.QUOTA_EXCEEDED,{criticalBufferLevel:M,quotaExceededTime:Je.chunk.start}),Xt(Kt())));if(te&&(gt(),Te=!1,(Se=Je.chunk)&&Se.endFragment)){Se&&!isNaN(Se.index)&&(F=Math.max(Se.index,F),At());var Ze=te.getAllBufferRanges();Se.segmentType===w.w.MEDIA_SEGMENT_TYPE&&(Pt(Ze),De(),function(){if(!isNaN(he)&&!U)if(Ae===r.Z.AUDIO||Ae===r.Z.VIDEO){var We=Z.getTime(),lt=$e(We,0),Nt=$e(he,0);if(lt&&Nt&&lt.start===Nt.start)he=NaN;else{var Ft=k.getCurrentRepresentation().segmentDuration,on=$e(he,Ft);on&&(Fe.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(We-he)>Ft?he<=on.end&&Z.seek(Math.max(he,on.start),!1,!0):We<on.start&&Z.seek(on.start,!1,!0))}}else he=NaN}());var ve=!1;$&&($.indexOf(Se)>0&&(ve=!0),$=null),Se&&!ve&&et(i.Z.BYTES_APPENDED_END_FRAGMENT,{quality:Se.quality,startTime:Se.start,index:Se.index,bufferedRanges:Ze,segmentType:Se.segmentType,mediaType:Ae})}}function _e(){return new Promise(function(Je,Ze){var ve=He();if(!ve||0===ve.length)return De(),void Je();Xt(ve).then(function(){Je()}).catch(function(We){Ze(We)})})}function He(Je){var Ze=[],ve=te.getAllBufferRanges();if(!ve||0===ve.length)return Ze;if(!Je&&0!==Je||isNaN(Je))Ze.push({start:ve.start(0),end:ve.end(ve.length-1)+.5});else{var We=function(Nt,Ft){var on=Fe.get().streaming.buffer.bufferToKeep,Cn=Ft.start(0);if(Nt-Cn>on){var er=Math.max(0,Nt-on),wn=B.getRequests({state:_.FRAGMENT_MODEL_EXECUTED,time:Nt,threshold:.01})[0];if(wn&&(er=Math.min(wn.startTime,er)),er>0)return{start:Cn,end:er}}return null}(Je,ve),lt=function(Nt,Ft){var on=Ft.end(Ft.length-1)+.5,Cn=Ht(Nt),er=K.manifestInfo.duration>=Fe.get().streaming.buffer.longFormContentDurationThreshold?Fe.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Fe.get().streaming.buffer.bufferTimeAtTopQuality,wn=isNaN(Cn)?Nt:Math.min(Cn,Nt+er);if(wn>=Ft.end(Ft.length-1))return null;var nr=B.getRequests({state:_.FRAGMENT_MODEL_EXECUTED,time:Nt,threshold:.01})[0];if(nr&&(wn=Math.max(nr.startTime+nr.duration,wn)),Fe.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Kn=0;Kn<Ft.length;Kn++)if(Ft.start(Kn)<=Nt&&Nt<=Ft.end(Kn)&&Ft.start(Kn)<=wn&&wn<=Ft.end(Kn)){var mr=wn;wn=Kn+1<Ft.length?Ft.start(Kn+1):Ft.end(Kn)+1,v.debug("Buffered range ["+Ft.start(Kn)+", "+Ft.end(Kn)+"] overlaps with targetTime "+Nt+" and range to be pruned ["+mr+", "+on+"], using ["+wn+", "+on+"] instead"+(wn<on?"":" (no actual pruning)"));break}return wn<Ft.end(Ft.length-1)?{start:wn,end:on}:null}(Je,ve);We&&Ze.push(We),lt&&Ze.push(lt)}return Ze}function De(){(!oe||Ae===r.Z.TEXT&&re.isTextEnabled())&&gt()}function ze(){qt()}function Xe(){qt(),he=NaN}function $e(Je,Ze){var ve,We,lt=te.getAllBufferRanges(),Nt=0,Ft=0,on=null,Cn=null,er=0,wn=isNaN(Ze)?.15:Ze;if(null!=lt){for(We=0,ve=lt.length;We<ve;We++)if(Nt=lt.start(We),Ft=lt.end(We),null===on)er=Math.abs(Nt-Je),(Je>=Nt&&Je<Ft||er<=wn)&&(on=Nt,Cn=Ft);else{if(!((er=Nt-Cn)<=wn))break;Cn=Ft}if(null!==on)return{start:on,end:Cn}}return null}function gt(){if(Z){var Je=Z.getTime()||0;U&&(Je=isNaN(he)?0:he);var Ze=Fe.get().streaming.gaps.jumpGaps&&!isNaN(Fe.get().streaming.gaps.smallGapLimit)?Fe.get().streaming.gaps.smallGapLimit:NaN;L=Math.max((ve=Je,We=Ze,Fe.get().streaming.gaps.jumpGaps&&(We=Fe.get().streaming.gaps.smallGapLimit),null===(lt=$e(ve,We))?0:lt.end-ve),0),et(i.Z.BUFFER_LEVEL_UPDATED,{mediaType:Ae,bufferLevel:L}),qt()}var ve,We,lt}function At(){var Je=F>=W-1,Ze=Z.getTimeToStreamEnd(K)-L<1e-5;!Je&&!Ze||P||(pt(!0),v.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(K.id," and type ").concat(Ae)))}function qt(){Ae!==r.Z.AUDIO&&Ae!==r.Z.VIDEO||((!Z.getLowLatencyModeEnabled()&&L<Fe.get().streaming.buffer.stallThreshold||0===L)&&!P?zt(d.Z.BUFFER_EMPTY):(P||L>=Fe.get().streaming.buffer.stallThreshold||Z.getLowLatencyModeEnabled()&&L>0)&&zt(d.Z.BUFFER_LOADED))}function zt(Je){X===Je||Je===d.Z.BUFFER_EMPTY&&0===Z.getTime()||Ae===r.Z.TEXT&&!re.isTextEnabled()||(X=Je,et(i.Z.BUFFER_LEVEL_STATE_CHANGED,{state:Je}),et(Je===d.Z.BUFFER_LOADED?i.Z.BUFFER_LOADED:i.Z.BUFFER_EMPTY),v.debug(Je===d.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function Bt(){te&&Ae!==r.Z.TEXT&&(P||Xt(Kt()))}function Kt(){var Je=[],Ze=te.getAllBufferRanges();if(!Ze||0===Ze.length)return Je;var ve=Z.getTime(),We=Math.max(0,ve-Fe.get().streaming.buffer.bufferToKeep),lt=B.getRequests({state:_.FRAGMENT_MODEL_EXECUTED,time:ve,threshold:.01})[0];if(lt)We=Math.min(lt.startTime,We);else if(0===ve&&Z.getIsDynamic())return[];if(Ze.start(0)<=We){for(var Nt={start:0,end:We},Ft=0;Ft<Ze.length&&Ze.end(Ft)<=We;Ft++)Nt.end=Ze.end(Ft);Nt.start<Nt.end&&Je.push(Nt)}return Je}function Xt(Je){return new Promise(function(Ze,ve){if(Je&&te&&0!==Je.length){var We=[];Je.forEach(function(lt){var Nt;We.push((Nt=lt,new Promise(function(Ft,on){Nt.resolve=Ft,Nt.reject=on,ge.push(Nt)})))}),Ee||sn(),Promise.all(We).then(function(){Ze()}).catch(function(lt){ve(lt)})}else Ze()})}function sn(){try{if(0===ge.length||!te)return v.debug("Nothing to prune, halt pruning"),ge=[],void(Ee=!1);var Je=te.getBuffer();if(!Je||!Je.buffered||0===Je.buffered.length)return v.debug("SourceBuffer is empty (or does not exist), halt pruning"),ge=[],void(Ee=!1);var Ze=ge.shift();v.debug("".concat(Ae,": Removing buffer from: ").concat(Ze.start," to ").concat(Ze.end)),Ee=!0,Z.getTime()<Ze.end&&pt(!1),te.remove(Ze).then(function(ve){dn(ve)}).catch(function(ve){dn(ve)})}catch{Ee=!1}}function dn(Je){v.debug("onRemoved buffer from:",Je.from,"to",Je.to),Pt(te.getAllBufferRanges()),0===ge.length&&(Ee=!1,gt()),Je.unintended&&(v.warn("Detected unintended removal from:",Je.from,"to",Je.to,"setting streamprocessor time to",Je.from),et(i.Z.SEEK_TARGET,{time:Je.from})),Ee?sn():(oe?oe=!1:gt(),et(i.Z.BUFFER_CLEARED,{from:Je.from,to:Je.to,unintended:Je.unintended,hasEnoughSpaceToAppend:Zt(),quotaExceeded:Te}))}function rn(Je){return new Promise(function(Ze){Je&&void 0!==Je.MSETimeOffset&&te&&te.updateTimestampOffset?te.updateTimestampOffset(Je.MSETimeOffset).then(function(){Ze()}).catch(function(){Ze()}):Ze()})}function gn(){return te&&!P?te.updateAppendWindow(K):Promise.resolve()}function un(){++de*(Fe.get().streaming.wallclockTimeUpdateInterval/1e3)>=Fe.get().streaming.buffer.bufferPruningInterval&&(de=0,Bt())}function mn(){qt()}function pt(Je){(P=Je)?et(i.Z.BUFFERING_COMPLETED):W=Number.POSITIVE_INFINITY}function jt(){try{var Je,Ze,ve=te.getAllBufferRanges(),We=0;if(!ve)return We;for(Ze=0,Je=ve.length;Ze<Je;Ze++)We+=ve.end(Ze)-ve.start(Ze);return We}catch{return 0}}function Ht(Je){try{var Ze=Je,ve=te.getAllBufferRanges();if(!ve||0===ve.length)return NaN;for(var We=0;Ze===Je&&We<ve.length;){var lt=ve.start(We),Nt=ve.end(We);Ze>=lt&&Ze<=Nt&&(Ze=Nt),We+=1}return Ze===Je?NaN:Ze}catch{}}function Zt(){var Je=jt();return isNaN(Je)||Je<M}function et(Je,Ze){H.trigger(Je,Ze||{},{streamId:K.id,mediaType:Ae})}function Et(Je,Ze){if(M=Number.POSITIVE_INFINITY,X=void 0,W=Number.POSITIVE_INFINITY,F=0,Se=null,P=!1,Ee=!1,Te=!1,L=0,de=0,ge=[],he=NaN,U=!1,te){var ve=te;te=null,Je||Ze||ve.abort().then(function(){ve.reset(Ze),ve=null})}oe=!1}return f={initialize:function(Je){Ue(Je),H.on(i.Z.INIT_FRAGMENT_LOADED,it,f),H.on(i.Z.MEDIA_FRAGMENT_LOADED,ot,f),H.on(i.Z.WALLCLOCK_TIME_UPDATED,un,f),H.on(e.Z.PLAYBACK_PLAYING,Xe,f),H.on(e.Z.PLAYBACK_PROGRESS,De,f),H.on(e.Z.PLAYBACK_TIME_UPDATED,De,f),H.on(e.Z.PLAYBACK_RATE_CHANGED,mn,f),H.on(e.Z.PLAYBACK_STALLED,ze,f)},getStreamId:function(){return K.id},getType:function(){return Ae},getBufferControllerType:function(){return Oe},createBufferSink:Me,dischargePreBuffer:function(){if(te&&Q&&"function"==typeof Q.discharge){var Je=Q.getAllBufferRanges();if(Je.length>0){for(var Ze="Beginning "+Ae+"PreBuffer discharge, adding buffer for:",ve=0;ve<Je.length;ve++)Ze+=" start: "+Je.start(ve)+", end: "+Je.end(ve)+";";v.debug(Ze)}else v.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");$=[];for(var We=Q.discharge(),lt=null,Nt=0;Nt<We.length;Nt++){var Ft=We[Nt];if(Ft.segmentType!==w.w.INIT_SEGMENT_TYPE){var on=q.extract(Ft.streamId,Ft.representationId);on&&lt!==on&&($.push(on),te.append(on),lt=on)}$.push(Ft),te.append(Ft)}Q.reset(),Q=null}},getBuffer:function(){return te},getBufferLevel:function(){return L},getRangeAt:$e,hasBufferAtTime:function(Je){try{var Ze=te.getAllBufferRanges();if(!Ze||0===Ze.length)return!1;for(var ve=0;ve<Ze.length;){var We=Ze.start(ve),lt=Ze.end(ve);if(Je>=We&&Je<=lt)return!0;ve+=1}return!1}catch(Nt){return v.error(Nt),!1}},pruneBuffer:Bt,setMediaSource:Ue,getMediaSource:function(){return R},appendInitSegmentFromCache:function(Je){var Ze=q.extract(K.id,Je);return!!Ze&&(v.info("Append Init fragment",Ae," with representationId:",Ze.representationId," and quality:",Ze.quality,", data size:",Ze.bytes.byteLength),bt(Ze),!0)},getIsBufferingCompleted:function(){return P},setIsBufferingCompleted:pt,getIsPruningInProgress:function(){return Ee},reset:function(Je,Ze){H.off(i.Z.INIT_FRAGMENT_LOADED,it,this),H.off(i.Z.MEDIA_FRAGMENT_LOADED,ot,this),H.off(i.Z.WALLCLOCK_TIME_UPDATED,un,this),H.off(e.Z.PLAYBACK_PLAYING,Xe,this),H.off(e.Z.PLAYBACK_PROGRESS,De,this),H.off(e.Z.PLAYBACK_TIME_UPDATED,De,this),H.off(e.Z.PLAYBACK_RATE_CHANGED,mn,this),H.off(e.Z.PLAYBACK_STALLED,ze,this),Et(Je,Ze)},prepareForPlaybackSeek:function(){return P&&pt(!1),te.abort()},prepareForReplacementTrackSwitch:function(Je){return new Promise(function(Ze,ve){te.abort().then(function(){return gn()}).then(function(){return Fe.get().streaming.buffer.useChangeTypeForTrackSwitch?te.changeType(Je):Promise.resolve()}).then(function(){return _e()}).then(function(){pt(!1),Ze()}).catch(function(We){ve(We)})})},prepareForNonReplacementTrackSwitch:function(Je){return new Promise(function(Ze,ve){gn().then(function(){return Fe.get().streaming.buffer.useChangeTypeForTrackSwitch?te.changeType(Je):Promise.resolve()}).then(function(){Ze()}).catch(function(We){ve(We)})})},prepareForForceReplacementQualitySwitch:function(Je){return new Promise(function(Ze,ve){te.abort().then(function(){return gn()}).then(function(){return _e()}).then(function(){return rn(Je)}).then(function(){pt(!1),Ze()}).catch(function(We){ve(We)})})},updateAppendWindow:gn,getAllRangesWithSafetyFactor:He,getContinuousBufferTimeForTargetTime:Ht,clearBuffers:Xt,pruneAllSafely:_e,updateBufferTimestampOffset:rn,setSeekTarget:function(Je){he=Je},segmentRequestingCompleted:function(Je){isNaN(Je)||(W=Je,At())}},v=(0,y.Z)(N).getInstance().getLogger(f),q=we(N).getInstance(),Et(),f}qe.__dashjs_factory_name=Oe;const Ne=o.Z.getClassFactory(qe);var Be="NotFragmentedTextBufferController";function se(h){h=h||{};var f,v,P,L,M,R,F=this.context,W=(0,c.Z)(F).getInstance(),te=h.textController,Q=h.errHandler,U=h.streamInfo,$=h.type;function X(Ee){L=Ee}function Se(Ee){v!==Ee&&(v=Ee)&&W.trigger(i.Z.BUFFERING_COMPLETED,{},{streamId:U.id,mediaType:$})}function de(Ee){Ee.chunk.bytes&&!v&&(R.save(Ee.chunk),M.append(Ee.chunk),Se(!0))}return f={initialize:function(Ee){X(Ee)},getStreamId:function(){return U.id},getType:function(){return $},getBufferControllerType:function(){return Be},createBufferSink:function(Ee){return new Promise(function(Te,q){try{(M=ee(F).create({mediaSource:L,textController:te,eventBus:W})).initializeForFirstUse(U,Ee),P||(M.getBuffer()&&"function"==typeof M.getBuffer().initialize&&M.getBuffer().initialize(),P=!0),Te(M)}catch(ge){Q.error(new O.Z(g.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,g.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+$)),q(ge)}})},dischargePreBuffer:function(){},getBuffer:function(){return M},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:X,getMediaSource:function(){return L},appendInitSegmentFromCache:function(Ee){return null!==R.extract(U.id,Ee)},getIsBufferingCompleted:function(){return v},setIsBufferingCompleted:Se,getIsPruningInProgress:function(){return!1},reset:function(Ee){W.off(i.Z.INIT_FRAGMENT_LOADED,de,f),!Ee&&M&&(M.abort(),M.reset(),M=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return v=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},P=!1,L=null,v=!1,R=we(F).getInstance(),W.on(i.Z.INIT_FRAGMENT_LOADED,de,f),f}se.__dashjs_factory_name=Be;const fe=o.Z.getClassFactory(se);function Ge(h){h=h||{};var f,v,P,L,M,R,F,W,te,Q,U,$,X=this.context,Se=(0,c.Z)(X).getInstance(),de=h.dashMetrics,Ee=h.mediaPlayerModel,Te=h.fragmentModel,q=h.abrController,ge=h.playbackController,oe=h.textController,he=h.type,N=h.bufferController,H=h.representationController,Y=h.settings;function B(je){if(!N.getIsBufferingCompleted()){k();var Me=isNaN(je)?0:je;M=setTimeout(ne,Me)}}function k(){M&&(clearTimeout(M),M=null)}function ne(){try{if(function(){try{return he===r.Z.TEXT&&!oe.isTextEnabled()||ge.isPaused()&&(!ge.getStreamController().getInitialPlayback()||!ge.getStreamController().getAutoPlay())&&!Y.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void k();if(function(){try{return H.getCurrentRepresentationInfo()&&(isNaN(te)||Q||(dt=q.getMaxAllowedIndexFor(he,v.id),!(!isNaN(W)&&W==dt||(P.info("Top quality "+he+" index has changed from "+W+" to "+dt),W=dt,0)))||(it=H.getCurrentRepresentationInfo(),!he||!it||de.getCurrentBufferLevel(he)<re()))}catch{return!1}var it,dt}()){var je=!1;$&&(je=q.checkPlaybackQuality(he,v.id)),je||(Me=H.getCurrentRepresentationInfo(),U||Me.quality!==te||Q?(Q?(P.debug("Switch track for "+he+", representation id = "+Me.id),Q=!1):P.debug("Quality has changed, get init request for representationid = "+Me.id),Se.trigger(i.Z.INIT_FRAGMENT_NEEDED,{representationId:Me.id,sender:f},{streamId:v.id,mediaType:he}),$=!1,U=!1):(P.debug("Media segment needed for ".concat(he," and stream id ").concat(v.id)),Se.trigger(i.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:v.id,mediaType:he}),$=!0))}else B(ge.getLowLatencyModeEnabled()?Y.get().streaming.scheduling.lowLatencyTimeout:Y.get().streaming.scheduling.defaultTimeout)}catch{B(ge.getLowLatencyModeEnabled()?Y.get().streaming.scheduling.lowLatencyTimeout:Y.get().streaming.scheduling.defaultTimeout)}var Me}function re(){var je=NaN,Me=H.getCurrentRepresentationInfo();return he&&Me&&(je=he===r.Z.TEXT?function(){try{if(oe.isTextEnabled()){var Ye=H.getCurrentRepresentationInfo();if(isNaN(Ye.fragmentDuration)){var dt=de.getCurrentSchedulingInfo(d.Z.SCHEDULING_INFO);return dt?dt.duration:0}return Ye.fragmentDuration}return 0}catch{return 0}}():he===r.Z.AUDIO&&R?function(){try{var Ye=de.getCurrentBufferLevel(r.Z.VIDEO),dt=H.getCurrentRepresentationInfo();return isNaN(dt.fragmentDuration)?Ye+1:Math.max(Ye+1,dt.fragmentDuration)}catch{return 0}}():function(){try{var Ye=H.getCurrentRepresentationInfo().mediaInfo.streamInfo;return q.isPlayingAtTopQuality(Ye)?Ye.manifestInfo.duration>=Y.get().streaming.buffer.longFormContentDurationThreshold?Y.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Y.get().streaming.buffer.bufferTimeAtTopQuality:Ee.getStableBufferTime()}catch{return Ee.getStableBufferTime()}}()),je}function me(){Z(!0)}function Z(je){if(ge&&Te){var Me=Te.getRequests({state:_.FRAGMENT_MODEL_EXECUTED,time:ge.getTime(),threshold:0})[0];Me&&ge.getTime()>=Me.startTime&&((!F.mediaInfo||Me.mediaInfo.type===F.mediaInfo.type&&Me.mediaInfo.id!==F.mediaInfo.id)&&je&&Se.trigger(i.Z.TRACK_CHANGE_RENDERED,{mediaType:he,oldMediaInfo:F.mediaInfo,newMediaInfo:Me.mediaInfo,streamId:v.id}),Me.quality===F.quality&&Me.adaptationIndex===F.adaptationIndex||!je||(P.debug("Quality change rendered for streamId ".concat(v.id," and type ").concat(he)),Se.trigger(i.Z.QUALITY_CHANGE_RENDERED,{mediaType:he,oldQuality:F.quality,newQuality:Me.quality,streamId:v.id})),F={mediaInfo:Me.mediaInfo,quality:Me.quality,adaptationIndex:Me.adaptationIndex})}}function K(){Te.abortRequests(),k()}function Ae(){Y.get().streaming.scheduling.scheduleWhilePaused||B()}function Fe(je){de.updatePlayListTraceMetrics({playbackspeed:je.playbackRate.toString()})}function Ue(){$=!0,L=0,te=NaN,F={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},W=NaN,Q=!1,U=!1}return f={initialize:function(je){R=je,Se.on(i.Z.URL_RESOLUTION_FAILED,K,f),Se.on(e.Z.PLAYBACK_STARTED,Ae,f),Se.on(e.Z.PLAYBACK_RATE_CHANGED,Fe,f),Se.on(e.Z.PLAYBACK_TIME_UPDATED,me,f)},getType:function(){return he},getStreamId:function(){return v.id},setTimeToLoadDelay:function(je){L=je},getTimeToLoadDelay:function(){return L},setSwitchTrack:function(je){Q=je},getSwitchTrack:function(){return Q},startScheduleTimer:B,clearScheduleTimer:k,reset:function(){Se.off(i.Z.URL_RESOLUTION_FAILED,K,f),Se.off(e.Z.PLAYBACK_STARTED,Ae,f),Se.off(e.Z.PLAYBACK_RATE_CHANGED,Fe,f),Se.off(e.Z.PLAYBACK_TIME_UPDATED,me,f),k(),Z(!1),Ue(),v=null},getBufferTarget:re,getPlaybackController:function(){return ge},setCheckPlaybackQuality:function(je){$=je},setInitSegmentRequired:function(je){U=je},setLastInitializedQuality:function(je){te=je}},P=(0,y.Z)(X).getInstance().getLogger(f),Ue(),v=h.streamInfo,f}Ge.__dashjs_factory_name="ScheduleController";const m=o.Z.getClassFactory(Ge);var u=D(7387);function I(h){var f,v,P,L,M,R,F=(h=h||{}).eventBus,W=h.events,te=h.abrController,Q=h.dashMetrics,U=h.playbackController,$=h.timelineConverter,X=h.type,Se=h.streamInfo,de=h.dashConstants,Ee=h.segmentsController,Te=h.isDynamic,q=h.adapter;function ge(){return X}function oe(){return P}function he(){return R}function N(){v=null,P=!0,L=[],M=null}function H(me){return new Promise(function(Z,K){var Ae=me.hasInitialization(),Fe=me.hasSegments(),Ue=[];Ue.push(Ee.updateInitData(me,Ae)),Ue.push(Ee.updateSegmentData(me,Fe)),Promise.all(Ue).then(function(je){var Me,dt;je[0]&&!je[0].error&&(me=(dt=je[0])&&!dt.error&&dt.representation?dt.representation:me),je[1]&&!je[1].error&&(me=function(Ye,dt){if(dt&&!dt.error){var it,ot,bt,Pt,xe=dt.segments,_e=[],He=0;for(it=0,ot=xe?xe.length:0;it<ot;it++)(Pt=(0,u.TJ)($,Te,Ye,(bt=xe[it]).startTime,bt.duration,bt.timescale,bt.media,bt.mediaRange,He))&&(_e.push(Pt),Pt=null,He++);return _e.length>0&&(Ye.segments=_e),Ye}}(me,je[1])),(Me=me).mediaFinishedInformation=Ee.getMediaFinishedInformation(Me),function(Ye){if(oe()){var dt,ot=Q.getCurrentManifestUpdate(),bt=!1;if(ot){for(var Pt=0;Pt<ot.representationInfo.length;Pt++)if((dt=ot.representationInfo[Pt]).index===Ye.index&&dt.mediaType===ge()){bt=!0;break}bt||Q.addManifestUpdateRepresentationInfo(Ye,ge())}if(function(){for(var _e=0,He=L.length;_e<He;_e++){var De=L[_e].segmentInfoType;if(!L[_e].hasInitialization()||(De===de.SEGMENT_BASE||De===de.BASE_URL)&&!L[_e].segments)return!1}return!0}()){te.setPlaybackQuality(X,Se,L.indexOf(R));var xe=Q.getCurrentDVRInfo(X);xe&&Q.updateManifestUpdateInfo({latency:xe.range.end-U.getTime()}),Q.getCurrentRepresentationSwitch(he().adaptation.type)||Y(),k()}}}(me),Z()}).catch(function(je){K(je)})})}function Y(){!function(){if(!(te&&Q&&U&&$))throw new Error(r.Z.MISSING_CONFIG_ERROR)}();var me=new Date,Z=he(),K=1e3*U.getTime();Z&&Q.addRepresentationSwitch(Z.adaptation.type,me,K,Z.id),F.trigger(e.Z.REPRESENTATION_SWITCH,{mediaType:X,streamId:Se.id,currentRepresentation:Z,numberOfRepresentations:L.length},{streamId:Se.id,mediaType:X})}function B(me){return null==me||me>=L.length?null:L[me]}function k(me){P=!1,F.trigger(W.DATA_UPDATE_COMPLETED,{data:v,currentRepresentation:R,error:me},{streamId:Se.id,mediaType:X})}function ne(me){M=q.convertRepresentationToRepresentationInfo(R=me)}function re(me){if(me.newDuration){var Z=he();Z&&Z.adaptation.period&&(Z.adaptation.period.duration=me.newDuration)}}return f={getStreamId:function(){return Se.id},getType:ge,getData:function(){return v},isUpdating:oe,updateData:function(me,Z,K,Ae,Fe){return new Promise(function(Ue,je){if(P=!0,L=Z,v=me,ne(B(Fe)),K!==r.Z.VIDEO&&K!==r.Z.AUDIO&&(K!==r.Z.TEXT||!Ae))return k(),void Ue();for(var Me=[],Ye=0,dt=L.length;Ye<dt;Ye++)Me.push(H(L[Ye]));Promise.all(Me).then(function(){ne(B(Fe)),Ue()}).catch(function(ot){je(ot)})})},getCurrentRepresentation:he,getCurrentRepresentationInfo:function(){return M},getRepresentationForQuality:B,prepareQualityChange:function(me){ne(B(me)),Y()},reset:function(){F.off(e.Z.MANIFEST_VALIDITY_CHANGED,re,f),N()}},N(),F.on(e.Z.MANIFEST_VALIDITY_CHANGED,re,f),f}I.__dashjs_factory_name="RepresentationController";const C=o.Z.getClassFactory(I);var z=D(3106),V=D(9326),ye=D(7473),Le=D(2594);function ke(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}var Ce=function h(){ke(this,h),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Ce.INITIAL_PLAYOUT_START_REASON="initial_playout",Ce.SEEK_START_REASON="seek",Ce.RESUME_FROM_PAUSE_START_REASON="resume",Ce.METRICS_COLLECTION_START_REASON="metrics_collection_start";var Ve=function h(){ke(this,h),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};Ve.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",Ve.REBUFFERING_REASON="rebuffering",Ve.USER_REQUEST_STOP_REASON="user_request",Ve.END_OF_PERIOD_STOP_REASON="end_of_period",Ve.END_OF_CONTENT_STOP_REASON="end_of_content",Ve.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",Ve.FAILURE_STOP_REASON="failure";var Ke=D(7802);function nt(){return{ntpToUTC:function(h){var f=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(f.getTime()+h).getTime()}}}nt.__dashjs_factory_name="TimeUtils";const ht=o.Z.getSingletonFactory(nt);function ft(h){h=h||{};var f,v,P,L,M,R,F,W,te,Q,U,$,X,Se,de=this.context,Ee=(0,c.Z)(de).getInstance(),Te=h.streamInfo,q=h.type,ge=h.errHandler,oe=h.mimeType,he=h.timelineConverter,N=h.adapter,H=h.manifestModel,Y=h.mediaPlayerModel,B=h.fragmentModel,k=h.abrController,ne=h.playbackController,re=h.mediaController,me=h.textController,Z=h.dashMetrics,K=h.settings,Ae=h.boxParser,Fe=h.segmentBlacklistController;function Ue(){return Te.id}function je(){return q}function Me(){return N.getIsTextTrack(W.getData())}function Ye(){M=[],L=null,X=0,te=!1,Q=!1,Se=null}function dt(et){return!isNaN(et)&&!isNaN(Te.duration)&&isFinite(Te.duration)&&et>=Te.start+Te.duration}function it(et){var Et=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(et.sender)if(ne.getIsManifestUpdateInProgress())_e();else if((!Me()||me.isTextEnabled())&&R&&et.representationId&&!R.appendInitSegmentFromCache(et.representationId)){var Je=W.getCurrentRepresentation();if(0===Je.range)return void ot();var Ze=U?U.getInitRequest(L,Je):null;Ze?B.executeRequest(Ze):Et&&(F.setInitSegmentRequired(!0),_e())}}function ot(et){var Et=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ne.getIsManifestUpdateInProgress()||R.getIsPruningInProgress())_e();else{var Je=function xe(){var et,Et=rn();if(isNaN(X)||je()===r.Z.TEXT&&!me.isTextEnabled())return null;if(U){var Je=W&&Et?W.getRepresentationForQuality(Et.quality):null;et=te?U.getSegmentRequestForTime(L,Je,X):U.getNextSegmentRequest(L,Je)}return et}();Je?(te=!1,function bt(et){isNaN(et.startTime+et.duration)||(X=et.startTime+et.duration),et.delayLoadingTime=(new Date).getTime()+F.getTimeToLoadDelay(),F.setTimeToLoadDelay(0),function(Et){var Je=Et.url;return Et.range&&(Je=Je.concat("_",Et.range)),Fe.contains(Je)}(et)?(v.warn("Fragment request url ".concat(et.url," for stream id ").concat(Te.id," and media type ").concat(q," is on the ignore list and will be skipped")),_e()):(v.debug("Next fragment request url for stream id ".concat(Te.id," and media type ").concat(q," is ").concat(et.url)),B.executeRequest(et))}(Je)):function Pt(et){var Et,Je=W.getCurrentRepresentation();if(!K.get().streaming.gaps.enableSeekFix||!te&&0!==ne.getTime()||(P?P&&Je.segmentInfoType===n.Z.SEGMENT_TIMELINE&&(Et=U.getValidTimeAheadOfTargetTime(X,L,Je,K.get().streaming.gaps.threshold)):Et=U.getValidTimeAheadOfTargetTime(X,L,Je,K.get().streaming.gaps.threshold),isNaN(Et)||Et===X)){if(U.isLastSegmentRequested(Je,X)){var Ze=U.getCurrentIndex();return v.debug("Segment requesting for stream ".concat(Te.id," has finished")),Ee.trigger(i.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:Ze},{streamId:Te.id,mediaType:q}),R.segmentRequestingCompleted(Ze),void F.clearScheduleTimer()}et&&_e()}else ne.isSeeking()||0===ne.getTime()?(v.warn("Adjusting playback time ".concat(Et," because of gap in the manifest. Seeking by ").concat(Et-X)),ne.seek(Et,!1,!1)):(v.warn("Adjusting buffering time ".concat(Et," because of gap in the manifest. Adjusting time by ").concat(Et-X)),Zt(Et),et&&_e())}(Et)}}function _e(){F.startScheduleTimer(ne.getLowLatencyModeEnabled()?K.get().streaming.scheduling.lowLatencyTimeout:K.get().streaming.scheduling.defaultTimeout)}function He(et){et.error||R.getIsBufferingCompleted()||R.updateBufferTimestampOffset(et.currentRepresentation)}function De(et){Z.addBufferState(q,et.state,F.getBufferTarget()),et.state!==d.Z.BUFFER_EMPTY||ne.isSeeking()||(v.info("Buffer is empty! Stalling!"),Z.pushPlayListTraceMetrics(new Date,Ve.REBUFFERING_REASON))}function ze(et){B.syncExecutedRequestsWithBufferedRange(R.getBuffer().getAllBufferRanges(),Te.duration),et.quotaExceeded&&et.from>ne.getTime()&&Zt(et.from),et.hasEnoughSpaceToAppend&&et.quotaExceeded&&F.startScheduleTimer()}function Xe(et){if(et&&et.lastRequestAppended&&et.lastRequestAppended.url){var Et=et.lastRequestAppended.url;et.lastRequestAppended.range&&(Et=Et.concat("_",et.lastRequestAppended.range)),v.warn("Blacklisting segment with url ".concat(Et)),Fe.add(Et)}}function $e(et){v.debug("Appended bytes for ".concat(et.mediaType," and stream id ").concat(et.streamId)),et.segmentType===w.w.INIT_SEGMENT_TYPE&&(F.setLastInitializedQuality(et.quality),v.info("["+q+"] lastInitializedRepresentationInfo changed to "+et.quality)),Se?gt(Se):F.startScheduleTimer(0)}function gt(et){var Et=B.getRequests({state:_.FRAGMENT_MODEL_LOADING});if(Et&&Et.length>0)return v.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(Se=et);R.updateBufferTimestampOffset(et).then(function(){L.segmentAlignment||L.subSegmentAlignment?F.startScheduleTimer():jt(),Se=null,Q=!1}).catch(function(){Se=null,Q=!1})}function At(et){v.info("onFragmentLoadingAbandoned request: "+et.request.url+" has been aborted"),ne.isSeeking()||F.getSwitchTrack()||Q||(v.info("onFragmentLoadingAbandoned request: "+et.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),et.request&&et.request.isInitializationRequest()?F.setInitSegmentRequired(!0):Zt(et.request.startTime+et.request.duration/2),F.startScheduleTimer(0))}function qt(et){var Et;v.info("OnFragmentLoadingCompleted for stream id "+Te.id+" and media type "+q+" - Url:",et.request?et.request.url:"undefined",et.request.range?", Range:"+et.request.range:""),Me()&&F.startScheduleTimer(0),et.error&&et.request.serviceLocation&&(Et=et,v.info("Fragment loading completed with an error"),Et&&Et.request&&Et.request.type&&(Et.request.type===w.w.INIT_SEGMENT_TYPE?it({representationId:Et.request.representationId,sender:{}},!1):Et.request.type===w.w.MEDIA_SEGMENT_TYPE&&(Zt(Et.request.startTime+Et.request.duration/2),ot({},!1))))}function zt(){Zt(ne.getTime()),dn().startScheduleTimer()}function Bt(et){var Et=et.currentTrackInfo;if(Et){var Je=M.find(function(Ze){return Ze.index===Et.index&&Ze.lang===Et.lang});Je&&sn(Je).then(function(){R.setIsBufferingCompleted(!1),Zt(ne.getTime()),F.setInitSegmentRequired(!0),F.startScheduleTimer()})}}function Kt(et){Zt(et.quotaExceededTime),F.clearScheduleTimer()}function Xt(){return R?R.getBuffer():null}function sn(et){et===L||et&&L&&et.type!==L.type||(L=et);var Et=N.getRealAdaptation(Te,L),Je=N.getVoRepresentations(L);if(W){var Ze,ve=W.getData(),We=k.getMaxAllowedIndexFor(q,Te.id),lt=k.getMinAllowedIndexFor(q,Te.id),Nt=null;return null!==ve&&ve.id===Et.id||q===r.Z.TEXT?Ze=k.getQualityFor(q,Te.id):(Nt=k.getThroughputHistory().getAverageThroughput(q,P)||k.getInitialBitrateFor(q,Te.id),Ze=k.getQualityForBitrate(L,Nt,Te.id)),void 0!==lt&&Ze<lt&&(Ze=lt),Ze>We&&(Ze=We),W.updateData(Et,Je,q,L.isFragmented,Ze)}return Promise.resolve()}function dn(){return F}function rn(et){var Et;return void 0!==et?((0,z.SE)(et),Et=W?W.getRepresentationForQuality(et):null):Et=W?W.getCurrentRepresentation():null,N.convertRepresentationToRepresentationInfo(Et)}function gn(){return!!R&&R.getIsBufferingCompleted()}function un(et){if(K.get().streaming.enableManifestTimescaleMismatchFix){var Et=et.chunk,Je=Et.bytes,Ze=rn(Et.quality),ve=W&&Ze?W.getRepresentationForQuality(Ze.quality):null;Ze&&ve&&(ve.timescale=Ae.getMediaTimescaleFromMoov(Je))}}function mn(et){var wn,nr,Kn,mr,Et=et.chunk,Je=Et.bytes,Ze=Et.quality,ve=rn(Ze),We=W&&ve?W.getRepresentationForQuality(ve.quality):null;if(ve&&We){var lt;if(K.get().streaming.parseInbandPrft&&et.request.type===w.w.MEDIA_SEGMENT_TYPE){var Nt=(wn=lt=lt||Ae.parse(Je),nr=We.timescale,Kn=wn.getBoxes("prft"),mr=[],Kn.forEach(function(Cr){mr.push(function(cr,hr){var or="unknown";switch(cr.flags){case 0:or=n.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:or=n.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:or=n.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var pr=1e3*cr.ntp_timestamp_sec+cr.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:or,ntpTimestamp:pr=ht(de).getInstance().ntpToUTC(pr),mediaTime:cr.media_time/hr}}(Cr,nr))}),mr);Nt&&Nt.length&&Ee.trigger(e.Z.INBAND_PRFT,{data:Nt},{streamId:Te.id,mediaType:q})}var Ft=N.getEventsFor(ve.mediaInfo,null,Te),on=N.getEventsFor(ve,We,Te);if(Ft&&Ft.length>0||on&&on.length>0){var Cn=B.getRequests({state:_.FRAGMENT_MODEL_EXECUTED,quality:Ze,index:Et.index})[0],er=function(wn,nr,Kn,mr){try{for(var Cr={},cr=[],hr=Kn.concat(mr),or=0,pr=hr.length;or<pr;or++)Cr[hr[or].schemeIdUri+"/"+hr[or].value]=hr[or];var br=wn.getBoxes("emsg");if(!br||0===br.length)return cr;for(var Ar=wn.getBox("sidx"),Ir=!Ar||isNaN(Ar.earliest_presentation_time)||isNaN(Ar.timescale)?nr&&!isNaN(nr.mediaStartTime)?nr.mediaStartTime:0:Ar.earliest_presentation_time/Ar.timescale,Kr=Math.max(Ir,0),Ti=W.getCurrentRepresentation(),Lr=0,xr=br.length;Lr<xr;Lr++){var Wr=N.getEvent(br[Lr],Cr,Kr,Ti);Wr&&cr.push(Wr)}return cr}catch{return[]}}(lt=lt||Ae.parse(Je),Cn,Ft,on);Ee.trigger(i.Z.INBAND_EVENTS,{events:er},{streamId:Te.id})}}}function pt(){var et=ne.getTime();K.get().streaming.buffer.flushBufferAtTrackSwitch&&ne.seek(et+.001,!1,!0),Zt(et),R.setSeekTarget(et),F.startScheduleTimer()}function jt(){var et=ne.getTime(),Et=R.getContinuousBufferTimeForTargetTime(et);Zt(isNaN(Et)?et:Et),F.startScheduleTimer()}function Ht(et){et&&!isNaN(et.time)&&(Zt(et.time),R.setSeekTarget(et.time))}function Zt(et){X=et,te=!0}return f={initialize:function(et,Et,Je){var Ze;$=(0,Ke.Z)(de).create({events:i.Z,eventBus:Ee,streamInfo:Te,timelineConverter:he,dashConstants:n.Z,segmentBaseController:h.segmentBaseController,type:q}),(U=(0,V.Z)(de).create({streamInfo:Te,type:q,timelineConverter:he,dashMetrics:Z,mediaPlayerModel:Y,baseURLController:h.baseURLController,errHandler:ge,segmentsController:$,settings:K,boxParser:Ae,events:i.Z,eventBus:Ee,errors:g,debug:(0,y.Z)(de).getInstance(),requestModifier:(0,ye.Z)(de).getInstance(),dashConstants:n.Z,constants:r.Z,urlUtils:(0,Le.Z)(de).getInstance()})).initialize(P=Te.manifestInfo.isDynamic),k.registerStreamType(q,f),W=C(de).create({streamInfo:Te,type:q,abrController:k,dashMetrics:Z,playbackController:ne,timelineConverter:he,dashConstants:n.Z,events:i.Z,eventBus:Ee,errors:g,isDynamic:P,adapter:N,segmentsController:$}),(R=(Ze=q)?Ze!==r.Z.TEXT||Je?Ne(de).create({streamInfo:Te,type:Ze,mediaPlayerModel:Y,manifestModel:H,fragmentModel:B,errHandler:ge,mediaController:re,representationController:W,adapter:N,textController:me,abrController:k,playbackController:ne,settings:K}):fe(de).create({streamInfo:Te,type:Ze,mimeType:oe,fragmentModel:B,textController:me,errHandler:ge,settings:K}):(ge.error(new O.Z(g.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,g.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null))&&R.initialize(et),(F=m(de).create({streamInfo:Te,type:q,mimeType:oe,adapter:N,dashMetrics:Z,mediaPlayerModel:Y,fragmentModel:B,abrController:k,playbackController:ne,textController:me,mediaController:re,bufferController:R,representationController:W,settings:K})).initialize(Et),X=0,te=!1},getStreamId:Ue,getType:je,isUpdating:function(){return!!W&&W.isUpdating()},getBufferController:function(){return R},dischargePreBuffer:function(){R.dischargePreBuffer()},getFragmentModel:function(){return B},getScheduleController:dn,getRepresentationController:function(){return W},getRepresentationInfo:rn,getBufferLevel:function(){return R?R.getBufferLevel():0},isBufferingCompleted:gn,createBufferSinks:function(et){var Et=Xt();return Et?Promise.resolve(Et):R?R.createBufferSink(L,et):Promise.resolve(null)},updateStreamInfo:function(et){return Te=et,gn()?Promise.resolve():R.updateAppendWindow()},getStreamInfo:function(){return Te},selectMediaInfo:sn,clearMediaInfoArray:function(){M=[]},addMediaInfo:function(et){-1===M.indexOf(et)&&M.push(et)},prepareTrackSwitch:function(){return new Promise(function(et){v.debug("Preparing track switch for type ".concat(q));var Et=q===r.Z.TEXT||K.get().streaming.trackSwitchMode[q]===r.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&ne.getTimeToStreamEnd(Te)>K.get().streaming.buffer.stallThreshold;if(R.getIsBufferingCompleted()&&!Et)return R.prepareForNonReplacementTrackSwitch(L.codec).then(function(){Ee.trigger(i.Z.BUFFERING_COMPLETED,{},{streamId:Te.id,mediaType:q})}).catch(function(){Ee.trigger(i.Z.BUFFERING_COMPLETED,{},{streamId:Te.id,mediaType:q})}),void et();F.clearScheduleTimer(),F.setSwitchTrack(!0),Et?(Ee.trigger(i.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:q,streamId:Te.id},{mediaType:q,streamId:Te.id}),B.abortRequests(),R.prepareForReplacementTrackSwitch(L.codec).then(function(){var Je=rn();return R.updateBufferTimestampOffset(Je)}).then(function(){pt(),et()}).catch(function(){pt(),et()})):R.prepareForNonReplacementTrackSwitch(L.codec).then(function(){jt(),et()}).catch(function(){jt(),et()})})},prepareQualityChange:function(et){Se&&v.warning("Canceling queued representation switch to ".concat(Se.quality," for ").concat(q)),v.debug("Preparing quality switch for type ".concat(q));var Et=et.newQuality;Q=!0,F.clearScheduleTimer(),W.prepareQualityChange(Et);var Ze,Je=rn(Et);et.reason&&et.reason.forceReplace?(Ze=Je,B.abortRequests(),Ee.trigger(i.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:q,streamId:Te.id},{mediaType:q,streamId:Te.id}),R.prepareForForceReplacementQualitySwitch(Ze).then(function(){pt(),Q=!1}).catch(function(){pt(),Q=!1})):K.get().streaming.buffer.fastSwitchEnabled?function(Ze){var ve=ne.getTime(),We=1.5*(isNaN(Ze.fragmentDuration)?1:Ze.fragmentDuration),lt=B.getRequests({state:_.FRAGMENT_MODEL_EXECUTED,time:ve+We,threshold:0})[0];if(lt&&!Me()){var Nt=R.getBufferLevel(),Ft=k.getAbandonmentStateFor(Te.id,q);lt.quality<Ze.quality&&Nt>=We&&Ft!==d.Z.ABANDON_LOAD?R.updateBufferTimestampOffset(Ze).then(function(){B.abortRequests(),Zt(ve+We),F.setCheckPlaybackQuality(!1),F.startScheduleTimer(),Q=!1}).catch(function(){Q=!1}):gt(Ze)}else F.startScheduleTimer(),Q=!1}(Je):gt(Je),Z.pushPlayListTraceMetrics(new Date,Ve.REPRESENTATION_SWITCH_STOP_REASON),Z.createPlaylistTraceMetrics(Je.id,1e3*ne.getTime(),ne.getPlaybackRate())},getMediaInfo:function(){return L},getMediaSource:function(){return R.getMediaSource()},setMediaSource:function(et){return R.setMediaSource(et,L)},getBuffer:Xt,setExplicitBufferingTime:Zt,finalisePlayList:function(et,Et){Z.pushPlayListTraceMetrics(et,Et)},probeNextRequest:function(){var et=rn(),Et=W&&et?W.getRepresentationForQuality(et.quality):null;return U.getNextSegmentRequestIdempotent(L,Et)},prepareInnerPeriodPlaybackSeeking:function(et){return new Promise(function(Et){if(R.hasBufferAtTime(et.seekTime))return R.pruneBuffer(),dt(R.getContinuousBufferTimeForTargetTime(et.seekTime))&&R.setIsBufferingCompleted(!0),void Et();F.clearScheduleTimer(),B.abortRequests(),R.prepareForPlaybackSeek().then(function(){var Je=R.getAllRangesWithSafetyFactor(et.seekTime);return R.clearBuffers(Je)}).then(function(){var Je=R.getContinuousBufferTimeForTargetTime(et.seekTime);if(dt(Je))R.setIsBufferingCompleted(!0),Et();else{var Ze=isNaN(Je)?et.seekTime:Je;Zt(Ze),R.setSeekTarget(Ze);var ve=[];ve.push(R.updateAppendWindow());var We=rn();ve.push(R.updateBufferTimestampOffset(We)),Promise.all(ve).then(function(){F.setInitSegmentRequired(!0),F.setCheckPlaybackQuality(!1),F.startScheduleTimer(),Et()})}}).catch(function(Je){v.error(Je)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(et,Et){try{F.clearScheduleTimer(),B.abortRequests(),R.prepareForPlaybackSeek().then(function(){return R.pruneAllSafely()}).then(function(){et()})}catch(Je){Et(Je)}})},reset:function(et,Et){U&&U.reset(),R&&(R.reset(et,Et),R=null),F&&(F.reset(),F=null),W&&(W.reset(),W=null),$&&($=null),k&&k.unRegisterStreamType(Ue(),q),Ee.off(i.Z.DATA_UPDATE_COMPLETED,He,f),Ee.off(i.Z.INIT_FRAGMENT_NEEDED,it,f),Ee.off(i.Z.MEDIA_FRAGMENT_NEEDED,ot,f),Ee.off(i.Z.INIT_FRAGMENT_LOADED,un,f),Ee.off(i.Z.MEDIA_FRAGMENT_LOADED,mn,f),Ee.off(i.Z.BUFFER_LEVEL_STATE_CHANGED,De,f),Ee.off(i.Z.BUFFER_CLEARED,ze,f),Ee.off(i.Z.SEEK_TARGET,Ht,f),Ee.off(i.Z.FRAGMENT_LOADING_ABANDONED,At,f),Ee.off(i.Z.FRAGMENT_LOADING_COMPLETED,qt,f),Ee.off(i.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,zt,f),Ee.off(i.Z.SET_NON_FRAGMENTED_TEXT,Bt,f),Ee.off(i.Z.QUOTA_EXCEEDED,Kt,f),Ee.off(i.Z.SOURCE_BUFFER_ERROR,Xe,f),Ee.off(i.Z.BYTES_APPENDED_END_FRAGMENT,$e,f),Ye(),q=null,Te=null}},v=(0,y.Z)(de).getInstance().getLogger(f),Ye(),Ee.on(i.Z.DATA_UPDATE_COMPLETED,He,f,{priority:c.Z.EVENT_PRIORITY_HIGH}),Ee.on(i.Z.INIT_FRAGMENT_NEEDED,it,f),Ee.on(i.Z.MEDIA_FRAGMENT_NEEDED,ot,f),Ee.on(i.Z.INIT_FRAGMENT_LOADED,un,f),Ee.on(i.Z.MEDIA_FRAGMENT_LOADED,mn,f),Ee.on(i.Z.BUFFER_LEVEL_STATE_CHANGED,De,f),Ee.on(i.Z.BUFFER_CLEARED,ze,f),Ee.on(i.Z.SEEK_TARGET,Ht,f),Ee.on(i.Z.FRAGMENT_LOADING_ABANDONED,At,f),Ee.on(i.Z.FRAGMENT_LOADING_COMPLETED,qt,f),Ee.on(i.Z.QUOTA_EXCEEDED,Kt,f),Ee.on(i.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,zt,f),Ee.on(i.Z.SET_NON_FRAGMENTED_TEXT,Bt,f),Ee.on(i.Z.SOURCE_BUFFER_ERROR,Xe,f),Ee.on(i.Z.BYTES_APPENDED_END_FRAGMENT,$e,f),f}ft.__dashjs_factory_name="StreamProcessor";const Ct=o.Z.getClassFactory(ft),Lt=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null};var kt=D(9032);function En(h,f){if(h){if("string"==typeof h)return _n(h,f);var v=Object.prototype.toString.call(h).slice(8,-1);return"Object"===v&&h.constructor&&(v=h.constructor.name),"Map"===v||"Set"===v?Array.from(h):"Arguments"===v||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?_n(h,f):void 0}}function _n(h,f){(null==f||f>h.length)&&(f=h.length);for(var v=0,P=new Array(f);v<f;v++)P[v]=h[v];return P}function vn(h){var v,L=(h=h||{}).requestModifier,M=h.lowLatencyThroughputModel,R=h.boxParser,F=(0,ue.Z)(this.context).getInstance();function W(U){var $,X=new Date,Se=U.request,de=new Headers;if(Se.range&&de.append("Range","bytes="+Se.range),U.headers)for(var Ee in U.headers){var Te=U.headers[Ee];Te&&de.append(Ee,Te)}Se.requestStartDate||(Se.requestStartDate=X),L&&L.modifyRequestHeader&&L.modifyRequestHeader({setRequestHeader:function(N,H){de.append(N,H)}},{url:U.url}),"function"==typeof window.AbortController&&($=new AbortController,U.abortController=$,$.signal.onabort=U.onabort);var q={method:U.method,headers:de,credentials:U.withCredentials?"include":void 0,signal:$?$.signal:void 0},ge=F.get().streaming.abr.fetchThroughputCalculationMode,oe=Date.now(),he=0;new Promise(function(N){if(ge===r.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&M&&(he=M.getThroughputCapacityDelayMS(Se,1e3*v.getCurrentBufferLevel(Se.mediaType))))return setTimeout(N,he);N()}).then(function(){var N=Date.now();fetch(U.url,q).then(function(H){U.response||(U.response={}),U.response.status=H.status,U.response.statusText=H.statusText,U.response.responseURL=H.url,H.ok||U.onerror();var Y,B="",k=function(De,ze){var Xe;if(typeof Symbol>"u"||null==De[Symbol.iterator]){if(Array.isArray(De)||(Xe=En(De))){Xe&&(De=Xe);var $e=0,gt=function(){};return{s:gt,n:function(){return $e>=De.length?{done:!0}:{done:!1,value:De[$e++]}},e:function(Bt){throw Bt},f:gt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var At,qt=!0,zt=!1;return{s:function(){Xe=De[Symbol.iterator]()},n:function(){var Bt=Xe.next();return qt=Bt.done,Bt},e:function(Bt){zt=!0,At=Bt},f:function(){try{qt||null==Xe.return||Xe.return()}finally{if(zt)throw At}}}}(H.headers.keys());try{for(k.s();!(Y=k.n()).done;){var ne=Y.value;B+=ne+": "+H.headers.get(ne)+"\r\n"}}catch(De){k.e(De)}finally{k.f()}if(U.response.responseHeaders=B,!H.body)return H.arrayBuffer().then(function(De){U.response.response=De,U.progress({loaded:De.byteLength,total:De.byteLength,stream:!1}),U.onload(),U.onend()});var re,me,Z,Ae=parseInt(H.headers.get("Content-Length"),10),Fe=0,Ue=!1,je=new Uint8Array,Me=0;if(ge===r.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&M){var Ye=N,dt=0,it=function(De){if(Array.isArray(De))return De}(Z=H.body.tee())||function(De,ze){if(typeof Symbol<"u"&&Symbol.iterator in Object(De)){var Xe=[],$e=!0,gt=!1,At=void 0;try{for(var qt,zt=De[Symbol.iterator]();!($e=(qt=zt.next()).done)&&(Xe.push(qt.value),2!==Xe.length);$e=!0);}catch(Bt){gt=!0,At=Bt}finally{try{$e||null==zt.return||zt.return()}finally{if(gt)throw At}}return Xe}}(Z)||En(Z,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),bt=it[1];re=it[0].getReader(),me=[],re.read().then(function De(ze){var Xe=ze.value,$e=ze.done;if(dt=Date.now(),Xe&&Xe.length){var gt=dt-Ye,At=Xe.length;me.push({chunkDownloadTimeRelativeMS:dt-N,chunkDownloadDurationMS:gt,chunkBytes:At,kbps:Math.round(8*At/(gt/1e3)),bufferLevel:v.getCurrentBufferLevel(Se.mediaType)})}if($e){var qt=dt-N,zt=me.reduce(function(Bt,Kt){return Bt+Kt.chunkBytes},0);return M.addMeasurement(Se,qt,me,oe,he,B),void U.progress({loaded:zt,total:zt,lengthComputable:!0,time:M.getEstimatedDownloadDurationMS(Se),stream:!0})}return Ye=Date.now(),re.read().then(De)}),U.reader=bt.getReader()}else U.reader=H.body.getReader();var Pt=[],xe=[],_e=[],He=!0;te(U,function De(ze){var Xe=ze.value;if(ze.done){if(je){if(ge!==r.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var $e=null,gt=null;ge===r.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?($e=function(Bt,Kt){try{var Xt,sn;Xt=Bt.filter(function(jt,Ht){return Ht<Bt.length-1}),sn=Kt.filter(function(jt,Ht){return Ht<Kt.length-1});var dn=[];if(Xt.length>1){for(var rn=0,gn=0,un=0;un<Xt.length;un++)if(Xt[un]&&sn[un]){var mn=sn[un].ts-Xt[un].ts;if(mn>1)dn.push(8*sn[un].bytes/mn),gn=0;else{0===gn&&(gn=Xt[un].ts,rn=0);var pt=sn[un].ts-gn;pt>1?(dn.push(8*(rn+=sn[un].bytes)/pt),gn=0):rn+=sn[un].bytes}}if(dn.length>0)return dn.reduce(function(jt,Ht){return jt+Ht},0)/dn.length}return null}catch{return null}}(xe,_e))&&(gt=8*Fe/$e):ge===r.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(gt=Q(Pt,Fe)),U.progress({loaded:Fe,total:isNaN(Ae)?Fe:Ae,lengthComputable:!0,time:gt,stream:!0})}U.response.response=je.buffer}return U.onload(),void U.onend()}if(Xe&&Xe.length>0){je=function(Bt,Kt){if(0===Bt.length)return Kt;var Xt=new Uint8Array(Bt.length+Kt.length);return Xt.set(Bt),Xt.set(Kt,Bt.length),Xt}(je,Xe),Fe+=Xe.length,Pt.push({ts:Date.now(),bytes:Xe.length}),ge===r.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&He&&R.findLastTopIsoBoxCompleted(["moof"],je,Me).found&&(He=!1,xe.push({ts:performance.now(),bytes:Xe.length}));var At=R.findLastTopIsoBoxCompleted(["moov","mdat"],je,Me);if(At.found){var qt,zt=At.lastCompletedOffset+At.size;ge!==r.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||He||(He=!0,_e.push({ts:performance.now(),bytes:je.length})),zt===je.length?(qt=je,je=new Uint8Array):(qt=new Uint8Array(je.subarray(0,zt)),je=je.subarray(zt)),U.progress({data:qt.buffer,lengthComputable:!1,noTrace:!0}),Me=0}else Me=At.lastCompletedOffset,Ue||(U.progress({lengthComputable:!1,noTrace:!0}),Ue=!0)}te(U,De)})}).catch(function(H){U.onerror&&U.onerror(H)})})}function te(U,$){U.reader.read().then($).catch(function(X){U.onerror&&200===U.response.status&&U.onerror(X)})}function Q(U,$){try{if((U=U.filter(function(de){return de.bytes>$/4/U.length})).length>1){var X=0,Se=(U[U.length-1].ts-U[0].ts)/U.length;return U.forEach(function(de,Ee){var Te=U[Ee+1];if(Te){var q=Te.ts-de.ts;X+=q<Se?q:0}}),X}return null}catch{return null}}return{load:function(U){L&&L.modifyRequest?(0,ye.k)(U,L).then(function(){return W(U)}):W(U)},abort:function(U){if(U.abortController)U.abortController.abort();else if(U.reader)try{U.reader.cancel(),U.onabort()}catch{}},calculateDownloadedTime:Q,setup:function(U){v=U.dashMetrics}}}vn.__dashjs_factory_name="FetchLoader";const Fn=o.Z.getClassFactory(vn);var Ln=D(1180);const Gn=function(){function h(){(function(P,L){if(!(P instanceof L))throw new TypeError("Cannot call a class as a function")})(this,h),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var v;return(v=[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==n.Z.BASE_URL&&this.segmentInfoType!==n.Z.SEGMENT_BASE&&!this.indexRange}}])&&function bn(h,f){for(var v=0;v<f.length;v++){var P=f[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(h,P.key,P)}}(h.prototype,v),h}(),jn=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.period=null,this.index=-1,this.type=null};var An=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};An.DEFAULT_ID="defaultId";const Vn=An,Yn=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};var Wn=D(2610);const Xn=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};var ir=function h(f,v,P,L){(function(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")})(this,h),this.url=f||"",this.serviceLocation=v||f||"",this.dvb_priority=P||1,this.dvb_weight=L||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};ir.DEFAULT_DVB_PRIORITY=1,ir.DEFAULT_DVB_WEIGHT=1;const rr=ir,wr=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},Tt=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},yt=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0},Qe=function(){function h(){(function(P,L){if(!(P instanceof L))throw new TypeError("Cannot call a class as a function")})(this,h),this.schemeIdUri=null,this.value=null,this.id=null}var v;return(v=[{key:"init",value:function(P){return P&&(this.schemeIdUri=P.schemeIdUri?P.schemeIdUri:null,this.value=P.value?P.value:null,this.id=P.id?P.id:null),this}}])&&function vt(h,f){for(var v=0;v<f.length;v++){var P=f[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(h,P.key,P)}}(h.prototype,v),h}();var ct=D(3101),tt=D.n(ct);function st(){return{areEqual:function(h,f){return tt()(h,f)}}}st.__dashjs_factory_name="ObjectUtils";const Rt=o.Z.getSingletonFactory(st);var Dt=D(7803);const Gt=function h(f,v){(function(P,L){if(!(P instanceof L))throw new TypeError("Cannot call a class as a function")})(this,h),this.url=f||"",this.serviceLocation=v||null,this.queryParams={}},Yt=function h(f,v,P){(function(L,M){if(!(L instanceof M))throw new TypeError("Cannot call a class as a function")})(this,h),this.url=f||"",this.serviceLocation=v||null,this.ttl=P||NaN,this.queryParams={}};function Mt(h,f){var v;if(typeof Symbol>"u"||null==h[Symbol.iterator]){if(Array.isArray(h)||(v=mt(h))||f&&h&&"number"==typeof h.length){v&&(h=v);var P=0,L=function(){};return{s:L,n:function(){return P>=h.length?{done:!0}:{done:!1,value:h[P++]}},e:function(W){throw W},f:L}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var M,R=!0,F=!1;return{s:function(){v=h[Symbol.iterator]()},n:function(){var W=v.next();return R=W.done,W},e:function(W){F=!0,M=W},f:function(){try{R||null==v.return||v.return()}finally{if(F)throw M}}}}function mt(h,f){if(h){if("string"==typeof h)return Ut(h,f);var v=Object.prototype.toString.call(h).slice(8,-1);return"Object"===v&&h.constructor&&(v=h.constructor.name),"Map"===v||"Set"===v?Array.from(h):"Arguments"===v||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?Ut(h,f):void 0}}function Ut(h,f){(null==f||f>h.length)&&(f=h.length);for(var v=0,P=new Array(f);v<f;v++)P[v]=h[v];return P}function xt(){var h,f,v,P,L=this.context,M=(0,Le.Z)(L).getInstance(),R=Number.isInteger||function(N){return"number"==typeof N&&isFinite(N)&&Math.floor(N)===N};function F(N,H){if(!N)throw new Error("adaptation is not defined");if(!H)throw new Error("type is not defined");if(N.Representation_asArray&&N.Representation_asArray.length){var Y=Ee(N.Representation_asArray[0]);if(Y&&Y.length>0&&Dt.Y.indexOf(Y[0].schemeIdUri)>=0)return H===r.Z.IMAGE}if(N.ContentComponent_asArray&&N.ContentComponent_asArray.length>0){if(N.ContentComponent_asArray.length>1)return H===r.Z.MUXED;if(N.ContentComponent_asArray[0].contentType===H)return!0}var B=H===r.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(H);if(N.Representation_asArray&&N.Representation_asArray.length&&B.test(N.Representation_asArray[0].codecs))return!0;if(N.hasOwnProperty(n.Z.MIME_TYPE))return B.test(N.mimeType);if(N.Representation_asArray)for(var ne,re=0;re<N.Representation_asArray.length;re++)if((ne=N.Representation_asArray[re]).hasOwnProperty(n.Z.MIME_TYPE))return B.test(ne.mimeType);return!1}function W(N){if(!N)throw new Error("adaptation is not defined");if(N.hasOwnProperty(n.Z.SEGMENT_TEMPLATE)||N.hasOwnProperty(n.Z.SEGMENT_TIMELINE)||N.hasOwnProperty(n.Z.SEGMENT_LIST)||N.hasOwnProperty(n.Z.SEGMENT_BASE))return!0;if(N.Representation_asArray&&N.Representation_asArray.length>0){var H=N.Representation_asArray[0];if(H.hasOwnProperty(n.Z.SEGMENT_TEMPLATE)||H.hasOwnProperty(n.Z.SEGMENT_TIMELINE)||H.hasOwnProperty(n.Z.SEGMENT_LIST)||H.hasOwnProperty(n.Z.SEGMENT_BASE))return!0}return!1}function te(N){return F(N,r.Z.VIDEO)}function Q(N){return F(N,r.Z.TEXT)}function U(N){return F(N,r.Z.IMAGE)}function $(N){return N&&Array.isArray(N.Representation_asArray)&&N.Representation_asArray.sort(function(H,Y){return H.bandwidth-Y.bandwidth}),N}function X(N,H){return N&&N.Period_asArray&&R(H)&&N.Period_asArray[H]?N.Period_asArray[H].AdaptationSet_asArray:[]}function Se(N){return N&&N.Period_asArray?N.Period_asArray:[]}function de(N){var H=!1;return N&&N.hasOwnProperty("type")&&(H=N.type===n.Z.DYNAMIC),H}function Ee(N){return N&&N.EssentialProperty_asArray&&N.EssentialProperty_asArray.length?N.EssentialProperty_asArray.map(function(H){return{schemeIdUri:H.schemeIdUri,value:H.value}}):null}function Te(N){if(!N||!N.S_asArray)return NaN;var H=N.S_asArray[0],Y=N.S_asArray[1];return H.hasOwnProperty("d")?H.d:Y.t-H.t}function q(N,H){if(!N)throw new Error("Period cannot be null or undefined");var Y=Vn.DEFAULT_ID+"_"+H;return N.hasOwnProperty(n.Z.ID)&&N.id.length>0&&"__proto__"!==N.id&&(Y=N.id),Y}function ge(N,H,Y){var B,k=[];if(!N)return k;for(B=0;B<N.length;B++){var ne=new wr;if(ne.timescale=1,ne.representation=H,!N[B].hasOwnProperty(r.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");ne.schemeIdUri=N[B].schemeIdUri,N[B].hasOwnProperty(n.Z.TIMESCALE)&&(ne.timescale=N[B].timescale),N[B].hasOwnProperty(n.Z.VALUE)&&(ne.value=N[B].value),k.push(ne),ne.period=Y}return k}function oe(N){var H=[],B=!1;return(N.BaseURL_asArray||[N.baseUri]).some(function(k){if(k){var ne=new rr,re=k.__text||k;return M.isRelative(re)&&(B=!0,N.baseUri&&(re=M.resolve(re,N.baseUri))),ne.url=re,ne.serviceLocation=k.hasOwnProperty(n.Z.SERVICE_LOCATION)&&k.serviceLocation.length?k.serviceLocation:re,k.hasOwnProperty(n.Z.DVB_PRIORITY)&&(ne.dvb_priority=k[n.Z.DVB_PRIORITY]),k.hasOwnProperty(n.Z.DVB_WEIGHT)&&(ne.dvb_weight=k[n.Z.DVB_WEIGHT]),k.hasOwnProperty(n.Z.AVAILABILITY_TIME_OFFSET)&&(ne.availabilityTimeOffset=k[n.Z.AVAILABILITY_TIME_OFFSET]),k.hasOwnProperty(n.Z.AVAILABILITY_TIME_COMPLETE)&&(ne.availabilityTimeComplete="false"!==k[n.Z.AVAILABILITY_TIME_COMPLETE]),H.push(ne),B}}),H}function he(N){var H=new yt;return H.serverUrl=N.__text,N.hasOwnProperty(n.Z.DEFAULT_SERVICE_LOCATION)&&(H.defaultServiceLocation=N[n.Z.DEFAULT_SERVICE_LOCATION],H.defaultServiceLocationArray=H.defaultServiceLocation.split(" ")),N.hasOwnProperty(n.Z.QUERY_BEFORE_START)&&(H.queryBeforeStart="true"===N[n.Z.QUERY_BEFORE_START].toLowerCase()),N.hasOwnProperty(n.Z.CLIENT_REQUIREMENT)&&(H.clientRequirement="false"!==N[n.Z.CLIENT_REQUIREMENT].toLowerCase()),H}return h={getIsTypeOf:F,getIsText:Q,getIsFragmented:W,getProducerReferenceTimesForAdaptation:function(N){var H=N&&N.hasOwnProperty(n.Z.PRODUCERREFERENCETIME_ASARRAY)?N[n.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(N&&N.hasOwnProperty(n.Z.REPRESENTATION_ASARRAY)?N[n.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(B){var k;B.hasOwnProperty(n.Z.PRODUCERREFERENCETIME_ASARRAY)&&H.push.apply(H,function(ne){if(Array.isArray(ne))return Ut(ne)}(k=B[n.Z.PRODUCERREFERENCETIME_ASARRAY])||function(ne){if(typeof Symbol<"u"&&Symbol.iterator in Object(ne))return Array.from(ne)}(k)||mt(k)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())});var Y=[];return H.forEach(function(B){var k=new Tt;B.hasOwnProperty(n.Z.ID)&&(k[n.Z.ID]=B[n.Z.ID],B.hasOwnProperty(n.Z.WALL_CLOCK_TIME)&&(k[n.Z.WALL_CLOCK_TIME]=B[n.Z.WALL_CLOCK_TIME],B.hasOwnProperty(n.Z.PRESENTATION_TIME)&&(k[n.Z.PRESENTATION_TIME]=B[n.Z.PRESENTATION_TIME],B.hasOwnProperty(n.Z.INBAND)&&(k[n.Z.INBAND]="false"!==B[n.Z.INBAND]),B.hasOwnProperty(n.Z.TYPE)&&(k[n.Z.TYPE]=B[n.Z.TYPE]),Y.push(k))))}),Y},getLanguageForAdaptation:function(N){var H="";return N&&N.hasOwnProperty(n.Z.LANG)&&(H=N.lang),H},getViewpointForAdaptation:function(N){return N&&N.hasOwnProperty(n.Z.VIEWPOINT_ASARRAY)&&N[n.Z.VIEWPOINT_ASARRAY].length?N[n.Z.VIEWPOINT_ASARRAY].map(function(H){return(new Qe).init(H)}):[]},getRolesForAdaptation:function(N){return N&&N.hasOwnProperty(n.Z.ROLE_ASARRAY)&&N[n.Z.ROLE_ASARRAY].length?N[n.Z.ROLE_ASARRAY].map(function(H){return(new Qe).init(H)}):[]},getAccessibilityForAdaptation:function(N){return N&&N.hasOwnProperty(n.Z.ACCESSIBILITY_ASARRAY)&&N[n.Z.ACCESSIBILITY_ASARRAY].length?N[n.Z.ACCESSIBILITY_ASARRAY].map(function(H){return(new Qe).init(H)}):[]},getAudioChannelConfigurationForAdaptation:function(N){return N&&N.hasOwnProperty(n.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&N[n.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?N[n.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(H){return(new Qe).init(H)}):[]},getAudioChannelConfigurationForRepresentation:function(N){return N&&N.hasOwnProperty(n.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&N[n.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?N[n.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(H){return(new Qe).init(H)}):[]},getAdaptationForIndex:function(N,H,Y){var B=X(H,Y);return B.length>0&&R(N)?B[N]:null},getIndexForAdaptation:function(N,H,Y){if(!N)return-1;for(var B=X(H,Y),k=0;k<B.length;k++)if(Rt(L).getInstance().areEqual(B[k],N))return k;return-1},getAdaptationForId:function(N,H,Y){var B,k,ne=X(H,Y);for(B=0,k=ne.length;B<k;B++)if(ne[B].hasOwnProperty(n.Z.ID)&&ne[B].id===N)return ne[B];return null},getAdaptationsForType:function(N,H,Y){var B,k,ne=X(N,H),re=[];for(B=0,k=ne.length;B<k;B++)F(ne[B],Y)&&re.push($(ne[B]));return re},getRealPeriods:Se,getRealPeriodForIndex:function(N,H){var Y=Se(H);return Y.length>0&&R(N)?Y[N]:null},getCodec:function(N,H,Y){var B=null;if(N&&N.Representation_asArray&&N.Representation_asArray.length>0){var k=R(H)&&H>=0&&H<N.Representation_asArray.length?N.Representation_asArray[H]:N.Representation_asArray[0];k&&(B=k.mimeType+';codecs="'+k.codecs+'"',Y&&void 0!==k.width&&(B+=';width="'+k.width+'";height="'+k.height+'"'))}return B&&(B=B.replace(/\sprofiles=[^;]*/g,"")),B},getSelectionPriority:function(N){try{var H=N&&void 0!==N.selectionPriority?parseInt(N.selectionPriority):1;return isNaN(H)?1:H}catch{return 1}},getMimeType:function(N){return N&&N.Representation_asArray&&N.Representation_asArray.length>0?N.Representation_asArray[0].mimeType:null},getKID:function(N){return N&&N.hasOwnProperty(n.Z.CENC_DEFAULT_KID)?N[n.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(N){if(!N||!Array.isArray(N.Label_asArray))return[];for(var H=[],Y=0;Y<N.Label_asArray.length;Y++)H.push({lang:N.Label_asArray[Y].lang,text:N.Label_asArray[Y].__text||N.Label_asArray[Y]});return H},getContentProtectionData:function(N){return N&&N.hasOwnProperty(n.Z.CONTENTPROTECTION_ASARRAY)&&0!==N.ContentProtection_asArray.length?N.ContentProtection_asArray:null},getIsDynamic:de,getId:function(N){return N&&N[n.Z.ID]||null},hasProfile:function(N,H){var Y=!1;return N&&N.profiles&&N.profiles.length>0&&(Y=-1!==N.profiles.indexOf(H)),Y},getDuration:function(N){return N&&N.hasOwnProperty(n.Z.MEDIA_PRESENTATION_DURATION)?N.mediaPresentationDuration:N&&"dynamic"==N.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(N){return N&&N.bandwidth?N.bandwidth:NaN},getManifestUpdatePeriod:function(N){var H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Y=NaN;return N&&N.hasOwnProperty(n.Z.MINIMUM_UPDATE_PERIOD)&&(Y=N.minimumUpdatePeriod),isNaN(Y)?Y:Math.max(Y-H,1)},getPublishTime:function(N){return N&&N.hasOwnProperty(n.Z.PUBLISH_TIME)?new Date(N[n.Z.PUBLISH_TIME]):null},getRepresentationCount:function(N){return N&&Array.isArray(N.Representation_asArray)?N.Representation_asArray.length:0},getBitrateListForAdaptation:function(N){var H=$(N);return(H&&Array.isArray(H.Representation_asArray)?H.Representation_asArray:[]).map(function(Y){return{bandwidth:Y.bandwidth,width:Y.width||0,height:Y.height||0,scanType:Y.scanType||null,id:Y.id||null}})},getRepresentationFor:function(N,H){return H&&H.Representation_asArray&&H.Representation_asArray.length>0&&R(N)?H.Representation_asArray[N]:null},getRepresentationsForAdaptation:function(N){var H,Y,B,k,ne=[],re=function(je){if(je&&je.period&&R(je.period.index)){var Me=je.period.mpd.manifest.Period_asArray[je.period.index];if(Me&&Me.AdaptationSet_asArray&&R(je.index))return $(Me.AdaptationSet_asArray[je.index])}}(N);if(re&&re.Representation_asArray){if(N&&N.period&&R(N.period.index)){var me=oe(N.period.mpd.manifest);me&&(Y=me[0])}for(var Z=0,K=re.Representation_asArray.length;Z<K;++Z){var Ae=re.Representation_asArray[Z],Fe=new Gn;if(Fe.index=Z,Fe.adaptation=N,Ae.hasOwnProperty(n.Z.ID)&&(Fe.id=Ae.id),Ae.hasOwnProperty(n.Z.CODECS)&&(Fe.codecs=Ae.codecs),Ae.hasOwnProperty(n.Z.MIME_TYPE)&&(Fe.mimeType=Ae[n.Z.MIME_TYPE]),Ae.hasOwnProperty(n.Z.CODEC_PRIVATE_DATA)&&(Fe.codecPrivateData=Ae.codecPrivateData),Ae.hasOwnProperty(n.Z.BANDWITH)&&(Fe.bandwidth=Ae.bandwidth),Ae.hasOwnProperty(n.Z.WIDTH)&&(Fe.width=Ae.width),Ae.hasOwnProperty(n.Z.HEIGHT)&&(Fe.height=Ae.height),Ae.hasOwnProperty(n.Z.SCAN_TYPE)&&(Fe.scanType=Ae.scanType),Ae.hasOwnProperty(n.Z.MAX_PLAYOUT_RATE)&&(Fe.maxPlayoutRate=Ae.maxPlayoutRate),Ae.hasOwnProperty(n.Z.SEGMENT_BASE)?(H=Ae.SegmentBase,Fe.segmentInfoType=n.Z.SEGMENT_BASE):Ae.hasOwnProperty(n.Z.SEGMENT_LIST)?Fe.segmentInfoType=(H=Ae.SegmentList).hasOwnProperty(n.Z.SEGMENT_TIMELINE)?n.Z.SEGMENT_TIMELINE:n.Z.SEGMENT_LIST:Ae.hasOwnProperty(n.Z.SEGMENT_TEMPLATE)?(Fe.segmentInfoType=(H=Ae.SegmentTemplate).hasOwnProperty(n.Z.SEGMENT_TIMELINE)?n.Z.SEGMENT_TIMELINE:n.Z.SEGMENT_TEMPLATE,H.hasOwnProperty(n.Z.INITIALIZATION_MINUS)&&(Fe.initialization=H.initialization.split("$Bandwidth$").join(Ae.bandwidth).split("$RepresentationID$").join(Ae.id))):Fe.segmentInfoType=n.Z.BASE_URL,Fe.essentialProperties=Ee(Ae),H){if(H.hasOwnProperty(n.Z.INITIALIZATION)){var Ue=H.Initialization;Ue.hasOwnProperty(n.Z.SOURCE_URL)&&(Fe.initialization=Ue.sourceURL),Ue.hasOwnProperty(n.Z.RANGE)&&(Fe.range=Ue.range)}else Q(re)&&W(re)&&re.mimeType&&-1===re.mimeType.indexOf("application/mp4")&&(Fe.range=0);H.hasOwnProperty(n.Z.TIMESCALE)&&(Fe.timescale=H.timescale),H.hasOwnProperty(n.Z.DURATION)?Fe.segmentDuration=H.duration/Fe.timescale:Ae.hasOwnProperty(n.Z.SEGMENT_TEMPLATE)&&(H=Ae.SegmentTemplate).hasOwnProperty(n.Z.SEGMENT_TIMELINE)&&(Fe.segmentDuration=Te(H.SegmentTimeline)/Fe.timescale),H.hasOwnProperty(n.Z.MEDIA)&&(Fe.media=H.media),H.hasOwnProperty(n.Z.START_NUMBER)&&(Fe.startNumber=H.startNumber),H.hasOwnProperty(n.Z.INDEX_RANGE)&&(Fe.indexRange=H.indexRange),H.hasOwnProperty(n.Z.PRESENTATION_TIME_OFFSET)&&(Fe.presentationTimeOffset=H.presentationTimeOffset/Fe.timescale),H.hasOwnProperty(n.Z.AVAILABILITY_TIME_OFFSET)?Fe.availabilityTimeOffset=H.availabilityTimeOffset:Y&&void 0!==Y.availabilityTimeOffset&&(Fe.availabilityTimeOffset=Y.availabilityTimeOffset),H.hasOwnProperty(n.Z.AVAILABILITY_TIME_COMPLETE)?Fe.availabilityTimeComplete="false"!==H.availabilityTimeComplete:Y&&void 0!==Y.availabilityTimeComplete&&(Fe.availabilityTimeComplete=Y.availabilityTimeComplete)}Fe.MSETimeOffset=(k=(B=Fe).presentationTimeOffset,B.adaptation.period.start-k),Fe.path=[N.period.index,N.index,Z],ne.push(Fe)}}return ne},getAdaptationsForPeriod:function(N){var H,Y,B,k=N&&R(N.index)?N.mpd.manifest.Period_asArray[N.index]:null,ne=[];if(k&&k.AdaptationSet_asArray)for(B=0;B<k.AdaptationSet_asArray.length;B++)Y=k.AdaptationSet_asArray[B],H=new jn,Y.hasOwnProperty(n.Z.ID)&&(H.id=Y.id),H.index=B,H.period=N,F(Y,r.Z.MUXED)?H.type=r.Z.MUXED:F(Y,r.Z.AUDIO)?H.type=r.Z.AUDIO:te(Y)?H.type=r.Z.VIDEO:Q(Y)?H.type=r.Z.TEXT:U(Y)?H.type=r.Z.IMAGE:f.warn("Unknown Adaptation stream type"),ne.push(H);return ne},getRegularPeriods:function(N){var H,Y,B=!!N&&de(N.manifest),k=[],ne=null,re=null,me=null,Z=null;for(Y=0,H=N&&N.manifest&&N.manifest.Period_asArray?N.manifest.Period_asArray.length:0;Y<H;Y++)(re=N.manifest.Period_asArray[Y]).hasOwnProperty(n.Z.START)?(Z=new Vn).start=re.start:null!==ne&&ne.hasOwnProperty(n.Z.DURATION)&&null!==me?(Z=new Vn).start=parseFloat((me.start+me.duration).toFixed(5)):0!==Y||B||((Z=new Vn).start=0),null!==me&&isNaN(me.duration)&&(null!==Z?me.duration=parseFloat((Z.start-me.start).toFixed(5)):f.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==Z&&(Z.id=q(re,Y),Z.index=Y,Z.mpd=N,re.hasOwnProperty(n.Z.DURATION)&&(Z.duration=re.duration),me&&(me.nextPeriodId=Z.id),k.push(Z),ne=re,me=Z),re=null,Z=null;return 0===k.length||null!==me&&isNaN(me.duration)&&(me.duration=parseFloat((function(K){!function(){if(!v||!v.hasOwnProperty("error"))throw new Error(r.Z.MISSING_CONFIG_ERROR)}();var Ae,Fe=de(K.mpd.manifest);return K.mpd.manifest.mediaPresentationDuration?Ae=K.mpd.manifest.mediaPresentationDuration:K.duration?Ae=K.duration:Fe?Ae=Number.POSITIVE_INFINITY:v.error(new O.Z(g.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",K)),Ae}(me)-me.start).toFixed(5))),k},getMpd:function(N){var H=new Yn;return N&&(H.manifest=N,N.hasOwnProperty(n.Z.AVAILABILITY_START_TIME)?H.availabilityStartTime=new Date(N.availabilityStartTime.getTime()):N.loadedTime&&(H.availabilityStartTime=new Date(N.loadedTime.getTime())),N.hasOwnProperty(n.Z.AVAILABILITY_END_TIME)&&(H.availabilityEndTime=new Date(N.availabilityEndTime.getTime())),N.hasOwnProperty(n.Z.MINIMUM_UPDATE_PERIOD)&&(H.minimumUpdatePeriod=N.minimumUpdatePeriod),N.hasOwnProperty(n.Z.MEDIA_PRESENTATION_DURATION)&&(H.mediaPresentationDuration=N.mediaPresentationDuration),N.hasOwnProperty(n.Z.SUGGESTED_PRESENTATION_DELAY)&&(H.suggestedPresentationDelay=N.suggestedPresentationDelay),N.hasOwnProperty(n.Z.TIMESHIFT_BUFFER_DEPTH)&&(H.timeShiftBufferDepth=N.timeShiftBufferDepth),N.hasOwnProperty(n.Z.MAX_SEGMENT_DURATION)&&(H.maxSegmentDuration=N.maxSegmentDuration),N.hasOwnProperty(n.Z.PUBLISH_TIME)&&(H.publishTime=new Date(N.publishTime))),H},getEventsForPeriod:function(N){var H,Y,B=N&&N.mpd&&N.mpd.manifest?N.mpd.manifest:null,k=B?B.Period_asArray:null,ne=k&&N&&R(N.index)?k[N.index].EventStream_asArray:null,re=[];if(ne)for(H=0;H<ne.length;H++){var me=new wr;if(me.period=N,me.timescale=1,!ne[H].hasOwnProperty(r.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(me.schemeIdUri=ne[H][r.Z.SCHEME_ID_URI],ne[H].hasOwnProperty(n.Z.TIMESCALE)&&(me.timescale=ne[H][n.Z.TIMESCALE]),ne[H].hasOwnProperty(n.Z.VALUE)&&(me.value=ne[H][n.Z.VALUE]),ne[H].hasOwnProperty(n.Z.PRESENTATION_TIME_OFFSET)&&(me.presentationTimeOffset=ne[H][n.Z.PRESENTATION_TIME_OFFSET]),Y=0;ne[H].Event_asArray&&Y<ne[H].Event_asArray.length;Y++){var Z=ne[H].Event_asArray[Y],K=new Xn;K.presentationTime=0,K.eventStream=me,Z.hasOwnProperty(n.Z.PRESENTATION_TIME)&&(K.presentationTime=Z.presentationTime),K.calculatedPresentationTime=K.presentationTime/me.timescale+N.start-(me.presentationTimeOffset?me.presentationTimeOffset/me.timescale:0),Z.hasOwnProperty(n.Z.DURATION)&&(K.duration=Z.duration/me.timescale),K.id=Z.hasOwnProperty(n.Z.ID)?Z.id:null,K.messageData=Z.Signal&&Z.Signal.Binary?P.decodeArray(Z.Signal.Binary.toString()):Z.messageData||Z.__cdata||Z.__text,re.push(K)}}return re},getEssentialPropertiesForRepresentation:Ee,getEventStreamForAdaptationSet:function(N,H,Y){var B,k,ne;return N&&N.Period_asArray&&H&&H.period&&R(H.period.index)&&(k=N.Period_asArray[H.period.index])&&k.AdaptationSet_asArray&&R(H.index)&&(ne=k.AdaptationSet_asArray[H.index])&&(B=ne.InbandEventStream_asArray),ge(B,null,Y)},getEventStreamForRepresentation:function(N,H,Y){var B,k,ne,re;return N&&N.Period_asArray&&H&&H.adaptation&&H.adaptation.period&&R(H.adaptation.period.index)&&(k=N.Period_asArray[H.adaptation.period.index])&&k.AdaptationSet_asArray&&R(H.adaptation.index)&&(ne=k.AdaptationSet_asArray[H.adaptation.index])&&ne.Representation_asArray&&R(H.index)&&(re=ne.Representation_asArray[H.index])&&(B=re.InbandEventStream_asArray),ge(B,H,Y)},getUTCTimingSources:function(N){var H=de(N),Y=!!N&&N.hasOwnProperty(n.Z.AVAILABILITY_START_TIME),B=N?N.UTCTiming_asArray:null,k=[];return(H||Y)&&B&&B.forEach(function(ne){var re=new Wn.Z;ne.hasOwnProperty(r.Z.SCHEME_ID_URI)&&(re.schemeIdUri=ne.schemeIdUri,ne.hasOwnProperty(n.Z.VALUE)&&(re.value=ne.value.toString(),k.push(re)))}),k},getBaseURLsFromElement:oe,getRepresentationSortFunction:function(){return function(N,H){return N.bandwidth-H.bandwidth}},getContentSteering:function(N){if(N&&N.hasOwnProperty(n.Z.CONTENT_STEERING_AS_ARRAY))return he(N[n.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(N){return N&&N.hasOwnProperty(n.Z.LOCATION_AS_ARRAY)?N[n.Z.LOCATION_AS_ARRAY].map(function(H){var Y=H.__text||H,B=H.hasOwnProperty(n.Z.SERVICE_LOCATION)?H[n.Z.SERVICE_LOCATION]:null;return new Gt(Y,B)}):[]},getPatchLocation:function(N){return N&&N.hasOwnProperty(n.Z.PATCH_LOCATION_AS_ARRAY)?N[n.Z.PATCH_LOCATION_AS_ARRAY].map(function(H){var Y=H.__text||H,B=H.hasOwnProperty(n.Z.SERVICE_LOCATION)?H[n.Z.SERVICE_LOCATION]:null,k=H.hasOwnProperty(n.Z.TTL)?1e3*parseFloat(H[n.Z.TTL]):NaN;return new Yt(Y,B,k)}):[]},getSuggestedPresentationDelay:function(N){return N&&N.hasOwnProperty(n.Z.SUGGESTED_PRESENTATION_DELAY)?N.suggestedPresentationDelay:null},getAvailabilityStartTime:function(N){return N&&N.hasOwnProperty(n.Z.AVAILABILITY_START_TIME)&&null!==N.availabilityStartTime?N.availabilityStartTime.getTime():null},getServiceDescriptions:function(N){var H=[];if(N&&N.hasOwnProperty(n.Z.SERVICE_DESCRIPTION)){var Y,B=Mt(N.ServiceDescription_asArray);try{for(B.s();!(Y=B.n()).done;){var k=Y.value,ne=null,re=null,me=null,Z=null,K=null,Ae=null,Fe=null;for(var Ue in k)k.hasOwnProperty(Ue)&&(Ue===n.Z.ID?ne=k[Ue]:Ue===n.Z.SERVICE_DESCRIPTION_SCOPE?re=k[Ue].schemeIdUri:Ue===n.Z.SERVICE_DESCRIPTION_LATENCY?me={target:parseInt(k[Ue].target),max:parseInt(k[Ue].max),min:parseInt(k[Ue].min),referenceId:parseInt(k[Ue].referenceId)}:Ue===n.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?Z={max:parseFloat(k[Ue].max),min:parseFloat(k[Ue].min)}:Ue===n.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?K={mediaType:k[Ue].mediaType,max:parseInt(k[Ue].max),min:parseInt(k[Ue].min),target:parseInt(k[Ue].target),type:k[Ue].type,maxQualityDifference:parseInt(k[Ue].maxQualityDifference)}:Ue===n.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?Ae={mediaType:k[Ue].mediaType,max:parseInt(k[Ue].max),min:parseInt(k[Ue].min),target:parseInt(k[Ue].target)}:Ue===n.Z.CONTENT_STEERING&&(Fe=he(k[Ue])));H.push({id:ne,schemeIdUri:re,latency:me,playbackRate:Z,operatingQuality:K,operatingBandwidth:Ae,contentSteering:Fe})}}catch(je){B.e(je)}finally{B.f()}}return H},getSegmentAlignment:function(N){return!(!N||!N.hasOwnProperty(n.Z.SEGMENT_ALIGNMENT))&&"true"===N[n.Z.SEGMENT_ALIGNMENT]},getSubSegmentAlignment:function(N){return!(!N||!N.hasOwnProperty(n.Z.SUB_SEGMENT_ALIGNMENT))&&"true"===N[n.Z.SUB_SEGMENT_ALIGNMENT]},getSupplementalPropertiesForAdaptation:function(N){var H={};if(N&&N.hasOwnProperty(n.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var Y,B=Mt(N.SupplementalProperty_asArray);try{for(B.s();!(Y=B.n()).done;){var k=Y.value;k.hasOwnProperty(r.Z.SCHEME_ID_URI)&&k.hasOwnProperty(n.Z.VALUE)&&(H[k[r.Z.SCHEME_ID_URI]]=k[n.Z.VALUE])}}catch(ne){B.e(ne)}finally{B.f()}}return H},getSupplementalPropertiesAsArrayForAdaptation:function(N){return N&&N.hasOwnProperty(n.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&N.SupplementalProperty_asArray.length?N.SupplementalProperty_asArray.map(function(H){return(new Qe).init(H)}):[]},getSupplementalPropertiesForRepresentation:function(N){var H={};if(N&&N.hasOwnProperty(n.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var Y,B=Mt(N.SupplementalProperty_asArray);try{for(B.s();!(Y=B.n()).done;){var k=Y.value;k.hasOwnProperty(r.Z.SCHEME_ID_URI)&&k.hasOwnProperty(n.Z.VALUE)&&(H[k[r.Z.SCHEME_ID_URI]]=k[n.Z.VALUE])}}catch(ne){B.e(ne)}finally{B.f()}}return H},getSupplementalPropertiesAsArrayForRepresentation:function(N){return N&&N.hasOwnProperty(n.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&N.SupplementalProperty_asArray.length?N.SupplementalProperty_asArray.map(function(H){return(new Qe).init(H)}):[]},setConfig:function(N){N&&(N.errHandler&&(v=N.errHandler),N.BASE64&&(P=N.BASE64))}},f=(0,y.Z)(L).getInstance().getLogger(h),h}xt.__dashjs_factory_name="DashManifestModel";const en=o.Z.getSingletonFactory(xt);var cn=D(703);function Sn(h,f){var v;if(typeof Symbol>"u"||null==h[Symbol.iterator]){if(Array.isArray(h)||(v=function(W,te){if(W){if("string"==typeof W)return Jt(W,void 0);var Q=Object.prototype.toString.call(W).slice(8,-1);return"Object"===Q&&W.constructor&&(Q=W.constructor.name),"Map"===Q||"Set"===Q?Array.from(W):"Arguments"===Q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?Jt(W,void 0):void 0}}(h))||f&&h&&"number"==typeof h.length){v&&(h=v);var P=0,L=function(){};return{s:L,n:function(){return P>=h.length?{done:!0}:{done:!1,value:h[P++]}},e:function(W){throw W},f:L}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var M,R=!0,F=!1;return{s:function(){v=h[Symbol.iterator]()},n:function(){var W=v.next();return R=W.done,W},e:function(W){F=!0,M=W},f:function(){try{R||null==v.return||v.return()}finally{if(F)throw M}}}}function Jt(h,f){(null==f||f>h.length)&&(f=h.length);for(var v=0,P=new Array(f);v<f;v++)P[v]=h[v];return P}function _t(){var h,f,v,P,L,M,R,F,W,te,Q=this.context,U=(0,c.Z)(Q).getInstance(),$=(0,ue.Z)(Q).getInstance();function X(){v={pr:1,nor:null,st:null,sf:null,sid:"".concat(cn.Z.generateUuid()),cid:null},W={},F={},te={},de()}function Se(){de()}function de(){if(M){var k=M.getStreamController();if(k&&"function"==typeof k.getActiveStream){var ne=k.getActiveStream();ne&&(R=ne.getProcessors())}}}function Ee(k,ne){var re,me={},Z=Sn(ne);try{for(Z.s();!(re=Z.n()).done;){var K=re.value;k[K]&&(me[K]=k[K])}}catch(Ae){Z.e(Ae)}finally{Z.f()}return me}function Te(k){var ne=$.get().streaming.cmcd.enabledKeys;return k.filter(function(re){return ne.includes(re)})}function q(k){try{return k.type===w.w.MPD_TYPE?((re=ge()).ot="m",re):k.type===w.w.MEDIA_SEGMENT_TYPE?(te.hasOwnProperty(ne=k.mediaType)||(te[ne]=!1),F.hasOwnProperty(ne)||(F[ne]=!1),W.hasOwnProperty(ne)||(W[ne]=!1),function(me){var Z,K=ge(),Ae=function(bt){try{return parseInt(bt.mediaInfo.bitrateList[bt.quality].bandwidth/1e3)}catch{return null}}(me),Fe=function(bt){try{return isNaN(bt.duration)?NaN:Math.round(1e3*bt.duration)}catch{return null}}(me),Ue=function(bt){try{return 100*parseInt(P.getThroughputHistory().getSafeAverageThroughput(bt)/100)}catch{return null}}(me.mediaType),je=function(bt){try{var Pt=v.pr,xe=L.getCurrentBufferLevel(bt);return isNaN(Pt)||isNaN(xe)?null:100*parseInt(xe/Pt*10)}catch{return null}}(me.mediaType),Me=oe(me.mediaType),Ye=function(bt){try{var Pt=P.getTopBitrateInfoFor(bt);return Math.round(Pt.bitrate/1e3)}catch{return null}}(me.mediaType),dt=v.pr,it=function(bt){if(R&&0!==R.length){var Pt,xe=Sn(R);try{for(xe.s();!(Pt=xe.n()).done;){var _e=Pt.value;if(_e.getType()===bt)return _e.probeNextRequest()}}catch(He){xe.e(He)}finally{xe.f()}}}(me.mediaType);me.mediaType===r.Z.VIDEO&&(Z="v"),me.mediaType===r.Z.AUDIO&&(Z="a"),me.mediaType===r.Z.TEXT&&(Z="application/mp4"===me.mediaInfo.mimeType?"tt":"c");var ot=$.get().streaming.cmcd.rtp;return ot||(ot=function(bt){try{var Pt=M.getPlaybackRate();Pt||(Pt=1);var xe=bt.quality,He=bt.mediaInfo,De=bt.duration;if(!He)return NaN;var ze=oe(bt.mediaType);0===ze&&(ze=500);var Xe=He.bitrateList[xe].bandwidth*De/1e3/(ze/Pt/1e3),$e=$.get().streaming.cmcd.rtpSafetyFactor&&!isNaN($.get().streaming.cmcd.rtpSafetyFactor)?$.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(Xe*$e/100)+1)}catch{return NaN}}(me)),isNaN(ot)||(K.rtp=ot),it&&(me.url!==it.url?K.nor=encodeURIComponent(cn.Z.getRelativeUrl(me.url,it.url)):it.range&&(K.nrr=it.range)),Ae&&(K.br=Ae),Z&&(K.ot=Z),isNaN(Fe)||(K.d=Fe),isNaN(Ue)||(K.mtp=Ue),isNaN(je)||(K.dl=je),isNaN(Me)||(K.bl=Me),isNaN(Ye)||(K.tb=Ye),isNaN(dt)||1===dt||(K.pr=dt),W[me.mediaType]&&(K.bs=!0,W[me.mediaType]=!1),!F[me.mediaType]&&te[me.mediaType]||(K.su=!0,F[me.mediaType]=!1,te[me.mediaType]=!0),K}(k)):k.type===w.w.INIT_SEGMENT_TYPE?((me=ge()).ot="i",me.su=!0,me):k.type===w.w.OTHER_TYPE||k.type===w.w.XLINK_EXPANSION_TYPE?function(){var me=ge();return me.ot="o",me}():k.type===w.w.LICENSE?((Z=ge()).ot="k",Z):null}catch{return null}var Z,me,ne,re}function ge(){var k={},ne=$.get().streaming.cmcd.cid?$.get().streaming.cmcd.cid:v.cid;return k.v=1,k.sid=$.get().streaming.cmcd.sid?$.get().streaming.cmcd.sid:v.sid,k.sid="".concat(k.sid),ne&&(k.cid="".concat(ne)),isNaN(v.pr)||1===v.pr||null===v.pr||(k.pr=v.pr),v.st&&(k.st=v.st),v.sf&&(k.sf=v.sf),k}function oe(k){try{var ne=L.getCurrentBufferLevel(k);return isNaN(ne)?null:100*parseInt(10*ne)}catch{return null}}function he(k){try{v.pr=k.playbackRate}catch{}}function N(k){try{var ne=h.getIsDynamic(k.data)?"l":"v",re=k.protocol&&"MSS"===k.protocol?"s":"d";v.st="".concat(ne),v.sf="".concat(re)}catch{}}function H(k){try{k.state&&k.mediaType&&k.state===e.Z.BUFFER_EMPTY&&(W[k.mediaType]||(W[k.mediaType]=!0),F[k.mediaType]||(F[k.mediaType]=!0))}catch{}}function Y(){for(var k in W)W.hasOwnProperty(k)&&(W[k]=!0);for(var ne in F)F.hasOwnProperty(ne)&&(F[ne]=!0)}function B(k){try{if(!k)return null;var ne=Object.keys(k).sort(function(Z,K){return Z.localeCompare(K)}),re=ne.length,me=ne.reduce(function(Z,K,Ae){return"v"===K&&1===k[K]||(Z+="string"==typeof k[K]&&"ot"!==K&&"sf"!==K&&"st"!==K?"".concat(K,"=").concat(JSON.stringify(k[K])):"".concat(K,"=").concat(k[K]),Ae<re-1&&(Z+=",")),Z},"");return(me=me.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return f={getQueryParameter:function(k){try{if($.get().streaming.cmcd&&$.get().streaming.cmcd.enabled){var ne=q(k),me=B(function(Z){try{var K=$.get().streaming.cmcd.enabledKeys;return Object.keys(Z).filter(function(Ae){return K.includes(Ae)}).reduce(function(Ae,Fe){return Ae[Fe]=Z[Fe],Ae},{})}catch{return Z}}(ne));return U.trigger(Ln.Z.CMCD_DATA_GENERATED,{url:k.url,mediaType:k.mediaType,cmcdData:ne,cmcdString:me}),{key:"CMCD",value:me}}return null}catch{return null}},getHeaderParameters:function(k){try{if($.get().streaming.cmcd&&$.get().streaming.cmcd.enabled){var ne=q(k),re=Ee(ne,Te(["br","d","ot","tb"])),me=Ee(ne,Te(["bl","dl","mtp","nor","nrr","su"])),Z=Ee(ne,Te(["bs","rtp"])),K=Ee(ne,Te(["cid","pr","sf","sid","st","v"])),Ae={"CMCD-Object":B(re),"CMCD-Request":B(me),"CMCD-Status":B(Z),"CMCD-Session":B(K)};return U.trigger(Ln.Z.CMCD_DATA_GENERATED,{url:k.url,mediaType:k.mediaType,cmcdData:ne,headers:Ae}),Ae}return null}catch{return null}},setConfig:function(k){k&&(k.abrController&&(P=k.abrController),k.dashMetrics&&(L=k.dashMetrics),k.playbackController&&(M=k.playbackController))},reset:function(){U.off(e.Z.PLAYBACK_RATE_CHANGED,he,this),U.off(e.Z.MANIFEST_LOADED,N,this),U.off(e.Z.BUFFER_LEVEL_STATE_CHANGED,H,f),U.off(e.Z.PLAYBACK_SEEKED,Y,f),X()},initialize:function(){U.on(e.Z.PLAYBACK_RATE_CHANGED,he,f),U.on(e.Z.MANIFEST_LOADED,N,f),U.on(e.Z.BUFFER_LEVEL_STATE_CHANGED,H,f),U.on(e.Z.PLAYBACK_SEEKED,Y,f),U.on(e.Z.PERIOD_SWITCH_COMPLETED,Se,f)}},h=en(Q).getInstance(),X(),f}_t.__dashjs_factory_name="CmcdModel";const St=o.Z.getSingletonFactory(_t);function Ot(h){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function $t(h,f){$t=function(F,W){return new M(F,void 0,W)};var v=yn(RegExp),P=RegExp.prototype,L=new WeakMap;function M(F,W,te){var Q=v.call(this,F,W);return L.set(Q,te||L.get(F)),Q}function R(F,W){var te=L.get(W);return Object.keys(te).reduce(function(Q,U){return Q[U]=F[te[U]],Q},Object.create(null))}return function nn(h,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),f&&qn(h,f)}(M,v),M.prototype.exec=function(F){var W=P.exec.call(this,F);return W&&(W.groups=R(W,this)),W},M.prototype[Symbol.replace]=function(F,W){if("string"==typeof W){var te=L.get(this);return P[Symbol.replace].call(this,F,W.replace(/\$<([^>]+)>/g,function(U,$){return"$"+te[$]}))}if("function"==typeof W){var Q=this;return P[Symbol.replace].call(this,F,function(){var U=[];return U.push.apply(U,arguments),"object"!==Ot(U[U.length-1])&&U.push(R(U,Q)),W.apply(this,U)})}return P[Symbol.replace].call(this,F,W)},$t.apply(this,arguments)}function yn(h){var f="function"==typeof Map?new Map:void 0;return yn=function(v){if(null===v||-1===Function.toString.call(v).indexOf("[native code]"))return v;if("function"!=typeof v)throw new TypeError("Super expression must either be null or a function");if(void 0!==f){if(f.has(v))return f.get(v);f.set(v,L)}function L(){return Tn(v,arguments,Dn(this).constructor)}return L.prototype=Object.create(v.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),qn(L,v)},yn(h)}function Tn(h,f,v){return(Tn=function zn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(P,L,M){var R=[null];R.push.apply(R,L);var F=new(Function.bind.apply(P,R));return M&&qn(F,M.prototype),F}).apply(null,arguments)}function qn(h,f){return(qn=Object.setPrototypeOf||function(v,P){return v.__proto__=P,v})(h,f)}function Dn(h){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}var kn="dynamic",vr="cmsd-"+kn,sr="stream",tr=["mb","st","sf","v"],Qr={video:"v",audio:"a",text:"tt",stream:sr},Jr=/^[-0-9]/;function kr(){var h,f,v,P,L=this.context,M=(0,c.Z)(L).getInstance();function R(){v={},P={}}function F(X){X&&Object.keys(X).forEach(function(Se){tr.includes(Se)||delete X[Se]})}function W(X){return!X||"false"!==X.toLowerCase()&&(Jr.test(X)?parseInt(X,10):X.replace(/["]+/g,""))}function te(X){try{for(var Se={},de=X.split(","),Ee=0;Ee<de.length;Ee++){var Te=de[Ee].split("="),q=Te[0],ge=W(Te[1]);Se[q]=ge}return Se}catch(oe){f.error("Failed to parse CMSD-Static response header value:",oe)}}function Q(X){try{for(var Se={},de=X.split(","),Ee=de[de.length-1].split(";"),Te=1;Te<Ee.length;Te++){var q=Ee[Te].split("="),ge=q[0],oe=W(q[1]);Se[ge]=oe}return Se}catch(he){return f.error("Failed to parse CMSD-Dynamic response header value:",he),[]}}function U(X){return Qr[X]||"o"}function $(X,Se,de){var Ee="static"===X?v:P;return(Ee[Se]||{})[de]||(Ee[sr]||{})[de]}return h={setConfig:function(){},initialize:function(){},reset:function(){R()},parseResponseHeaders:function(X,Se){for(var de=null,Ee=null,Te=X.split("\r\n"),q=Te.length-1;q>=0;q--){var ge=Te[q].match($t(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(ge&&ge.groups){var oe=ge.groups.key.toLowerCase(),he=ge.groups.value;switch(oe){case"cmsd-static":de=te(he),M.trigger(i.Z.CMSD_STATIC_HEADER,de);break;case vr:Ee||(Ee=Q(he))}}}var N=sr;return de&&de.ot?N=de.ot:Se&&(N=U(Se)),F(v[N]),F(P[N]),de&&(v[N]=Object.assign(v[N]||{},de)),Ee&&(P[N]=Object.assign(P[N]||{},Ee)),{static:de,dynamic:Ee}},getMaxBitrate:function(X){var Se=U(X);return $(kn,Se,"mb")||-1},getEstimatedThroughput:function(X){var Se=U(X);return $(kn,Se,"etp")||null},getResponseDelay:function(X){var Se=U(X);return $(kn,Se,"rd")||null},getRoundTripTime:function(X){var Se=U(X);return $(kn,Se,"rtt")||null}},f=(0,y.Z)(L).getInstance().getLogger(h),R(),h}kr.__dashjs_factory_name="CmsdModel";const Ur=o.Z.getSingletonFactory(kr);function Br(){var h,f,v=this.context,P={};function L(){f=(0,y.Z)(v).getInstance().getLogger(h)}function M(F){for(var W={},te=0,Q=0,U=0,$=0,X=F.length,Se=0;Se<X;++Se)te+=F[Se].chunkDownloadTimeRelativeMS,Q+=F[Se].bufferLevel,U+=F[Se].chunkDownloadTimeRelativeMS*F[Se].bufferLevel,$+=F[Se].chunkDownloadTimeRelativeMS*F[Se].chunkDownloadTimeRelativeMS;return W.m=(U-te*Q/X)/($-te*te/X),W.b=Q/X-W.m*te/X,function(de){return W.m*de+W.b}}function R(F){var W,te=!0,Q=F.reduce(function(U,$){return U+$.bufferLevelAtSegmentEnd},0)/F.length;return F.forEach(function(U){Math.abs(U.bufferLevelAtSegmentEnd/U.bufferLevelAtSegmentStart)<.95&&(te=!1),U.bufferLevelAtSegmentEnd/Q<.8&&(te=!1),W?W>U.bitrate&&(te=!1):W=U.bitrate}),te}return h={setup:L,addMeasurement:function(F,W,te,Q,U){F&&F.mediaType&&!P[F.mediaType]&&(P[F.mediaType]=[]);var $=F.mediaInfo.bitrateList.find(function(X){return X.id===F.representationId});P[F.mediaType].push({index:F.index,repId:F.representationId,mediaType:F.mediaType,requestTimeMS:Q,adjustedAvailabilityStartTimeMS:F.availabilityStartTime.getTime(),segDurationMS:1e3*F.duration,chunksDurationMS:te.reduce(function(X,Se){return X+Se.chunkDownloadDurationMS},0),segmentBytes:te.reduce(function(X,Se){return X+Se.chunkBytes},0),bitrate:$&&$.bandwidth,bitrateList:F.mediaInfo.bitrateList,chunkMeasurements:te,fetchDownloadDurationMS:W,throughputCapacityDelayMS:U,getEstimatedBufferLevel:M(te.slice(1))}),P[F.mediaType].length>10&&P[F.mediaType].shift()},getThroughputCapacityDelayMS:function(F,W){var te=P[F.mediaType]&&P[F.mediaType].slice(-3);return!te||te.length<3?0:R(te)?W/4>250?250:W/4:0},getEstimatedDownloadDurationMS:function(F){var W=P[F.mediaType].slice(-1).pop(),te=P[F.mediaType].slice(-3),Q=W.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;W.bufferLevelAtSegmentStart=W.getEstimatedBufferLevel(Q/2),W.bufferLevelAtSegmentEnd=W.getEstimatedBufferLevel(Q);var U=R(te),$=U?.6:.8;if(W.isBufferStable&&1.05*W.segDurationMS<W.fetchDownloadDurationMS)return W.fetchDownloadDurationMS;if(!U||W.segDurationMS<W.fetchDownloadDurationMS||W.adjustedAvailabilityStartTimeMS<=W.requestTimeMS+W.throughputCapacityDelayMS-W.segDurationMS)return.8*W.fetchDownloadDurationMS;for(var X=W.requestTimeMS+W.throughputCapacityDelayMS-W.adjustedAvailabilityStartTimeMS,Se=0,de=0,Ee=0,Te=0;Te<W.chunkMeasurements.length;Te++){var q=W.chunkMeasurements[Te];if(X<de+q.chunkDownloadDurationMS)break;de+=q.chunkDownloadDurationMS,Se+=q.chunkBytes,Ee++}if(X<0&&f.warn("request time was before adjusted availibitly start time"),Se&&de&&Ee>.2*W.chunkMeasurements.length){var oe=W.segmentBytes/(Se/de);return W.fetchDownloadDurationMS<oe?W.fetchDownloadDurationMS*$:oe*$}var he=W.bitrate;return W.bitrateList.some(function(N){if(N.bandwidth>W.bitrate)return he=N.bandwidth,!0}),he===W.bitrate?W.fetchDownloadDurationMS*$:$*W.segmentBytes*8*1e3/he}},L(),h}Br.__dashjs_factory_name="LowLatencyThroughputModel";const Zr=o.Z.getSingletonFactory(Br);var wt=D(5717);function Qt(h,f,v){return f in h?Object.defineProperty(h,f,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[f]=v,h}function fn(h){var f,v,P,L,M,R,F,W,te,Q,U,$=this.context,X=(h=h||{}).errHandler,Se=h.dashMetrics,de=h.mediaPlayerModel,Ee=h.requestModifier,Te=h.boxParser,q=h.errors,ge=h.requestTimeout||0,oe=(0,c.Z)($).getInstance(),he=(0,ue.Z)($).getInstance();function N(H,Y){var B,k=H.request,ne=[],re=!0,me=!0,Z=new Date,K=Z,Ae=0,Fe=null,Ue=null;if(!Ee||!Se||!X)throw new Error("config object is not correct or missing");var je,Me=function(ze){k.requestStartDate=Z,k.requestEndDate=new Date,k.firstByteDate=k.firstByteDate||Z,k.fileLoaderType=Ue;var Xe=B.response?B.response.responseURL:null,$e=B.response?B.response.status:null,gt=B.response&&B.response.getAllResponseHeaders?B.response.getAllResponseHeaders():B.response?B.response.responseHeaders:null,At=gt&&he.get().streaming.cmsd&&he.get().streaming.cmsd.enabled?F.parseResponseHeaders(gt,k.mediaType):null;Se.addHttpRequest(k,Xe,$e,gt,ze?ne:null,At)},Ye=function(ze){me=!1,Me(ze),k.type===w.w.MPD_TYPE&&(Se.addManifestUpdate(k),oe.trigger(i.Z.MANIFEST_LOADING_FINISHED,{request:k}))},dt=function(){if(Fe&&(clearTimeout(Fe),Fe=null),-1!==v.indexOf(B)&&(v.splice(v.indexOf(B),1),me))if(Ye(!1),Y>0){try{he.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&k.type===w.w.MEDIA_SEGMENT_TYPE&&de.getRetryAttemptsForType(w.w.MEDIA_SEGMENT_TYPE)===Y&&oe.trigger(i.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}Y--;var ze={config:H};L.push(ze),ze.timeout=setTimeout(function(){-1!==L.indexOf(ze)&&(L.splice(L.indexOf(ze),1),N(H,Y))},de.getRetryIntervalsForType(k.type))}else{if(k.type===w.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;X.error(new O.Z(M[k.type],k.url+" is not available",{request:k,response:B.response})),H.error&&H.error(k,"error",B.response.statusText,B.response),H.complete&&H.complete(k,B.response.statusText)}};k.hasOwnProperty("availabilityTimeComplete")&&!1===k.availabilityTimeComplete&&window.fetch&&"arraybuffer"===k.responseType&&k.type===w.w.MEDIA_SEGMENT_TYPE?((je=Fn($).create({requestModifier:Ee,lowLatencyThroughputModel:te,boxParser:Te})).setup({dashMetrics:Se}),Ue=r.Z.FILE_LOADER_TYPES.FETCH):(je=(0,kt.Z)($).create({requestModifier:Ee}),Ue=r.Z.FILE_LOADER_TYPES.XHR);var it=null,ot=Ee.modifyRequestURL?Ee.modifyRequestURL(k.url):k.url;if(he.get().streaming.cmcd&&he.get().streaming.cmcd.enabled){var bt=he.get().streaming.cmcd.mode;if(bt===r.Z.CMCD_MODE_QUERY){var Pt=function(ze){try{var Xe=[],$e=R.getQueryParameter(ze);return $e&&Xe.push($e),Xe}catch{return[]}}(k);ot=cn.Z.addAditionalQueryParameterToUrl(ot,Pt)}else bt===r.Z.CMCD_MODE_HEADER&&(it=R.getHeaderParameters(k))}var xe=W.getXHRWithCredentialsForType(k.type);if(k.queryParams){var _e=Object.keys(k.queryParams).map(function(ze){return{key:ze,value:k.queryParams[ze]}});ot=cn.Z.addAditionalQueryParameterToUrl(ot,_e)}k.url=ot,B={url:ot,method:w.w.GET,withCredentials:xe,request:k,onload:function(){B.response.status>=200&&B.response.status<=299&&(Ye(!0),H.success&&H.success(B.response.response,B.response.statusText,B.response.responseURL),H.complete&&H.complete(k,B.response.statusText))},onend:dt,onerror:dt,progress:function(ze){var Xe=new Date;re&&(re=!1,(!ze.lengthComputable||ze.lengthComputable&&ze.total!==ze.loaded)&&(k.firstByteDate=Xe)),ze.lengthComputable&&(k.bytesLoaded=ze.loaded,k.bytesTotal=ze.total),ze.noTrace||(ne.push({s:K,d:ze.time?ze.time:Xe.getTime()-K.getTime(),b:[ze.loaded?ze.loaded-Ae:0]}),K=Xe,Ae=ze.loaded),Fe&&(clearTimeout(Fe),Fe=null),he.get().streaming.fragmentRequestProgressTimeout>0&&(Fe=setTimeout(function(){Q.warn("Abort request "+B.url+" due to progress timeout"),B.response.onabort=null,B.loader.abort(B),dt()},he.get().streaming.fragmentRequestProgressTimeout)),H.progress&&ze&&H.progress(ze)},onabort:function(){Me(!0),Fe&&(clearTimeout(Fe),Fe=null),H.abort&&H.abort(k)},ontimeout:function(ze){var Xe;Xe=ze.lengthComputable?"Request timeout: loaded: "+ze.loaded+", out of: "+ze.total+" : "+(ze.loaded/ze.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",Q.warn(Xe)},loader:je,timeout:ge,headers:it};var He=(new Date).getTime();if(isNaN(k.delayLoadingTime)||He>=k.delayLoadingTime)v.push(B),je.load(B);else{var De={httpRequest:B};P.push(De),De.delayTimeout=setTimeout(function(){if(-1!==P.indexOf(De)){P.splice(P.indexOf(De),1);try{K=Z=new Date,v.push(De.httpRequest),je.load(De.httpRequest)}catch{De.httpRequest.onerror()}}},k.delayLoadingTime-He)}}return f={load:function(H){H.request?N(H,de.getRetryAttemptsForType(H.request.type)):H.error&&H.error(H.request,"error")},abort:function(){L.forEach(function(H){clearTimeout(H.timeout),H.config.request&&H.config.abort&&H.config.abort(H.config.request)}),L=[],P.forEach(function(H){return clearTimeout(H.delayTimeout)}),P=[],v.forEach(function(H){H.request.type!==w.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(H.onloadend=H.onerror=H.onprogress=void 0,H.loader.abort(H))}),v=[]}},Q=(0,y.Z)($).getInstance().getLogger(f),v=[],P=[],L=[],R=St($).getInstance(),F=Ur($).getInstance(),te=Zr($).getInstance(),W=(0,wt.Z)($).getInstance(),Qt(U={},w.w.MPD_TYPE,q.DOWNLOAD_ERROR_ID_MANIFEST_CODE),Qt(U,w.w.XLINK_EXPANSION_TYPE,q.DOWNLOAD_ERROR_ID_XLINK_CODE),Qt(U,w.w.INIT_SEGMENT_TYPE,q.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),Qt(U,w.w.MEDIA_SEGMENT_TYPE,q.DOWNLOAD_ERROR_ID_CONTENT_CODE),Qt(U,w.w.INDEX_SEGMENT_TYPE,q.DOWNLOAD_ERROR_ID_CONTENT_CODE),Qt(U,w.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,q.DOWNLOAD_ERROR_ID_CONTENT_CODE),Qt(U,w.w.OTHER_TYPE,q.DOWNLOAD_ERROR_ID_CONTENT_CODE),M=U,f}fn.__dashjs_factory_name="HTTPLoader";const Un=o.Z.getClassFactory(fn);function xn(){var h;function f(){h={}}function v(){f()}return v(),{getLoader:function(P){for(var L in h)if(h.hasOwnProperty(L)&&P.startsWith(L))return h[L];return Un},registerLoader:function(P,L){h[P]=L},unregisterLoader:function(P){h[P]&&delete h[P]},unregisterAllLoader:f,reset:v}}xn.__dashjs_factory_name="SchemeLoaderFactory";const Hn=o.Z.getSingletonFactory(xn);function In(h){h=h||{};var f,v,P=this.context;return f=Hn(P).getInstance(),{load:function(L){if(!v){var M=f.getLoader(L&&L.request?L.request.url:null);v=M(P).create({errHandler:h.errHandler,mediaPlayerModel:h.mediaPlayerModel,requestModifier:h.requestModifier,dashMetrics:h.dashMetrics,boxParser:h.boxParser?h.boxParser:null,constants:h.constants?h.constants:null,dashConstants:h.dashConstants?h.dashConstants:null,urlUtils:h.urlUtils?h.urlUtils:null,requestTimeout:isNaN(h.requestTimeout)?0:h.requestTimeout,errors:h.errors})}v.load(L)},abort:function(){v&&v.abort()}}}In.__dashjs_factory_name="URLLoader";const Jn=o.Z.getClassFactory(In);function Bn(h){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function Nn(h,f){return(Nn=Object.setPrototypeOf||function(v,P){return v.__proto__=P,v})(h,f)}function $n(h){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}const dr=function(h){!function(M,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&Nn(M,R)}(L,h);var f,v,P=(f=L,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,R=$n(f);if(v){var F=$n(this).constructor;M=Reflect.construct(R,arguments,F)}else M=R.apply(this,arguments);return function lr(h,f){return!f||"object"!==Bn(f)&&"function"!=typeof f?function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(h):f}(this,M)});function L(M){var R;return function(F,W){if(!(F instanceof W))throw new TypeError("Cannot call a class as a function")}(this,L),(R=P.call(this,M)).checkForExistenceOnly=!0,R}return L}(T.Z);function ar(h){var f,v,L=(h=h||{}).eventBus,M=h.events,R=h.urlUtils,F=h.errors,W=h.streamId;return f={checkForExistence:function(te){var Q=function($){L.trigger(M.CHECK_FOR_EXISTENCE_COMPLETED,{request:te,exists:$})};if(te){var U=new dr(te.url);v.load({request:U,success:function(){Q(!0)},error:function(){Q(!1)}})}else Q(!1)},load:function(te){var Q=function(U,$){L.trigger(M.LOADING_COMPLETED,{request:te,response:U||null,error:$||null,sender:f})};te?v.load({request:te,progress:function(U){L.trigger(M.LOADING_PROGRESS,{request:te,stream:U.stream,streamId:W}),U.data&&L.trigger(M.LOADING_DATA_PROGRESS,{request:te,response:U.data||null,error:null,sender:f})},success:function(U){Q(U)},error:function(U,$,X){Q(void 0,new O.Z(F.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,X,$))},abort:function(U){U&&L.trigger(M.LOADING_ABANDONED,{mediaType:U.mediaType,request:U,sender:f})}}):Q(void 0,new O.Z(F.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,F.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){v&&v.abort()},reset:function(){v&&(v.abort(),v=null)}},v=Jn(this.context).create({errHandler:h.errHandler,errors:F,dashMetrics:h.dashMetrics,mediaPlayerModel:h.mediaPlayerModel,requestModifier:h.requestModifier,urlUtils:R,constants:r.Z,boxParser:h.boxParser,dashConstants:h.dashConstants,requestTimeout:h.settings.get().streaming.fragmentRequestTimeout}),f}ar.__dashjs_factory_name="FragmentLoader";const Er=o.Z.getClassFactory(ar);function gr(){return{modifyResponseAsync:function(h){return Promise.resolve(h)}}}gr.__dashjs_factory_name="SegmentResponseModifier";const $r=o.Z.getSingletonFactory(gr);function Nr(h){h=h||{};var f,v,P,L=this.context,M=(0,c.Z)(L).getInstance(),R=h.errHandler,F=h.mediaPlayerModel,W=h.dashMetrics,te=(0,y.Z)(L).getInstance(),Q=$r(L).getInstance(),U=h.streamInfo;function $(){return U.id}function X(){for(var de in P)P[de].reset();P={}}function Se(de){if(de.sender){var Ee=de.request,Te=de.response,q=Ee.isInitializationRequest(),ge=Ee.mediaInfo.streamInfo;if(de.error&&(Ee.mediaType===r.Z.AUDIO||Ee.mediaType===r.Z.VIDEO||Ee.mediaType===r.Z.TEXT&&Ee.mediaInfo.isFragmented)&&M.trigger(i.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:de.request.serviceLocation}),Te&&ge){var oe=(he=Te,N=Ee,H=U.id,Y=de.type!==i.Z.FRAGMENT_LOADING_PROGRESS,(B=new Lt).streamId=H,B.mediaInfo=N.mediaInfo,B.segmentType=N.type,B.start=N.startTime,B.duration=N.duration,B.end=B.start+B.duration,B.bytes=he,B.index=N.index,B.quality=N.quality,B.representationId=N.representationId,B.endFragment=Y,B);Q.modifyResponseAsync(oe).then(function(he){M.trigger(q?i.Z.INIT_FRAGMENT_LOADED:i.Z.MEDIA_FRAGMENT_LOADED,{chunk:he,request:Ee},{streamId:ge.id,mediaType:Ee.mediaType})}).catch(function(he){v.error(he),M.trigger(q?i.Z.INIT_FRAGMENT_LOADED:i.Z.MEDIA_FRAGMENT_LOADED,{chunk:oe,request:Ee},{streamId:ge.id,mediaType:Ee.mediaType})})}else v.warn("No "+Ee.mediaType+" bytes to push or stream is inactive.")}var he,N,H,Y,B}return v=te.getLogger(f={getStreamId:$,getModel:function(de){var Ee=P[de];return Ee||(Ee=_(L).create({streamInfo:U,type:de,dashMetrics:W,fragmentLoader:Er(L).create({dashMetrics:W,mediaPlayerModel:F,errHandler:R,requestModifier:(0,ye.Z)(L).getInstance(),settings:h.settings,boxParser:h.boxParser,eventBus:M,events:i.Z,errors:g,dashConstants:h.dashConstants,urlUtils:h.urlUtils,streamId:$()}),debug:te,eventBus:M,events:i.Z}),P[de]=Ee),Ee},reset:function(){M.off(e.Z.FRAGMENT_LOADING_COMPLETED,Se,this),M.off(e.Z.FRAGMENT_LOADING_PROGRESS,Se,this),X()}}),X(),M.on(e.Z.FRAGMENT_LOADING_COMPLETED,Se,f),M.on(e.Z.FRAGMENT_LOADING_PROGRESS,Se,f),f}Nr.__dashjs_factory_name="FragmentController";const Gr=o.Z.getClassFactory(Nr),ei=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},ti=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function ni(h){var f,v,P=this.context,L=h.streamInfo;function M(F){v.setTrackByIndex(F)}function R(){v&&v.reset()}return f={getStreamId:function(){return L.id},initialize:function(){v.addTracks();var F=v.getTracks();F&&F.length>0&&M(0)},provide:function(F,W){if("function"==typeof W){var Q,U=v.getCurrentTrack();if(!U||U.segmentDuration<=0||null==F)W(null);else{(Q=v.getThumbnailRequestForTime(F))&&(U.segmentDuration=Q.duration);var $=Math.floor(F%U.segmentDuration*U.tilesHor*U.tilesVert/U.segmentDuration),X=new ei;if(X.width=Math.floor(U.widthPerTile),X.height=Math.floor(U.heightPerTile),X.x=Math.floor($%U.tilesHor)*U.widthPerTile,X.y=Math.floor($/U.tilesHor)*U.heightPerTile,"readThumbnail"in U)return U.readThumbnail(F,function(de){X.url=de,W(X)});if(Q)X.url=Q.url,U.segmentDuration=NaN;else{var Se=Math.floor(F/U.segmentDuration);X.url=(q=(0,u.vi)((de=U).templateUrl,"Number",Te=Se+de.startNumber),q=(0,u.vi)(q,"Time",(Te-1)*de.segmentDuration*de.timescale),q=(0,u.vi)(q,"Bandwidth",de.bandwidth),(0,u.eR)(q))}W(X)}}var de,Te,q},setTrackByIndex:M,getCurrentTrackIndex:function(){return v.getCurrentTrackIndex()},getBitrateList:function(){var F=v.getTracks(),W=0;return F.map(function(te){var Q=new ti;return Q.mediaType=r.Z.IMAGE,Q.qualityIndex=W++,Q.bitrate=te.bitrate,Q.width=te.width,Q.height=te.height,Q})},reset:R},R(),v=(0,Dt.Z)(P).create({streamInfo:L,adapter:h.adapter,baseURLController:h.baseURLController,timelineConverter:h.timelineConverter,debug:h.debug,eventBus:h.eventBus,events:h.events,dashConstants:h.dashConstants,dashMetrics:h.dashMetrics,segmentBaseController:h.segmentBaseController}),f}ni.__dashjs_factory_name="ThumbnailController";const Si=o.Z.getClassFactory(ni);var jr=D(7417);function ri(h){var f;h=h||{};var v=[],P=(0,c.Z)(this.context).getInstance(),L=h.updateEventName,M=h.addBlacklistEventName;function R(F){-1===v.indexOf(F)&&(v.push(F),P.trigger(L,{entry:F}))}return f={add:R,contains:function(F){return!!(v.length&&F&&F.length)&&-1!==v.indexOf(F)},reset:function(){v=[]}},M&&P.on(M,function(F){R(F.entry)},f),f}ri.__dashjs_factory_name="BlackListController";const Hr=o.Z.getClassFactory(ri);var bi=[r.Z.VIDEO,r.Z.AUDIO,r.Z.TEXT,r.Z.MUXED,r.Z.IMAGE];function ii(h){h=h||{};var f,v,P,L,M,R,F,W,te,Q,U,$,X,Se,de,Ee,Te,q,ge=this.context,oe=(0,c.Z)(ge).getInstance(),he=(0,Le.Z)(ge).getInstance(),N=h.manifestModel,H=h.mediaPlayerModel,Y=h.dashMetrics,B=h.manifestUpdater,k=h.adapter,ne=h.timelineConverter,re=h.capabilities,me=h.errHandler,Z=h.abrController,K=h.playbackController,Ae=h.eventController,Fe=h.mediaController,Ue=h.protectionController,je=h.textController,Me=h.videoModel,Ye=h.streamInfo,dt=h.settings;function it(pt,jt){return new Promise(function(Ht,Zt){Xe(),Q=!0,gt();var et=Me.getElement(),Et=[];bi.forEach(function(Je){(Je!==r.Z.TEXT||pt)&&(Je!==r.Z.VIDEO||!et||et&&/^VIDEO$/i.test(et.nodeName))&&Et.push(ot(Je,pt))}),Promise.all(Et).then(function(){return Je=jt,new Promise(function(Ze){var ve={},We=P.map(function(lt){return lt.createBufferSinks(Je)});Promise.all(We).then(function(lt){lt.forEach(function(Nt){Nt&&(ve[Nt.getType()]=Nt)}),Ze(ve)}).catch(function(){Ze(ve)})});var Je}).then(function(Je){if(Q=!1,0===P.length){var Ze="No streams to play.";me.error(new O.Z(g.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ze,N.getValue())),v.fatal(Ze)}else At();pt&&je.createTracks(Ye),Ht(Je)}).catch(function(Je){Zt(Je)})})}function ot(pt,jt){var Ht,Zt=k.getAllMediaInfoForType(Ye,pt),et=[],Et=null;if(!Zt||0===Zt.length)return v.info("No "+pt+" data."),Promise.resolve();pt===r.Z.VIDEO&&(F=!0),pt===r.Z.AUDIO&&(W=!0);for(var Je=0,Ze=Zt.length;Je<Ze;Je++)Et=Zt[Je],pt===r.Z.TEXT&&Et.isEmbedded&&(je.addEmbeddedTrack(Ye,Et),et.push(Et)),bt(Et)&&Fe.addTrack(Et);if(et.length>0&&(Fe.setInitialMediaSettingsForType(pt,Ye),je.addMediaInfosToBuffer(Ye,pt,et)),0===(Zt=Zt.filter(function(We){return!We.isEmbedded})).length)return Promise.resolve();if(pt===r.Z.IMAGE)return($=Si(ge).create({streamInfo:Ye,adapter:k,baseURLController:h.baseURLController,timelineConverter:h.timelineConverter,debug:Ee,eventBus:oe,events:i.Z,dashConstants:n.Z,dashMetrics:h.dashMetrics,segmentBaseController:h.segmentBaseController})).initialize(),Promise.resolve();oe.trigger(i.Z.STREAM_INITIALIZING,{streamInfo:Ye,mediaInfo:Et}),Fe.setInitialMediaSettingsForType(pt,Ye);var ve=function(We,lt){var Nt=We&&We.length>0?We[0]:null,Ft=U.getModel(Nt?Nt.type:null),on=Nt?Nt.type:null,Cn=Nt?Nt.mimeType:null,er=Nt?Nt.isFragmented:null,wn=Ct(ge).create({streamInfo:Ye,type:on,mimeType:Cn,timelineConverter:ne,adapter:k,manifestModel:N,mediaPlayerModel:H,fragmentModel:Ft,dashMetrics:h.dashMetrics,baseURLController:h.baseURLController,segmentBaseController:h.segmentBaseController,abrController:Z,playbackController:K,mediaController:Fe,textController:je,errHandler:me,settings:dt,boxParser:de,segmentBlacklistController:X});wn.initialize(lt,F,er),P.push(wn);for(var nr=0;nr<We.length;nr++)wn.addMediaInfo(We[nr]);return on===r.Z.TEXT&&je.addMediaInfosToBuffer(Ye,on,We,Ft),wn}(Zt,jt);return(Ht=Fe.getCurrentTrackFor(pt,Ye.id))?(Z.updateTopQualityIndex(Ht),ve.selectMediaInfo(pt===r.Z.TEXT&&Ht.isEmbedded?Zt[0]:Ht)):Promise.resolve()}function bt(pt){var Ht=pt?pt.type:null;return Ht===r.Z.MUXED?(v.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),me.error(new O.Z(g.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",N.getValue())),!1):!(Ht!==r.Z.TEXT&&Ht!==r.Z.IMAGE&&pt.contentProtection&&!re.supportsEncryptedMedia()&&(me.error(new O.Z(g.CAPABILITY_MEDIAKEYS_ERROR_CODE,g.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Pt(pt){for(var jt=P?P.length:0,Ht=0;Ht<jt;Ht++){var Zt=P[Ht].getFragmentModel();Zt.abortRequests(),Zt.resetInitialSettings(),P[Ht].reset(!1,pt)}je&&je.deactivateStream(Ye),P=[],M=!1,R=!1,un(!1),_e(!1),oe.trigger(i.Z.STREAM_DEACTIVATED,{streamInfo:Ye})}function xe(pt){Pt(pt),L=!1,F=!1,W=!1,te={},Q=!1,Te=!1,q=[]}function _e(pt){Te=pt}function He(){return Ye?Ye.start:NaN}function De(){return Ye?Ye.id:null}function ze(){return Ye}function Xe(){if(!Me||!Z)throw new Error(r.Z.MISSING_CONFIG_ERROR)}function $e(pt){pt.error&&(me.error(pt.error),v.fatal(pt.error.message))}function gt(){if(Ae){var pt=k.getEventsFor(Ye);pt&&pt.length>0&&Ae.addInlineEvents(pt,Ye.id)}}function At(){for(var pt=P.length,jt=te.audio||te.video?new O.Z(g.DATA_UPDATE_FAILED_ERROR_CODE,g.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Ht=0;Ht<pt;Ht++)if(P[Ht].isUpdating()||Q)return;if(Ue){Ue.clearMediaInfoArray();for(var Zt=0;Zt<pt&&P[Zt];Zt++){var et=P[Zt].getType(),Et=P[Zt].getMediaInfo();if(et===r.Z.AUDIO||et===r.Z.VIDEO||et===r.Z.TEXT&&Et.isFragmented){var Je=P[Zt].getMediaInfo();Je&&Ue.initializeForMedia(Je)}}Ue.handleKeySystemFromManifest()}jt?me.error(jt):L||(L=!0,Me.waitForReadyState(r.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){oe.trigger(i.Z.STREAM_INITIALIZED,{streamInfo:Ye})}))}function qt(){var pt=sn(),jt=pt.length;if(0!==jt){for(var Ht=0;Ht<jt;Ht++)if(!pt[Ht].isBufferingCompleted()&&(pt[Ht].getType()===r.Z.AUDIO||pt[Ht].getType()===r.Z.VIDEO))return void v.debug("onBufferingCompleted - One streamProcessor has finished but",pt[Ht].getType(),"one is not buffering completed");v.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),R=!0,oe.trigger(i.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:Ye},{streamInfo:Ye})}else v.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function zt(pt){te[pt.mediaType]=pt.error,At()}function Bt(pt){Ae&&Ae.addInbandEvents(pt.events,Ye.id)}function Kt(pt){return pt&&pt.type?Xt(pt.type):null}function Xt(pt){return pt?sn().filter(function(jt){return jt.getType()===pt})[0]:null}function sn(){for(var pt,jt,Ht=[],Zt=0;Zt<P.length;Zt++)(pt=(jt=P[Zt]).getType())!==r.Z.AUDIO&&pt!==r.Z.VIDEO&&pt!==r.Z.TEXT||Ht.push(jt);return Ht}function dn(pt,jt){var Ht=ze(),Zt=jt.getStreamInfo();if(!Zt||!Ht)return!0;var et=k.getAdaptationForType(Zt.index,pt,Zt),Et=k.getAdaptationForType(Ht.index,pt,Ht);return et&&Et?!(!rn(Et)&&rn(et)):!et&&!Et}function rn(pt){return!!pt&&!!(pt.ContentProtection||pt.Representation_asArray&&pt.Representation_asArray.length>0&&pt.Representation_asArray[0].ContentProtection)}function gn(pt,jt){var Ht=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!pt||!pt.hasOwnProperty("getStreamInfo"))return!1;var Zt=pt.getStreamInfo(),et=Ht?Ht.getStreamInfo():ze();if(!Zt||!et)return!1;var Et=k.getAdaptationForType(Zt.index,jt,Zt),Je=k.getAdaptationForType(et.index,jt,et);if(!Et||!Je)return!Et&&!Je;var Ze=Et&&Je&&Et.mimeType===Je.mimeType,ve=Je.Representation_asArray.map(function(Ft){return Ft.codecs}),We=Et.Representation_asArray.map(function(Ft){return Ft.codecs}),lt=We.some(function(Ft){return ve.indexOf(Ft)>-1}),Nt=We.some(function(Ft){return ve.some(function(on){return re.codecRootCompatibleWithCodec(on,Ft)})});return lt||Nt&&Ze}function un(pt){Se=pt}function mn(){return Se}return f={initialize:function(){oe.on(i.Z.BUFFERING_COMPLETED,qt,f),oe.on(i.Z.DATA_UPDATE_COMPLETED,zt,f),oe.on(i.Z.INBAND_EVENTS,Bt,f),Ue&&(oe.on(i.Z.KEY_ERROR,$e,f),oe.on(i.Z.SERVER_CERTIFICATE_UPDATED,$e,f),oe.on(i.Z.LICENSE_REQUEST_COMPLETE,$e,f),oe.on(i.Z.KEY_SYSTEM_SELECTED,$e,f),oe.on(i.Z.KEY_SESSION_CREATED,$e,f),oe.on(i.Z.KEY_STATUSES_CHANGED,$e,f)),je.initializeForStream(Ye),oe.trigger(i.Z.STREAM_UPDATED,{streamInfo:Ye})},getStreamId:function(){return Ye?Ye.id:null},activate:function(pt,jt){return new Promise(function(Ht,Zt){if(!M)return mn()?(M=!0,oe.trigger(i.Z.STREAM_ACTIVATED,{streamInfo:Ye}),void Ht(jt)):void(et=pt,Et=jt,it(et,Et)).then(function(et){M=!0,oe.trigger(i.Z.STREAM_ACTIVATED,{streamInfo:Ye}),Ht(et)}).catch(function(et){Zt(et)});var et,Et;Ht(jt)})},deactivate:Pt,getIsActive:function(){return M},getDuration:function(){return Ye?Ye.duration:NaN},getStartTime:He,getId:De,getStreamInfo:ze,getHasAudioTrack:function(){return W},getHasVideoTrack:function(){return F},startPreloading:function(pt,jt){return new Promise(function(Ht,Zt){mn()?Zt():(v.info("[startPreloading] Preloading next stream with id ".concat(De())),un(!0),it(pt,jt).then(function(){for(var et=0;et<P.length&&P[et];et++)P[et].setExplicitBufferingTime(He()),P[et].getScheduleController().startScheduleTimer();Ht()}).catch(function(){un(!1),Zt()}))})},initializeForTextWithMediaSource:function(pt){return new Promise(function(jt,Ht){ot(r.Z.TEXT,pt).then(function(){return(Zt=Xt(r.Z.TEXT))?Zt.createBufferSinks():Promise.resolve();var Zt}).then(function(){je.createTracks(Ye),jt()}).catch(function(Zt){Ht(Zt)})})},getThumbnailController:function(){return $},getBitrateListFor:function(pt){if(Xe(),pt===r.Z.IMAGE)return $?$.getBitrateList():[];var jt=function(Ht){for(var Zt=null,et=0;et<P.length;et++)if((Zt=P[et]).getType()===Ht)return Zt.getMediaInfo();return null}(pt);return Z.getBitrateList(jt)},updateData:function(pt){return new Promise(function(jt){Q=!0,Ye=pt,Ae&&gt();for(var Ht=[],Zt=0,et=P.length;Zt<et;Zt++){var Et=P[Zt],Je=Et.getMediaInfo();Ht.push(Et.updateStreamInfo(Ye));var Ze=k.getAllMediaInfoForType(Ye,Et.getType());if(Ze=Ze.filter(function(lt){return!lt.isEmbedded})){Et.clearMediaInfoArray();for(var ve=0;ve<Ze.length;ve++){var We=Ze[ve];Et.addMediaInfo(Ze[ve]),k.areMediaInfosEqual(Je,We)&&(Z.updateTopQualityIndex(We),Ht.push(Et.selectMediaInfo(We)))}}}Promise.all(Ht).then(function(){for(Ht=[];q.length>0;){var lt=q.pop(),Nt=lt.newMediaInfo,Ft=Kt(lt.oldMediaInfo);if(!Ft)return;Ht.push(Ft.prepareTrackSwitch()),Ht.push(Ft.selectMediaInfo(Nt))}return Promise.all(Ht)}).then(function(){Q=!1,At(),oe.trigger(i.Z.STREAM_UPDATED,{streamInfo:Ye}),jt()})})},reset:function(pt){U&&(U.reset(),U=null),Z&&Ye&&Z.clearDataForStream(Ye.id),X&&(X.reset(),X=null),xe(pt),Ye=null,oe.off(i.Z.DATA_UPDATE_COMPLETED,zt,f),oe.off(i.Z.BUFFERING_COMPLETED,qt,f),oe.off(i.Z.INBAND_EVENTS,Bt,f),Ue&&(oe.off(i.Z.KEY_ERROR,$e,f),oe.off(i.Z.SERVER_CERTIFICATE_UPDATED,$e,f),oe.off(i.Z.LICENSE_REQUEST_COMPLETE,$e,f),oe.off(i.Z.KEY_SYSTEM_SELECTED,$e,f),oe.off(i.Z.KEY_SESSION_CREATED,$e,f),oe.off(i.Z.KEY_STATUSES_CHANGED,$e,f))},getProcessors:sn,setMediaSource:function(pt){return new Promise(function(jt,Ht){for(var Zt=[],et=0;et<P.length;)bt(P[et].getMediaInfo())?(Zt.push(P[et].setMediaSource(pt)),et++):(P[et].reset(),P.splice(et,1));Promise.all(Zt).then(function(){for(var Et=0;Et<P.length;Et++)P[Et].dischargePreBuffer();if(0===P.length){var Je="No streams to play.";me.error(new O.Z(g.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Je+"nostreams",N.getValue())),v.fatal(Je)}jt()}).catch(function(Et){v.error(Et),Ht(Et)})})},isMediaCodecCompatible:function(pt){var jt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return gn(pt,r.Z.VIDEO,jt)&&gn(pt,r.Z.AUDIO,jt)},isProtectionCompatible:function(pt){return!pt||dn(r.Z.VIDEO,pt)&&dn(r.Z.AUDIO,pt)},getPreloaded:mn,getIsEndedEventSignaled:function(){return Te},setIsEndedEventSignaled:_e,getAdapter:function(){return k},getHasFinishedBuffering:function(){return R},setPreloaded:un,startScheduleControllers:function(){for(var pt=P.length,jt=0;jt<pt&&P[jt];jt++)P[jt].getScheduleController().startScheduleTimer()},prepareTrackChange:function(pt){if(M&&Ye){R=!1;var jt=pt.newMediaInfo,Ht=N.getValue();k.setCurrentMediaInfo(Ye.id,jt.type,jt);var Zt=Kt(jt);if(Zt){var et=K.getTime();v.info("Stream -  Process track changed at current time "+et),Ht.refreshManifestOnSwitchTrack?(q.push(pt),B.getIsUpdating()||(v.debug("Stream -  Refreshing manifest for switch track"),B.refreshManifest())):Zt.selectMediaInfo(jt).then(function(){jt.type!==r.Z.VIDEO&&jt.type!==r.Z.AUDIO||Z.updateTopQualityIndex(jt),Zt.prepareTrackSwitch()})}}},prepareQualityChange:function(pt){var jt=Xt(pt.mediaType);jt&&jt.prepareQualityChange(pt)}},function(){try{Ee=(0,y.Z)(ge).getInstance(),v=Ee.getLogger(f),xe(),de=(0,jr.Z)(ge).getInstance(),X=Hr(ge).create({updateEventName:i.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:i.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),U=Gr(ge).create({streamInfo:Ye,mediaPlayerModel:H,dashMetrics:Y,errHandler:me,settings:dt,boxParser:de,dashConstants:n.Z,urlUtils:he})}catch(pt){throw pt}}(),f}ii.__dashjs_factory_name="Stream";const ai=o.Z.getClassFactory(ii),Ai=function h(f){(function(v,P){if(!(v instanceof P))throw new TypeError("Cannot call a class as a function")})(this,h),this.url=f||null,this.type=w.w.CONTENT_STEERING_TYPE,this.responseType="json"},On=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function _r(){var h,f,v,P,L,M,R,F,W,te,Q,U,$,X,Se,de=this.context,Ee=(0,Le.Z)(de).getInstance();function Te(Z){N(Z,"baseUrl")}function q(Z){N(Z,"location")}function ge(Z){if(Z&&Z.request&&Z.request.serviceLocation&&Z.request.requestStartDate&&Z.request.requestEndDate&&!isNaN(Z.request.bytesTotal)){var K=Z.request.serviceLocation,Ae=Z.request.requestEndDate.getTime()-Z.request.requestStartDate.getTime();he(K,parseInt(8*Z.request.bytesTotal/Ae*1e3))}}function oe(Z){Z&&Z.httpRequest&&Z.httpRequest._serviceLocation&&!isNaN(Z.throughput)&&he(Z.httpRequest._serviceLocation,1e3*Z.throughput)}function he(Z,K){L[Z]||(L[Z]=[]),L[Z].push(K),L[Z].length>4&&L[Z].shift()}function N(Z,K){if(Z&&Z.request&&Z.request.serviceLocation){var Ae=Z.request.serviceLocation;-1===P[K].all.indexOf(Ae)&&P[K].all.push(Ae),P[K].current=Ae}}function H(){var Z=Q.getValue(),K=Se.getContentSteering(Z);return K||(K=$.getServiceDescriptionSettings().contentSteering),K}function Y(){return new Promise(function(Z){try{var K=H();if(!K||!K.serverUrl)return void Z();var Ae=function(Ue){var je=Ue.serverUrl;v&&v.reloadUri&&(je=Ee.isRelative(v.reloadUri)?Ee.resolve(v.reloadUri,Ue.serverUrl):v.reloadUri);var Me=[],Ye=P.baseUrl.all.concat(P.location.all);if(Ye.length>0){var dt=Ye.map(function(bt){return{serviceLocation:bt,throughput:function(xe){if(!xe||!L[xe]||0===L[xe].length)return-1;var _e=L[xe].reduce(function(He,De){return He+De})/L[xe].length;return parseInt(_e)}(bt)}});dt.sort(function(bt,Pt){return Pt.throughput-bt.throughput});var it="",ot="";dt.forEach(function(bt,Pt){0!==Pt&&(it="".concat(it,","),bt.throughput>-1&&(ot="".concat(ot,","))),it="".concat(it).concat(bt.serviceLocation),bt.throughput>-1&&(ot="".concat(ot).concat(bt.throughput))}),Me.push({key:"_DASH_pathway",value:'"'.concat(it,'"')}),Me.push({key:"_DASH_throughput",value:ot})}return cn.Z.addAditionalQueryParameterToUrl(je,Me)}(K),Fe=new Ai(Ae);R.load({request:Fe,success:function(Ue){var je;(je=Ue)&&je[n.Z.CONTENT_STEERING_RESPONSE.VERSION]&&1===parseInt(je[n.Z.CONTENT_STEERING_RESPONSE.VERSION])&&((v=new On).version=je[n.Z.CONTENT_STEERING_RESPONSE.VERSION],je[n.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(je[n.Z.CONTENT_STEERING_RESPONSE.TTL])&&(v.ttl=je[n.Z.CONTENT_STEERING_RESPONSE.TTL]),je[n.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(v.reloadUri=je[n.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),je[n.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(v.pathwayPriority=je[n.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),je[n.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(v.pathwayClones=je[n.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],v.pathwayClones=v.pathwayClones.filter(function(Me){return(Ye=Me)[n.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&Ye[n.Z.CONTENT_STEERING_RESPONSE.ID]&&Ye[n.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&Ye[n.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][n.Z.CONTENT_STEERING_RESPONSE.HOST];var Ye})),ne()),X.trigger(e.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:v,url:Ae}),Z()},error:function(Ue,je,Me,Ye){(function(dt,it){try{switch(f.warn("Error fetching data from content steering server",dt),it.status){case 410:break;case 429:var ot=it&&it.getResponseHeader?it.getResponseHeader("retry-after"):null;null!==ot&&(v||(v={}),v.ttl=parseInt(ot)),ne();break;default:ne()}}catch(bt){f.error(bt)}})(Ue,Ye),Z(Ue)},complete:function(){P.baseUrl.all=B(P.baseUrl),P.location.all=B(P.location)}})}catch(Ue){Z(Ue)}})}function B(Z){return Z.all&&0!==Z.all.length&&Z.current?Z.all.filter(function(K){return K===Z.current}):[]}function k(Z){try{var K=[];return Z&&0!==Z.length&&v&&v.pathwayClones&&0!==v.pathwayClones.length&&v.pathwayClones.forEach(function(Ae){var Fe=Z.filter(function(dt){return Ae[n.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===dt.serviceLocation}),Ue=null;if(Fe&&Fe.length>0&&(Ue=Fe[0]),Ue){var je=new URL(Ue.url),Me=Ae[n.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][n.Z.CONTENT_STEERING_RESPONSE.HOST];Me=cn.Z.stringHasProtocol(Me)?Me:"".concat(je.protocol,"//").concat(Me);var Ye={synthesizedUrl:"".concat(Me).concat(je.pathname),serviceLocation:Ae[n.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:Ae[n.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][n.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:Ue};K.push(Ye)}}),K}catch(Ae){return f.error(Ae),[]}}function ne(){v&&v.ttl&&!isNaN(v.ttl)&&(M&&clearTimeout(M),M=setTimeout(function(){Y()},1e3*v.ttl))}function re(){M&&clearTimeout(M),M=null}function me(){v=null,L={},P={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},re()}return h={reset:function(){me(),X.off(e.Z.FRAGMENT_LOADING_STARTED,Te,h),X.off(e.Z.MANIFEST_LOADING_STARTED,q,h),X.off(e.Z.MANIFEST_LOADING_FINISHED,ge,h),X.off(e.Z.THROUGHPUT_MEASUREMENT_STORED,oe,h)},setConfig:function(Z){Z&&(Z.adapter&&(Se=Z.adapter),Z.errHandler&&(F=Z.errHandler),Z.dashMetrics&&(W=Z.dashMetrics),Z.mediaPlayerModel&&(te=Z.mediaPlayerModel),Z.requestModifier&&(U=Z.requestModifier),Z.manifestModel&&(Q=Z.manifestModel),Z.serviceDescriptionController&&($=Z.serviceDescriptionController),Z.eventBus&&(X=Z.eventBus))},loadSteeringData:Y,getCurrentSteeringResponseData:function(){return v},shouldQueryBeforeStart:function(){var Z=H();return!!Z&&Z.queryBeforeStart},getSteeringDataFromManifest:H,stopSteeringRequestTimer:re,getSynthesizedBaseUrlElements:function(Z){try{return k(Z).map(function(K){var Ae=new rr(K.synthesizedUrl,K.serviceLocation);return Ae.queryParams=K.queryParams,Ae.dvb_priority=K.reference.dvb_priority,Ae.dvb_weight=K.reference.dvb_weight,Ae.availabilityTimeOffset=K.reference.availabilityTimeOffset,Ae.availabilityTimeComplete=K.reference.availabilityTimeComplete,Ae})}catch(K){return f.error(K),[]}},getSynthesizedLocationElements:function(Z){try{return k(Z).map(function(K){var Ae=new Gt(K.synthesizedUrl,K.serviceLocation);return Ae.queryParams=K.queryParams,Ae})}catch(K){return f.error(K),[]}},initialize:function(){R=Jn(de).create({errHandler:F,dashMetrics:W,mediaPlayerModel:te,requestModifier:U,errors:g}),X.on(e.Z.FRAGMENT_LOADING_STARTED,Te,h),X.on(e.Z.MANIFEST_LOADING_STARTED,q,h),X.on(e.Z.MANIFEST_LOADING_FINISHED,ge,h),X.on(e.Z.THROUGHPUT_MEASUREMENT_STORED,oe,h)}},f=(0,y.Z)(de).getInstance().getLogger(h),me(),h}_r.__dashjs_factory_name="ContentSteeringController";const Tr=o.Z.getSingletonFactory(_r);function Sr(){var h,f,v,P=this.context,L=(0,ue.Z)(P).getInstance();return h={select:function(M){if(!M||0===M.length)return null;var F,W,R=null;return L.get().streaming.applyContentSteering&&(F=M,R=(W=v.getCurrentSteeringResponseData())&&W.pathwayPriority&&W.pathwayPriority.length>0?function(){for(var te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],U=0,$=null,X=function(){var Se=te[U],de=Q.findIndex(function(Ee){return Ee.serviceLocation&&Ee.serviceLocation===Se});if(-1!==de&&!f.contains(Q[de].serviceLocation))return $=Q[de],"break";U+=1};U<te.length&&"break"!==X(););return $}(W.pathwayPriority,F):null),R||(R=function(F){return F[0]}(M)),R},setConfig:function(M){M.blacklistController&&(f=M.blacklistController),M.contentSteeringController&&(v=M.contentSteeringController)},reset:function(){f.reset()}},f=Hr(P).create({updateEventName:i.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:i.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),v=Tr(P).getInstance(),h}Sr.__dashjs_factory_name="LocationSelector";const Ii=o.Z.getClassFactory(Sr);function ur(){var h,f,v,P,L,M,R,F,W,te,Q,U,$,X,Se=this.context,de=(0,c.Z)(Se).getInstance(),Ee=(0,Le.Z)(Se).getInstance();function Te(){v=NaN,R=!1,L=!0,M=!1,q()}function q(){null!==P&&(clearTimeout(P),P=null)}function ge(re){q(),M||(isNaN(re)&&!isNaN(v)&&(re=1e3*v),isNaN(re)||(f.debug("Refresh manifest in "+re+" milliseconds."),P=setTimeout(H,re)))}function oe(){var re=arguments.length>0&&void 0!==arguments[0]&&arguments[0];R=!0;var me=W.getValue(),Z=me.url,K=null,Ae=Q.getPatchLocation(me),Fe=te.select(Ae),Ue=null;if(Fe&&!re)Z=Fe.url,K=Fe.serviceLocation,Ue=Fe.queryParams;else{var je=function he(re){var me=Q.getLocation(re),Z=$.getSynthesizedLocationElements(me);return me.concat(Z)}(me),Me=te.select(je);Me&&(Z=Me.url,K=Me.serviceLocation,Ue=Me.queryParams)}Ee.isRelative(Z)&&(Z=Ee.resolve(Z,me.url)),F.load(Z,K,Ue)}function N(re){if(re){if(Q.getIsPatch(re)){var me=re;re=W.getValue();var Z=Q.isPatchValid(re,me),K=Z;if(Z){var Ae=Q.getPublishTime(re);K=Q.applyPatchToManifest(re,me);var Fe=Q.getPublishTime(re);K=Ae.getTime()!=Fe.getTime()}if(!K)return f.debug("Patch provided is invalid, performing full manifest refresh"),void oe(!0);re.loadedTime=new Date}}else(re=W.getValue()).loadedTime=new Date;if(W.getValue()&&W.getValue().type===n.Z.DYNAMIC&&re.type===n.Z.STATIC)return de.trigger(i.Z.DYNAMIC_TO_STATIC),R=!1,void(M=!0);W.setValue(re);var Ue=new Date,je=(Ue.getTime()-re.loadedTime.getTime())/1e3;1e3*(v=Q.getManifestUpdatePeriod(re,je))>2147483647&&(v=2147483.647),de.trigger(i.Z.MANIFEST_UPDATED,{manifest:re}),f.info("Manifest has been refreshed at "+Ue+"["+Ue.getTime()/1e3+"] "),L||ge()}function H(){L||(R?ge(X.get().streaming.manifestUpdateRetryInterval):oe())}function Y(re){re.error?re.error.code===g.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&U.error(re.error):N(re.manifest)}function B(){L=!1,ge()}function k(){(L=!X.get().streaming.scheduling.scheduleWhilePaused)&&q()}function ne(){R=!1}return h={initialize:function(){Te(),de.on(i.Z.STREAMS_COMPOSED,ne,this),de.on(e.Z.PLAYBACK_STARTED,B,this),de.on(e.Z.PLAYBACK_PAUSED,k,this),de.on(i.Z.INTERNAL_MANIFEST_LOADED,Y,this)},setManifest:function(re){N(re)},refreshManifest:oe,getIsUpdating:function(){return R},setConfig:function(re){re&&(re.manifestModel&&(W=re.manifestModel),re.adapter&&(Q=re.adapter),re.manifestLoader&&(F=re.manifestLoader),re.errHandler&&(U=re.errHandler),re.locationSelector&&(te=re.locationSelector),re.settings&&(X=re.settings),re.contentSteeringController&&($=re.contentSteeringController))},reset:function(){de.off(e.Z.PLAYBACK_STARTED,B,this),de.off(e.Z.PLAYBACK_PAUSED,k,this),de.off(i.Z.STREAMS_COMPOSED,ne,this),de.off(i.Z.INTERNAL_MANIFEST_LOADED,Y,this),Te()}},f=(0,y.Z)(Se).getInstance().getLogger(h),te=Ii(Se).create(),h}ur.__dashjs_factory_name="ManifestUpdater";const oi=o.Z.getClassFactory(ur);function fr(){var h,f,v,P,L,M,R,F,W,te,Q,U,$,X,Se,de,Ee=this.context,Te=(0,c.Z)(Ee).getInstance(),q=(0,Le.Z)(Ee).getInstance();function ge(){F=[],W=[],te=null,Q=null,$=null,U=NaN,v=!1,P=!1,X=L.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function oe(){L.get().streaming.utcSynchronization.enabled&&!v&&!P&&$&&$.value&&$.schemeIdUri&&!isNaN(U)&&!isNaN(L.get().streaming.utcSynchronization.backgroundAttempts)&&(Q&&(Date.now()-Q)/1e3<30||(F=[],P=!0,he(isNaN(L.get().streaming.utcSynchronization.backgroundAttempts)?2:L.get().streaming.utcSynchronization.backgroundAttempts)))}function he(Me){try{if(Me<=0)return void Ue();var Ye=Date.now();M[$.schemeIdUri]($.value,function(dt){var it=Date.now(),ot=H(Ye,it,dt);F.push(ot),he(Me-1)},function(){Ue()})}catch{Ue()}}function N(){var Ye=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!W||0===W.length||Ye>=W.length)Y();else{var dt=W[Ye];if(dt)if(M.hasOwnProperty(dt.schemeIdUri)){var it=(new Date).getTime();M[dt.schemeIdUri](dt.value,function(ot){var bt=(new Date).getTime(),Pt=H(it,bt,ot);$=dt,Y(Pt)},function(){N(Ye+1)})}else N(Ye+1);else Y()}}function H(Me,Ye,dt){return dt-(Ye-(Ye-Me)/2)}function Y(){var Me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,Ye=isNaN(Me);Ye&&L.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function Ae(){var Me=R.getLatestMPDRequestHeaderValueByID("Date"),Ye=null!==Me?new Date(Me).getTime():Number.NaN;isNaN(Ye)?Fe(!0):Fe(!1,Ye-Date.now())}():Fe(Ye,Me)}function B(Me){var it,ot,bt,Ye=Date.parse(Me);return isNaN(Ye)&&(bt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Me),it=Date.UTC(parseInt(bt[1],10),parseInt(bt[2],10)-1,parseInt(bt[3],10),parseInt(bt[4],10),parseInt(bt[5],10),bt[6]&&(parseInt(bt[6],10)||0),bt[7]&&1e3*parseFloat(bt[7])||0),bt[9]&&bt[10]&&(ot=60*parseInt(bt[9],10)+parseInt(bt[10],10),it+=("+"===bt[8]?-1:1)*ot*60*1e3),Ye=new Date(it).getTime()),Ye}function k(Me){return Date.parse(Me)}function ne(Me){return Date.parse(Me)}function re(Me,Ye,dt){dt()}function me(Me,Ye,dt){var it=B(Me);isNaN(it)?dt():Ye(it)}function Z(Me,Ye,dt,it,ot){var bt,Pt,xe=!1,_e=new XMLHttpRequest,He=ot?w.w.HEAD:w.w.GET,De=Ye.match(/\S+/g);if(Ye=De.shift(),bt=function(){xe||(xe=!0,De.length?Z(Me,De.join(" "),dt,it,ot):it())},Pt=function(){var Xe,$e;200===_e.status&&(Xe=ot?_e.getResponseHeader("Date"):_e.response,$e=Me(Xe),isNaN($e)||(dt($e),xe=!0))},q.isRelative(Ye)){var ze=de.resolve();ze&&(Ye=q.resolve(Ye,ze.url))}_e.open(He,Ye),_e.timeout=5e3,_e.onload=Pt,_e.onloadend=bt,_e.send()}function K(Me,Ye,dt){Z(ne,Me,Ye,dt,!0)}function Fe(Me,Ye){if(isNaN(U)||isNaN(Ye)||Me||function(it){try{var ot,bt=je(it),Pt=isNaN(X)?30:X,xe=isNaN(L.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:L.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,_e=isNaN(L.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:L.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,He=isNaN(L.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:L.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;bt?(ot=Math.min(Pt*xe,_e),f.debug("Increasing timeBetweenSyncAttempts to ".concat(ot))):(ot=Math.max(Pt/xe,He),f.debug("Decreasing timeBetweenSyncAttempts to ".concat(ot))),X=ot}catch{}}(Ye),!Me&&!isNaN(Ye)){te=Date.now(),v=!1;var dt=isNaN(U);U=Ye,dt&&oe(),f.debug("Completed UTC sync. Setting client - server offset to ".concat(Ye))}Me&&($=null,v=!1,Se.error(new O.Z(g.TIME_SYNC_FAILED_ERROR_CODE,g.TIME_SYNC_FAILED_ERROR_MESSAGE))),Te.trigger(i.Z.UPDATE_TIME_SYNC_OFFSET,{offset:Ye}),Te.trigger(i.Z.TIME_SYNCHRONIZATION_COMPLETED)}function Ue(){if(F&&0!==F.length){var Me=F.reduce(function(Ye,dt){return Ye+dt},0)/F.length;je(Me)?f.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(f.debug("Completed background UTC sync. Setting client - server offset to ".concat(Me)),Te.trigger(i.Z.UPDATE_TIME_SYNC_OFFSET,{offset:U=Me})),P=!1,Q=Date.now()}}function je(Me){try{if(isNaN(U))return!0;var Ye=L.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(L.get().streaming.utcSynchronization.maximumAllowedDrift)?L.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Me>=U-Ye&&Me<=U+Ye}catch{return!0}}return h={initialize:function(){ge(),M={"urn:mpeg:dash:utc:http-head:2014":K,"urn:mpeg:dash:utc:http-xsdate:2014":Z.bind(null,B),"urn:mpeg:dash:utc:http-iso:2014":Z.bind(null,k),"urn:mpeg:dash:utc:direct:2014":me,"urn:mpeg:dash:utc:http-head:2012":K,"urn:mpeg:dash:utc:http-xsdate:2012":Z.bind(null,B),"urn:mpeg:dash:utc:http-iso:2012":Z.bind(null,k),"urn:mpeg:dash:utc:direct:2012":me,"urn:mpeg:dash:utc:http-ntp:2014":re,"urn:mpeg:dash:utc:ntp:2014":re,"urn:mpeg:dash:utc:sntp:2014":re}},attemptSync:function(Me,Ye){W=Me,v||(function(dt){try{if(!dt||!L.get().streaming.utcSynchronization.enabled)return!1;var it=isNaN(X)?30:X;return!(te&&it&&!isNaN(it))||(Date.now()-te)/1e3>=it}catch{return!0}}(Ye)?(v=!0,N()):Te.trigger(i.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(Me){Me&&(Me.dashMetrics&&(R=Me.dashMetrics),Me.baseURLController&&(de=Me.baseURLController),Me.errHandler&&(Se=Me.errHandler),Me.settings&&(L=Me.settings))},reset:function(){ge(),Te.off(i.Z.ATTEMPT_BACKGROUND_SYNC,oe,h)}},f=(0,y.Z)(Ee).getInstance().getLogger(h),Te.on(i.Z.ATTEMPT_BACKGROUND_SYNC,oe,h),h}fr.__dashjs_factory_name="TimeSyncController";var qr=o.Z.getSingletonFactory(fr);qr.HTTP_TIMEOUT_MS=5e3,o.Z.updateSingletonFactory(fr.__dashjs_factory_name,qr);const fo=qr;function ea(){var h,f,v;return h={createMediaSource:function(){var L="WebKitMediaSource"in window;return"MediaSource"in window?f=new MediaSource:L&&(f=new WebKitMediaSource),f},attachMediaSource:function(L){var M=window.URL.createObjectURL(f);return L.setSource(M),M},detachMediaSource:function(L){L.setSource(null)},setDuration:function L(M){f&&"open"===f.readyState&&(null===M&&isNaN(M)||f.duration!==M&&(function(R){for(var F=R.sourceBuffers,W=0;W<F.length;W++)if(F[W].updating)return!0;return!1}(f)?setTimeout(L.bind(null,M),50):(v.info("Set MediaSource duration:"+M),f.duration=M)))},setSeekable:function(L,M){f&&"function"==typeof f.setLiveSeekableRange&&"function"==typeof f.clearLiveSeekableRange&&"open"===f.readyState&&L>=0&&L<M&&(f.clearLiveSeekableRange(),f.setLiveSeekableRange(L,M))},signalEndOfStream:function(L){if(L&&"open"===L.readyState){for(var M=L.sourceBuffers,R=0;R<M.length;R++)if(M[R].updating||0===M[R].buffered.length)return;v.info("call to mediaSource endOfStream"),L.endOfStream()}}},v=(0,y.Z)(this.context).getInstance().getLogger(h),h}ea.__dashjs_factory_name="MediaSourceController";const go=o.Z.getSingletonFactory(ea);function ta(){var h,f,v,P,L,M,R,F,W,te,Q,U="urn:mpeg:dash:event:2012",X="updated",Se="added",de=this.context,Ee=(0,c.Z)(de).getInstance();function Te(){if(!R||!F)throw new Error("setConfig function has to be called previously")}function q(){Q=!1,v={},P={},L=null,te=!1,M=Date.now()/1e3}function ge(){try{if(!te){te=!0;var re=F.getTime(),me=re-M;me=M>0?Math.max(0,me):0,oe(P,me,re),oe(v,me,re),he(P),he(v),M=re,te=!1}}catch(Z){te=!1,f.error(Z)}}function oe(re,me,Z){try{B(re,function(K){if(void 0!==K){var Ae=isNaN(K.duration)?0:K.duration;K.calculatedPresentationTime<=Z&&K.calculatedPresentationTime+me+Ae>=Z?ne(K,e.Z.EVENT_MODE_ON_START):(k(Z,Ae+me,K.calculatedPresentationTime)||function(Fe){try{return Fe.calculatedPresentationTime>Fe.eventStream.period.start+Fe.eventStream.period.duration}catch(je){return f.error(je),!1}}(K))&&(f.debug("Removing event ".concat(K.id," from period ").concat(K.eventStream.period.id," as it is expired or invalid")),function(Fe,Ue){try{var je=Ue.eventStream.schemeIdUri,Me=Ue.eventStream.period.id,Ye=Ue.eventStream.value,dt=Ue.id;Fe[Me][je]=Fe[Me][je].filter(function(it){return Ye&&it.eventStream.value&&it.eventStream.value!==Ye||it.id!==dt}),0===Fe[Me][je].length&&delete Fe[Me][je]}catch(it){f.error(it)}}(re,K))}})}catch(K){f.error(K)}}function he(re){try{for(var me in re)re.hasOwnProperty(me)&&0===Object.keys(re[me]).length&&delete re[me]}catch(Z){f.error(Z)}}function N(re,me){var Z=arguments.length>2&&void 0!==arguments[2]&&arguments[2],K=re.eventStream.schemeIdUri,Ae=re.eventStream.value,Fe=re.id,Ue="discarded";me[K]||(me[K]=[]);var je=me[K].findIndex(function(Ye){return(!Ae||Ye.eventStream.value&&Ye.eventStream.value===Ae)&&Ye.id===Fe});if(-1===je)me[K].push(re),re.triggeredReceivedEvent=!1,re.triggeredStartEvent=!1,Ue=Se;else if(Z){var Me=me[K][je];re.triggeredReceivedEvent=Me.triggeredReceivedEvent,re.triggeredStartEvent=Me.triggeredStartEvent,me[K][je]=re,Ue=X}return Ue}function H(re){try{1==re.eventStream.value&&Ee.trigger(e.Z.MANIFEST_VALIDITY_CHANGED,{id:re.id,validUntil:re.calculatedPresentationTime,newDuration:4294967295==re.calculatedPresentationTime?NaN:re.calculatedPresentationTime+re.duration,newManifestValidAfter:NaN},{mode:e.Z.EVENT_MODE_ON_START})}catch(K){f.error(K)}}function Y(re){try{var me=F.getTime();B(re,function(Z){var K=Z.eventStream&&Z.eventStream.period&&!isNaN(Z.eventStream.period.duration)?Z.eventStream.period.duration:NaN,Ae=Z.eventStream&&Z.eventStream.period&&!isNaN(Z.eventStream.period.start)?Z.eventStream.period.start:NaN;isNaN(K)||isNaN(Ae)||Math.abs(Z.calculatedPresentationTime-me)<300&&ne(Z,e.Z.EVENT_MODE_ON_START)})}catch(Z){f.error(Z)}}function B(re,me){try{if(re)for(var Z=Object.keys(re),K=0;K<Z.length;K++)for(var Ae=re[Z[K]],Fe=Object.keys(Ae),Ue=0;Ue<Fe.length;Ue++)Ae[Fe[Ue]].forEach(function(je){void 0!==je&&me(je)})}catch(je){f.error(je)}}function k(re,me,Z){try{return re-me>Z}catch(K){return f.error(K),!1}}function ne(re,me){try{var Z=F.getTime(),K=re.id;if(me===e.Z.EVENT_MODE_ON_RECEIVE&&!re.triggeredReceivedEvent)return f.debug("Received event ".concat(K)),re.triggeredReceivedEvent=!0,void Ee.trigger(re.eventStream.schemeIdUri,{event:re},{mode:me});re.triggeredStartEvent||(re.eventStream.schemeIdUri===U&&1==re.eventStream.value?0===re.duration&&0===re.presentationTimeDelta||(f.debug("Starting manifest refresh event ".concat(K," at ").concat(Z)),function(){try{Te(),R.refreshManifest()}catch(Ae){f.error(Ae)}}()):"urn:mpeg:dash:event:callback:2015"===re.eventStream.schemeIdUri&&1==re.eventStream.value?(f.debug("Starting callback event ".concat(K," at ").concat(Z)),function(Ae){try{(0,kt.Z)(de).create({}).load({method:"get",url:Ae,request:{responseType:"arraybuffer"}})}catch(Fe){f.error(Fe)}}(re.messageData)):(f.debug("Starting event ".concat(K," from period ").concat(re.eventStream.period.id," at ").concat(Z)),Ee.trigger(re.eventStream.schemeIdUri,{event:re},{mode:me})),re.triggeredStartEvent=!0)}catch(Ae){f.error(Ae)}}return h={addInlineEvents:function(re,me){try{if(Te(),v[me]||(v[me]={}),re)for(var Z=0;Z<re.length;Z++){var K=re[Z];if(!k(F.getTime(),isNaN(K.duration)?0:K.duration,K.calculatedPresentationTime)){var Ae=N(K,v[me],!0);Ae===Se?(f.debug("Added inline event with id ".concat(K.id," from period ").concat(me)),ne(K,e.Z.EVENT_MODE_ON_RECEIVE)):Ae===X&&f.debug("Updated inline event with id ".concat(K.id," from period ").concat(me))}}}catch(Fe){throw Fe}},addInbandEvents:function(re,me){try{Te(),P[me]||(P[me]={});for(var Z=0;Z<re.length;Z++){var K=re[Z];k(F.getTime(),isNaN(K.duration)?0:K.duration,K.calculatedPresentationTime)||(N(K,P[me],!1)===Se?(K.eventStream.schemeIdUri===U&&H(K),f.debug("Added inband event with id ".concat(K.id," from period ").concat(me)),ne(K,e.Z.EVENT_MODE_ON_RECEIVE)):f.debug("Inband event with scheme_id_uri ".concat(K.eventStream.schemeIdUri,", value ").concat(K.eventStream.value,", period id ").concat(me," and event id ").concat(K.id," was ignored because it has been added before.")))}ge()}catch(Ae){throw Ae}},getInbandEvents:function(){return P},getInlineEvents:function(){return v},start:function(){try{Te(),f.debug("Start Event Controller");var re=W.get().streaming.eventControllerRefreshDelay;Q||isNaN(re)||(Q=!0,L=setInterval(ge,re))}catch(me){throw me}},setConfig:function(re){try{if(!re)return;re.manifestUpdater&&(R=re.manifestUpdater),re.playbackController&&(F=re.playbackController),re.settings&&(W=re.settings)}catch(me){throw me}},reset:function(){(function(){try{null!==L&&Q&&(clearInterval(L),L=null,Q=!1,function(){try{Y(P),Y(v)}catch(re){f.error(re)}}())}catch(re){throw re}})(),q()}},f=(0,y.Z)(de).getInstance().getLogger(h),q(),h}ta.__dashjs_factory_name="EventController";const mo=o.Z.getSingletonFactory(ta),Dr={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function wi(h,f){(null==f||f>h.length)&&(f=h.length);for(var v=0,P=new Array(f);v<f;v++)P[v]=h[v];return P}function na(){var h,f,v,P,L,M,R,F,W,te,Q,U,$,X,Se,de,Ee,Te,q,ge,oe,he,N,H,Y,B,k,ne,re,me,Z,K,Ae,Fe,Ue,je,Me,Ye,dt,it,ot,bt,Pt,xe,_e,He,De,ze,Xe=this.context,$e=(0,c.Z)(Xe).getInstance();function gt(){if(!(M&&M.hasOwnProperty("load")&&oe&&oe.hasOwnProperty("initialize")&&oe.hasOwnProperty("reset")&&oe.hasOwnProperty("getClientTimeOffset")&&R&&ge&&W&&Ae))throw new Error(r.Z.MISSING_CONFIG_ERROR)}function qt(){!function(){try{var rt=F.getStreamsInfo();if(!N&&0===rt.length)throw new Error("There are no periods in the MPD");N&&rt.length>0&&W.updateManifestUpdateInfo({currentTime:Ae.getTime(),buffered:K.getBufferRange(),presentationStartTime:rt[0].start,clientTimeOffset:oe.getClientTimeOffset()}),he.length>0&&(0!==(pn=rt).length?he=he.filter(function(an){var Mn=pn.filter(function(Rn){return Rn.id===an.getId()}).length>0||an.getId()===N.getId();return Mn||(f.debug("Removing stream ".concat(an.getId())),an.reset(!0)),Mn}):f.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects."));for(var It=[],Wt=0,tn=rt.length;Wt<tn;Wt++){var hn=rt[Wt];It.push(Bt(hn)),W.addManifestUpdateStreamInfo(hn)}Promise.all(It).then(function(){return new Promise(function(pn,an){N?pn():Kt(rt,pn,an)})}).then(function(){$e.trigger(i.Z.STREAMS_COMPOSED),Ft()}).catch(function(pn){throw pn})}catch(pn){ge.error(new O.Z(g.MANIFEST_ERROR_ID_NOSTREAMS_CODE,pn.message+" nostreamscomposed",R.getValue())),me=!0,xr()}var pn}()}function zt(){_e=!0}function Bt(rt){var It=Kr(rt.id);return It?It.updateData(rt):(It=ai(Xe).create({manifestModel:R,mediaPlayerModel:Ue,dashMetrics:W,manifestUpdater:L,adapter:F,timelineConverter:oe,capabilities:v,capabilitiesFilter:P,errHandler:ge,baseURLController:$,segmentBaseController:X,textController:Y,abrController:de,playbackController:Ae,eventController:Te,mediaController:Ee,protectionController:H,videoModel:K,streamInfo:rt,settings:xe}),he.push(It),It.initialize(),Promise.resolve())}function Kt(rt,It,Wt){try{et();var tn=W.getCurrentDVRInfo().range;if(tn.end<tn.start){He&&clearTimeout(He);var hn=Math.min(1e3*(-1*(tn.end-tn.start)+2),2147483647);return f.debug("Waiting for ".concat(hn," ms before playback can start")),$e.trigger(i.Z.AST_IN_FUTURE,{delay:hn}),void(He=setTimeout(function(){Kt(rt,It,Wt)},hn))}xe.get().streaming.applyProducerReferenceTime&&Fe.calculateProducerReferenceTimeOffsets(rt);var pn=rt[0].manifestInfo;if(xe.get().streaming.applyServiceDescription&&Fe.applyServiceDescription(pn),F.getIsDynamic()){var an=Cr(rt,pn);Ae.computeAndSetLiveDelay(an,pn)}(xe.get().streaming.applyContentSteering&&U.shouldQueryBeforeStart()?U.loadSteeringData():Promise.resolve()).then(function(){var Mn=R.getValue();Mn&&$.update(Mn),Xt(),It()}).catch(function(Mn){f.error(Mn),Xt(),It()})}catch(Mn){Wt(Mn)}}function Xt(){var rt=function(){var tn;if(F.getIsDynamic()){var hn=W.getCurrentDVRInfo();tn=(hn&&hn.range?hn.range.end:0)-Ae.getOriginalLiveDelay();var pn=hn?hn.range:null;if(pn){if(isNaN(De)&&-1===De.toString().indexOf("posix:")){var an=nr(!0);isNaN(an)||(f.info("Start time from URI parameters: ".concat(an)),tn=Math.min(tn,an))}else{f.info("Start time provided by the app: ".concat(De));var Mn=Kn(!0,De);isNaN(Mn)||(tn=Math.min(tn,Mn))}var Rn=xe.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;tn=Math.max(tn,pn.start+Rn)}}else if(tn=Xr()[0].getStreamInfo().start,isNaN(De)){var yr=nr(!1);isNaN(yr)||(f.info("Start time from URI parameters: ".concat(yr)),tn=Math.max(tn,yr))}else{f.info("Start time provided by the app: ".concat(De));var Fr=Kn(!1,De);isNaN(Fr)||(tn=Math.max(tn,Fr))}return tn}(),It=Zt(rt),Wt=null!==It?It:he[0];$e.trigger(i.Z.INITIAL_STREAM_SWITCH,{startTime:rt}),sn(Wt,null,rt),it||(it=setInterval(function(){!ne&&Ae.getTimeToStreamEnd()<=0&&!Ae.isSeeking()&&$e.trigger(i.Z.PLAYBACK_ENDED,{isLast:Ir().isLast})},200))}function sn(rt,It,Wt){try{if(ne||!rt||It===rt&&rt.getIsActive())return;ne=!0,$e.trigger(i.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:It?It.getStreamInfo():null,toStreamInfo:rt.getStreamInfo()});var tn=!1;N=rt,It&&(tn=jt(rt,It),It.deactivate(tn)),Wt=isNaN(Wt)?!tn&&It?rt.getStreamInfo().start:NaN:Wt,f.info("Switch to stream ".concat(rt.getId(),". Seektime is ").concat(Wt,", current playback time is ").concat(Ae.getTime(),". Seamless period switch is set to ").concat(tn)),bt=bt.filter(function(hn){return hn.getId()!==N.getId()}),Ae.initialize(Ir(),!!It),K.getElement()?dn(Wt,tn,!1):rn(Wt,tn)}catch{ne=!1}}function dn(rt,It){var Wt,tn=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function hn(){if(Z&&"open"===Z.readyState){f.debug("MediaSource is open!"),window.URL.revokeObjectURL(Wt),Z.removeEventListener("sourceopen",hn),Z.removeEventListener("webkitsourceopen",hn),wn();var an=W.getCurrentDVRInfo();te.setSeekable(an.range.start,an.range.end),tn?(isNaN(rt)||Ae.seek(rt,!0,!0),N.setMediaSource(Z).then(function(){N.initializeForTextWithMediaSource(Z)})):rn(rt,It)}}function pn(){Z.addEventListener("sourceopen",hn,!1),Z.addEventListener("webkitsourceopen",hn,!1),Wt=te.attachMediaSource(K),f.debug("MediaSource attached to element.  Waiting on open...")}Z?It?rn(rt,It):(te.detachMediaSource(K),pn()):(Z=te.createMediaSource(),pn())}function rn(rt,It){N.activate(Z,It?ot:void 0,rt).then(function(Wt){if(Wt){var tn=Object.keys(Wt);tn.length>0&&Wt[tn[0]].getBuffer().changeType&&(Pt=!0),ot=Wt}isNaN(rt)||($e.trigger(i.Z.SEEK_TARGET,{time:rt},{streamId:N.getId()}),Ae.seek(rt,!1,!0),N.startScheduleControllers()),ne=!1,$e.trigger(i.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Ir()})})}function gn(rt){var Wt,tn,hn,pn,It=Zt(rt.seekTime);It&&It!==N?It&&It!==N&&(un(),tn=It,hn=(Wt=rt)&&!isNaN(Wt.seekTime)?Wt.seekTime:NaN,pn=N.getProcessors().map(function(an){return an.prepareOuterPeriodPlaybackSeeking(Wt)}),Promise.all(pn).then(function(){sn(tn,N,hn)}).catch(function(an){ge.error(an)})):(un(),function(Wt){N.getProcessors().forEach(function(tn){return tn.prepareInnerPeriodPlaybackSeeking(Wt)}),pr(Ve.USER_REQUEST_STOP_REASON)}(rt)),br(Ce.SEEK_START_REASON)}function un(){mn()}function mn(){bt&&bt.length>0&&(bt.forEach(function(rt){rt.deactivate(!0)}),bt=[])}function pt(rt){rt.newMediaInfo.streamInfo.id===N.getId()&&(mn(),N.prepareTrackChange(rt))}function jt(rt,It){try{return xe.get().streaming.buffer.reuseExistingSourceBuffers&&(It.isProtectionCompatible(rt)||_e)&&(Pt&&xe.get().streaming.buffer.useChangeTypeForTrackSwitch||It.isMediaCodecCompatible(rt,It))}catch{return!1}}function Ht(rt){var It=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Z&&!rt.getPreloaded()&&jt(rt,It)&&rt.startPreloading(Z,ot).then(function(){bt.push(rt)})}function Zt(rt){if(isNaN(rt))return null;for(var It=he.length,Wt=0;Wt<It;Wt++){var tn=he[Wt];if(rt<parseFloat((tn.getStartTime()+tn.getDuration()).toFixed(5)))return tn}return null}function et(){try{var rt=F.getIsDynamic(),It=F.getStreamsInfo()[0].manifestInfo,Wt=Ae.getTime(),tn=oe.calcTimeShiftBufferWindow(he,rt),hn=Cn();if(void 0===tn.start||void 0===tn.end)return;hn&&0!==hn.length?hn.forEach(function(pn){W.addDVRInfo(pn.getType(),Wt,It,tn)}):W.addDVRInfo(r.Z.VIDEO,Wt,It,tn)}catch{}}function Et(rt){if(Ye&&k){var It=Ue.getInitialBufferLevel(),Wt=[r.Z.TEXT];(isNaN(It)||It<=Ae.getBufferLevel(Wt)||F.getIsDynamic()&&It>Ae.getLiveDelay())&&(Ye=!1,br(Ce.INITIAL_PLAYOUT_START_REASON),Ae.play())}rt&&rt.mediaType&&W.addBufferLevel(rt.mediaType,new Date,1e3*rt.bufferLevel)}function Je(rt){rt.streamInfo.id===N.getId()&&rt.reason&&rt.reason.forceReplace&&mn(),Kr(rt.streamInfo.id).prepareQualityChange(rt)}function Ze(){if(F.getIsDynamic()&&0!==Ae.getOriginalLiveDelay()&&N){var rt=F.getStreamsInfo();if(rt.length>0){var It=rt[0].manifestInfo,Wt=Cr(rt,It);Ae.computeAndSetLiveDelay(Wt,It)}}}function ve(){if(hr()){var rt=K.getPlaybackQuality();rt&&W.addDroppedFrames(rt)}}function We(){f.debug("[onPlaybackStarted]"),!Ye&&Me&&br(Ce.RESUME_FROM_PAUSE_START_REASON),Ye&&(Ye=!1),dt&&(dt=!1,xe.get().streaming.applyContentSteering&&!U.shouldQueryBeforeStart()&&U.loadSteeringData()),Me=!1}function lt(rt){f.debug("[onPlaybackPaused]"),rt.ended||(Me=!0,pr(Ve.USER_REQUEST_STOP_REASON))}function Nt(rt){f.debug("Stream with id ".concat(rt.streamInfo.id," finished buffering")),Z&&rt.streamInfo.isLast?(f.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),te.signalEndOfStream(Z)):Ft()}function Ft(){if(N&&N.getHasFinishedBuffering())for(var rt=function(){var hn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var pn=hn||N||null;if(pn){var an=pn.getStreamInfo();return he.filter(function(Mn){var Rn=Mn.getStreamInfo();return Rn.start>an.start&&an.id!==Rn.id})}}catch{return[]}}(N),It=0;It<rt.length;){var Wt=rt[It],tn=0===It?N:rt[It-1];!Wt.getPreloaded()&&tn.getHasFinishedBuffering()&&Z&&Ht(Wt,tn),It+=1}}function on(){it&&(clearInterval(it),it=null)}function Cn(){return N?N.getProcessors():[]}function er(rt){if(N&&!N.getIsEndedEventSignaled()){N.setIsEndedEventSignaled(!0);var It=function(){var tn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||N||null;if(!tn)return null;for(var hn=tn.getStreamInfo(),pn=hn.start,an=0,Mn=-1,Rn=NaN;an<he.length;){var yr=he[an].getStreamInfo(),Fr=yr.start-pn;Fr>0&&(isNaN(Rn)||Fr<Rn)&&hn.id!==yr.id&&(Rn=Fr,Mn=an),an+=1}return Mn>=0?he[Mn]:null}();It?(f.debug("StreamController onEnded, found next stream with id ".concat(It.getStreamInfo().id,". Switching from ").concat(N.getStreamInfo().id," to ").concat(It.getStreamInfo().id)),sn(It,N,NaN)):(f.debug("StreamController no next stream found"),N.setIsEndedEventSignaled(!1)),pr(It?Ve.END_OF_PERIOD_STOP_REASON:Ve.END_OF_CONTENT_STOP_REASON)}rt&&rt.isLast&&(on(),U.stopSteeringRequestTimer())}function wn(rt){var It=rt||Ir().manifestInfo.duration;te.setDuration(It)}function nr(rt){var It=Se.getURIFragmentData();if(!It||!It.t)return NaN;var Wt=Xr()[0].getStreamInfo().start;return It.t=It.t.split(",")[0],mr(rt,It.t,Wt)}function Kn(rt,It){var Wt=0;return rt||(Wt=Xr()[0].getStreamInfo().start),mr(rt,It,Wt)}function mr(rt,It,Wt){var tn=F.getRegularPeriods()[0],hn=It.toString(),pn=-1!==hn.indexOf("posix:")?"now"===hn.substring(6)?Date.now()/1e3:parseFloat(hn.substring(6)):NaN;return rt&&!isNaN(pn)?oe.calcPresentationTimeFromWallTime(new Date(1e3*pn),tn):parseFloat(hn)+Wt}function Cr(rt,It){try{var Wt=NaN;if(It&&!isNaN(It.maxFragmentDuration)&&isFinite(It.maxFragmentDuration))return It.maxFragmentDuration;if(rt&&1===rt.length){var tn=rt[0],hn=[r.Z.VIDEO,r.Z.AUDIO,r.Z.TEXT].reduce(function(an,Mn){var Rn=F.getMediaInfoForType(tn,Mn);return Rn&&!1!==Rn.isFragmented&&an.push(Rn),an},[]).reduce(function(an,Mn){var Rn=F.getVoRepresentations(Mn);return Rn&&Rn.length>0&&Rn.forEach(function(yr){yr&&an.push(yr)}),an},[]).reduce(function(an,Mn){var Rn=F.convertRepresentationToRepresentationInfo(Mn);return Rn&&Rn.fragmentDuration&&!isNaN(Rn.fragmentDuration)&&an.push(Rn.fragmentDuration),an},[]);Wt=Math.max.apply(Math,function(an){if(Array.isArray(an))return wi(an)}(pn=hn)||function(an){if(typeof Symbol<"u"&&Symbol.iterator in Object(an))return Array.from(an)}(pn)||function(an,Mn){if(an){if("string"==typeof an)return wi(an,void 0);var Rn=Object.prototype.toString.call(an).slice(8,-1);return"Object"===Rn&&an.constructor&&(Rn=an.constructor.name),"Map"===Rn||"Set"===Rn?Array.from(an):"Arguments"===Rn||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Rn)?wi(an,void 0):void 0}}(pn)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}return isFinite(Wt)?Wt:NaN}catch{return NaN}var pn}function cr(rt){if(rt.error)me=!0,xr();else{f.info("Manifest updated... updating data system wide.");var It=rt.manifest;F.updatePeriods(It);var Wt=F.getUTCTimingSources();!F.getIsDynamic()||Wt&&0!==Wt.length||$e.trigger(e.Z.CONFORMANCE_VIOLATION,{level:Dr.LEVELS.WARNING,event:Dr.EVENTS.NO_UTC_TIMING_ELEMENT});var tn=F.getIsDynamic()?Wt.concat(je.getUTCTimingSources()):Wt;P.filterUnsupportedFeatures(It).then(function(){$.initialize(It),Q.attemptSync(tn,F.getIsDynamic())})}}function hr(){return!!N&&N.getHasVideoTrack()}function or(){return!!N&&N.getHasAudioTrack()}function pr(rt,It){It=It||new Date,Cn().forEach(function(Wt){Wt.finalisePlayList(It,rt)}),W.addPlayList()}function br(rt){W.createPlaylistMetrics(1e3*Ae.getTime(),rt)}function Ar(rt){if(rt.error){var It="";switch(rt.error.code){case 1:It="MEDIA_ERR_ABORTED";break;case 2:It="MEDIA_ERR_NETWORK";break;case 3:It="MEDIA_ERR_DECODE",ze.counts.mediaErrorDecode+=1;break;case 4:It="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:It="MEDIA_ERR_ENCRYPTED";break;default:It="UNKNOWN"}"MEDIA_ERR_DECODE"===It&&xe.get().errors.recoverAttempts.mediaErrorDecode>=ze.counts.mediaErrorDecode?function(){f.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Wt=Ae.getTime();N.deactivate(!1),f.warn("MediaSource has been resetted. Resuming playback from time ".concat(Wt)),dn(Wt,!1,!1)}():(re=!0,rt.error.message&&(It+=" ("+rt.error.message+")"),rt.error.msExtendedCode&&(It+=" (0x"+(rt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),f.fatal("Video Element Error: "+It),rt.error&&f.fatal(rt.error),ge.error(new O.Z(rt.error.code,It)),xr())}}function Ir(){return N?N.getStreamInfo():null}function Kr(rt){for(var It=0,Wt=he.length;It<Wt;It++)if(he[It].getId()===rt)return he[It];return null}function Ti(rt){isNaN(rt.newDuration)||wn(rt.newDuration)}function Lr(){he=[],De=NaN,H=null,ne=!1,N=null,re=!1,me=!1,Ye=!0,dt=!0,Me=!1,k=!0,it=null,_e=!1,Pt=!1,bt=[],He=null,ze={counts:{mediaErrorDecode:0}}}function xr(){gt(),Q.reset(),pr(re||me?Ve.FAILURE_STOP_REASON:Ve.USER_REQUEST_STOP_REASON);for(var rt=0,It=he?he.length:0;rt<It;rt++)he[rt].reset(re);$e.off(e.Z.PLAYBACK_TIME_UPDATED,ve,h),$e.off(e.Z.PLAYBACK_SEEKING,gn,h),$e.off(e.Z.PLAYBACK_ERROR,Ar,h),$e.off(e.Z.PLAYBACK_STARTED,We,h),$e.off(e.Z.PLAYBACK_PAUSED,lt,h),$e.off(e.Z.PLAYBACK_ENDED,er,h),$e.off(e.Z.METRIC_ADDED,Wr,h),$e.off(e.Z.MANIFEST_VALIDITY_CHANGED,Ti,h),$e.off(e.Z.BUFFER_LEVEL_UPDATED,Et,h),$e.off(e.Z.QUALITY_CHANGE_REQUESTED,Je,h),i.Z.KEY_SESSION_UPDATED&&$e.off(i.Z.KEY_SESSION_UPDATED,zt,h),$e.off(i.Z.MANIFEST_UPDATED,cr,h),$e.off(i.Z.STREAM_BUFFERING_COMPLETED,Nt,h),$e.off(i.Z.TIME_SYNCHRONIZATION_COMPLETED,qt,h),$e.off(i.Z.CURRENT_TRACK_CHANGED,pt,h),$e.off(i.Z.SETTING_UPDATED_LIVE_DELAY,Ze,h),$e.off(i.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ze,h),$.reset(),L.reset(),Te.reset(),W.clearAllCurrentMetrics(),R.setValue(null),M.reset(),oe.reset(),q.reset(),Z&&(te.detachMediaSource(K),Z=null),K=null,H&&(H=null,B=null,R.getValue()&&$e.trigger(i.Z.PROTECTION_DESTROYED,{data:R.getValue().url})),on(),$e.trigger(i.Z.STREAM_TEARDOWN_COMPLETE),Lr()}function Wr(rt){if(rt.metric===d.Z.DVR_INFO){var It=or()?r.Z.AUDIO:r.Z.VIDEO;rt.mediaType===It&&te.setSeekable(rt.value.range.start,rt.value.range.end)}}function Xr(){return he}return h={initialize:function(rt,It){gt(),k=rt,B=It,oe.initialize(),(L=oi(Xe).create()).setConfig({manifestModel:R,adapter:F,manifestLoader:M,errHandler:ge,settings:xe,contentSteeringController:U}),L.initialize(),(Te=mo(Xe).getInstance()).setConfig({manifestUpdater:L,playbackController:Ae,settings:xe}),Te.start(),Q.setConfig({dashMetrics:W,baseURLController:$,errHandler:ge,settings:xe}),Q.initialize(),H&&($e.trigger(i.Z.PROTECTION_CREATED,{controller:H}),H.setMediaElement(K.getElement()),B&&H.setProtectionData(B)),$e.on(e.Z.PLAYBACK_TIME_UPDATED,ve,h),$e.on(e.Z.PLAYBACK_SEEKING,gn,h),$e.on(e.Z.PLAYBACK_ERROR,Ar,h),$e.on(e.Z.PLAYBACK_STARTED,We,h),$e.on(e.Z.PLAYBACK_PAUSED,lt,h),$e.on(e.Z.PLAYBACK_ENDED,er,h),$e.on(e.Z.METRIC_ADDED,Wr,h),$e.on(e.Z.MANIFEST_VALIDITY_CHANGED,Ti,h),$e.on(e.Z.BUFFER_LEVEL_UPDATED,Et,h),$e.on(e.Z.QUALITY_CHANGE_REQUESTED,Je,h),i.Z.KEY_SESSION_UPDATED&&$e.on(i.Z.KEY_SESSION_UPDATED,zt,h),$e.on(i.Z.MANIFEST_UPDATED,cr,h),$e.on(i.Z.STREAM_BUFFERING_COMPLETED,Nt,h),$e.on(i.Z.TIME_SYNCHRONIZATION_COMPLETED,qt,h),$e.on(i.Z.CURRENT_TRACK_CHANGED,pt,h),$e.on(i.Z.SETTING_UPDATED_LIVE_DELAY,Ze,h),$e.on(i.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ze,h)},getActiveStreamInfo:Ir,addDVRMetric:et,hasVideoTrack:hr,hasAudioTrack:or,getStreamById:Kr,getStreamForTime:Zt,getTimeRelativeToStreamId:function(rt,It){for(var Wt=null,tn=0,hn=0,pn=null,an=0;an<he.length;an++){if(hn=(Wt=he[an]).getStartTime(),pn=Wt.getDuration(),Number.isFinite(hn)&&(tn=hn),Wt.getId()===It)return rt-tn;Number.isFinite(pn)&&(tn+=pn)}return null},load:function(rt){var It=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;gt(),De=It,M.load(rt)},loadWithManifest:function(rt){var It=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function At(){if(!L||!L.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),De=It,L.setManifest(rt)},getActiveStreamProcessors:Cn,setConfig:function(rt){rt&&(rt.capabilities&&(v=rt.capabilities),rt.capabilitiesFilter&&(P=rt.capabilitiesFilter),rt.manifestLoader&&(M=rt.manifestLoader),rt.manifestModel&&(R=rt.manifestModel),rt.mediaPlayerModel&&(Ue=rt.mediaPlayerModel),rt.customParametersModel&&(je=rt.customParametersModel),rt.protectionController&&(H=rt.protectionController),rt.adapter&&(F=rt.adapter),rt.dashMetrics&&(W=rt.dashMetrics),rt.errHandler&&(ge=rt.errHandler),rt.timelineConverter&&(oe=rt.timelineConverter),rt.videoModel&&(K=rt.videoModel),rt.playbackController&&(Ae=rt.playbackController),rt.serviceDescriptionController&&(Fe=rt.serviceDescriptionController),rt.contentSteeringController&&(U=rt.contentSteeringController),rt.textController&&(Y=rt.textController),rt.abrController&&(de=rt.abrController),rt.mediaController&&(Ee=rt.mediaController),rt.settings&&(xe=rt.settings),rt.baseURLController&&($=rt.baseURLController),rt.uriFragmentModel&&(Se=rt.uriFragmentModel),rt.segmentBaseController&&(X=rt.segmentBaseController))},setProtectionData:function(rt){B=rt,H&&H.setProtectionData(B)},getIsStreamSwitchInProgress:function(){return ne},switchToVideoElement:function(rt){N&&(Ae.initialize(Ir()),dn(rt,!1,!0))},getHasMediaOrInitialisationError:function(){return re||me},getStreams:Xr,getActiveStream:function(){return N},getInitialPlayback:function(){return Ye},getAutoPlay:function(){return k},reset:xr},f=(0,y.Z)(Xe).getInstance().getLogger(h),Q=fo(Xe).getInstance(),te=go(Xe).getInstance(),q=we(Xe).getInstance(),Lr(),h}na.__dashjs_factory_name="StreamController";const ra=o.Z.getSingletonFactory(na);function ia(){var h,f,v,P,L,M,R,F,W,te,Q,U,$=this.context,X=(0,c.Z)($).getInstance();function Se(){U.debug("Stopping the gap controller"),L&&(clearInterval(L),L=null),function(){X.off(i.Z.WALLCLOCK_TIME_UPDATED,ge,this),X.off(i.Z.INITIAL_STREAM_SWITCH,q,this),X.off(i.Z.PLAYBACK_SEEKING,de,this),X.off(i.Z.BUFFER_REPLACEMENT_STARTED,Ee,h),X.off(i.Z.TRACK_CHANGE_RENDERED,Te,h)}(),L=null,M=NaN,P=0,te=null,Q={}}function de(){te&&(clearTimeout(te),te=null)}function Ee(B){try{if(B.streamId!==F.getActiveStreamInfo().id||B.mediaType!==r.Z.VIDEO&&B.mediaType!==r.Z.AUDIO)return;B.streamId===F.getActiveStreamInfo().id&&(Q[B.mediaType]=!0)}catch(k){U.error(k)}}function Te(B){B&&B.mediaType&&(Q[B.mediaType]=!1)}function q(){L||function(){try{L||(U.debug("Starting the gap controller"),L=setInterval(function(){oe()&&Y(R.getTime())},100))}catch{}}()}function ge(){if(oe(v.get().streaming.gaps.enableSeekFix)&&++P>=10){var B=R.getTime();f===B?Y(B,!0):(f=B,M=NaN),P=0}}function oe(){var B=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!F.getActiveStream())return!1;var k=Object.keys(Q).some(function(re){return Q[re]}),ne=!!B&&function he(){var B=F.getActiveStream(),k=parseFloat((B.getStartTime()+B.getDuration()).toFixed(5));return R.getTime()+v.get().streaming.gaps.threshold>=k}();return!k&&v.get().streaming.gaps.jumpGaps&&F.getActiveStreamProcessors().length>0&&(!R.isSeeking()||ne)&&!R.isPaused()&&!F.getIsStreamSwitchInProgress()&&!F.getHasMediaOrInitialisationError()}function Y(B){var k,ne=arguments.length>1&&void 0!==arguments[1]&&arguments[1],re=v.get().streaming.gaps.enableStallFix,me=v.get().streaming.gaps.stallSeek,Z=v.get().streaming.gaps.smallGapLimit,K=v.get().streaming.gaps.jumpLargeGaps,Ae=W.getBufferRange(),Fe=NaN,Ue=!1;if(k=function N(B,k){try{if(!B||B.length<=1&&k>0)return NaN;for(var ne=NaN,re=0;isNaN(ne)&&re<B.length;){var me=re>0?B.end(re-1):0;k<B.start(re)&&me-k<v.get().streaming.gaps.threshold&&(ne=re),re+=1}return ne}catch{return null}}(Ae,B),!isNaN(k)){var je=Ae.start(k),Me=je-B;Me>0&&(Me<=Z||K)&&(Fe=je)}var Ye=R.getTimeToStreamEnd();if(isNaN(Fe)&&ne&&isFinite(Ye)&&!isNaN(Ye)&&Ye<Z&&(Fe=parseFloat(R.getStreamEndTime().toFixed(5)),Ue=!0),re&&isNaN(Fe)&&ne&&isNaN(k)&&function H(B,k){for(var ne=0,re=B.length;ne<re;ne++)if(k>=B.start(ne)&&k<=B.end(ne))return!0;return!1}(Ae,B)&&(0===me?(U.warn("Toggle play pause to break stall"),W.pause(),W.play()):(U.warn("Jumping ".concat(me,"s to break stall")),Fe=B+me)),Fe>0&&M!==Fe&&Fe>B&&!te){var dt=Fe-B;if(Ue){var it=F.getStreamForTime(Fe),ot=it&&!!it.getPreloaded();U.warn("Jumping to end of stream because of gap from ".concat(B," to ").concat(Fe,". Gap duration: ").concat(dt)),R.seek(Fe,!0,ot)}else{var bt=R.getIsDynamic(),Pt=k>0?Ae.end(k-1):B,xe=bt?1e3*Math.max(0,dt-.1):0;te=window.setTimeout(function(){R.seek(Fe,!0,!0),U.warn("Jumping gap occuring in period ".concat(F.getActiveStream().getStreamId()," starting at ").concat(Pt," and ending at ").concat(Fe,". Jumping by: ").concat(Fe-Pt)),te=null},xe)}M=Fe}}return h={reset:Se,setConfig:function(B){B&&(B.settings&&(v=B.settings),B.playbackController&&(R=B.playbackController),B.streamController&&(F=B.streamController),B.videoModel&&(W=B.videoModel))},initialize:function(){!function(){X.on(i.Z.WALLCLOCK_TIME_UPDATED,ge,this),X.on(i.Z.INITIAL_STREAM_SWITCH,q,this),X.on(i.Z.PLAYBACK_SEEKING,de,this),X.on(i.Z.BUFFER_REPLACEMENT_STARTED,Ee,h),X.on(i.Z.TRACK_CHANGE_RENDERED,Te,h)}()}},U=(0,y.Z)($).getInstance().getLogger(h),Se(),h}ia.__dashjs_factory_name="GapController";const ho=o.Z.getSingletonFactory(ia);function aa(){var h,f,v,P,L,M,R,F,W,te,Q=this.context,U=(0,c.Z)(Q).getInstance();function $(){f=!1;var he=cn.Z.parseUserAgent();v=he&&he.browser&&he.browser.name&&"safari"===he.browser.name.toLowerCase()}function X(){f=!1}function Se(he){if(he.streamId===M.getActiveStreamInfo().id&&W){var N=R.getLiveDelay();R.getBufferLevel()>N/2&&(W=!1)}}function de(he){he.streamId===M.getActiveStreamInfo().id&&(W=he.state===d.Z.BUFFER_EMPTY)}function Ee(){F.getCatchupModeEnabled()||P.setPlaybackRate(1)}function Te(){R.getIsDynamic()&&F.getCatchupModeEnabled()&&(F.getCatchupPlaybackRates().max>0||F.getCatchupPlaybackRates().min<0)&&!R.isPaused()&&!R.isSeeking()&&function(){try{return!(!R.getTime()>0||f)&&(ge()===r.Z.LIVE_CATCHUP_MODE_LOLP?function(he,N){try{return Math.abs(q())>0||he<N}catch{return!1}}(R.getBufferLevel(),L.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(q())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!f&&P){var he,N=P.getPlaybackRate(),H=F.getCatchupPlaybackRates(),Y=R.getBufferLevel(),B=q(),k=F.getCatchupMaxDrift();if(!isNaN(k)&&k>0&&B>k)te.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),f=!0,R.seekToCurrentLive(!0,!1);else{var ne=R.getCurrentLiveLatency(),re=R.getLiveDelay();he=ge()===r.Z.LIVE_CATCHUP_MODE_LOLP?function(Z,K,Ae,Fe,Ue){var je;if(Ue<Fe){var Me=Math.abs(Z.min);je=1-Me+2*Me/(1+Math.pow(Math.E,-5*(Ue-Fe))),te.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Ue+", newRate: "+je)}else{var dt=Z.max;je=Math.abs(K-Ae)<=.02*Ae?1:1-dt+2*dt/(1+Math.pow(Math.E,-5*(K-Ae))),te.debug("[LoL+ playback control_latency-based] latency: "+K+", newRate: "+je)}return je}(H,ne,re,L.get().streaming.liveCatchup.playbackBufferMin,Y):function(Z,K,Ae,Fe){if(W)return 1;var Ue=K-Ae,je=Ue<0?Math.abs(Z.min):Z.max,Ye=1-je+2*je/(1+Math.pow(Math.E,-5*Ue));return R.getPlaybackStalled()&&Fe<=Ae/2&&Ue>0&&(Ye=1),Ye}(H,ne,re,Y);var me=v?.25:.02/(.5/H.max);he&&Math.abs(N-he)>=me&&(te.debug("[CatchupController]: Setting playback rate to ".concat(he)),P.setPlaybackRate(he))}}}()}function q(){return R.getCurrentLiveLatency()-R.getLiveDelay()}function ge(){var he=L.get().streaming.liveCatchup.playbackBufferMin;return L.get().streaming.liveCatchup.mode!==r.Z.LIVE_CATCHUP_MODE_LOLP||null===he||isNaN(he)?r.Z.LIVE_CATCHUP_MODE_DEFAULT:r.Z.LIVE_CATCHUP_MODE_LOLP}function oe(){F.getCatchupPlaybackRates(!0)}return h={reset:function(){U.off(e.Z.BUFFER_LEVEL_UPDATED,Se,h),U.off(e.Z.BUFFER_LEVEL_STATE_CHANGED,de,h),U.off(e.Z.PLAYBACK_PROGRESS,Te,h),U.off(e.Z.PLAYBACK_TIME_UPDATED,Te,h),U.off(e.Z.PLAYBACK_SEEKED,X,h),U.off(i.Z.SETTING_UPDATED_CATCHUP_ENABLED,Ee,h),U.off(i.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,oe,h),U.off(i.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,oe,h),U.off(e.Z.STREAM_INITIALIZED,oe,h),$(),P.setPlaybackRate(1,!0)},setConfig:function(he){he&&(he.settings&&(L=he.settings),he.videoModel&&(P=he.videoModel),he.streamController&&(M=he.streamController),he.playbackController&&(R=he.playbackController),he.mediaPlayerModel&&(F=he.mediaPlayerModel))},initialize:function(){U.on(e.Z.BUFFER_LEVEL_UPDATED,Se,h),U.on(e.Z.BUFFER_LEVEL_STATE_CHANGED,de,h),U.on(e.Z.PLAYBACK_PROGRESS,Te,h),U.on(e.Z.PLAYBACK_TIME_UPDATED,Te,h),U.on(e.Z.PLAYBACK_SEEKED,X,h),U.on(i.Z.SETTING_UPDATED_CATCHUP_ENABLED,Ee,h),U.on(i.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,oe,h),U.on(i.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,oe,h),U.on(e.Z.STREAM_INITIALIZED,oe,h),oe()}},te=(0,y.Z)(Q).getInstance().getLogger(h),$(),h}aa.__dashjs_factory_name="CatchupController";const po=o.Z.getSingletonFactory(aa);var yo=[r.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME];function la(){var h,f,v,P,L;function R(){f={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},v=[]}function F(W,te,Q){try{f[W][te]=Q/1e3}catch(U){P.error(U)}}return h={getServiceDescriptionSettings:function(){return f},getProducerReferenceTimeOffsets:function(){return v},calculateProducerReferenceTimeOffsets:function(W){try{var te=[];if(W&&W.length>0){var Q=[r.Z.VIDEO,r.Z.AUDIO,r.Z.TEXT],U=L.getAvailabilityStartTime()/1e3;W.forEach(function($){var X=Q.reduce(function(Se,de){return Se.concat(L.getAllMediaInfoForType($,de))},[]).reduce(function(Se,de){return L.getProducerReferenceTimes($,de).forEach(function(Ee){var Te=L.getVoRepresentations(de);if(Te&&Te.length>0&&Te[0].adaptation&&Te[0].segmentInfoType===n.Z.SEGMENT_TEMPLATE){var q=Te[0],ge=new Date(Ee[n.Z.WALL_CLOCK_TIME]).getTime()/1e3-(Ee[n.Z.PRESENTATION_TIME]/q[n.Z.TIMESCALE]-q[n.Z.PRESENTATION_TIME_OFFSET]+$.start);Se.push({id:Ee[n.Z.ID],to:U-ge})}}),Se},[]);te=te.concat(X)})}v=te}catch($){P.error($),v=[]}},applyServiceDescription:function(W){if(W&&W.serviceDescriptions){var te=W.serviceDescriptions.filter(function($){return yo.includes($.schemeIdUri)}),Q=W.serviceDescriptions.filter(function($){return null==$.schemeIdUri}),U=te.length>0?te[te.length-1]:Q[Q.length-1];U&&(U.latency&&U.latency.target>0&&function($){var X,Te;if(X={liveDelay:(Te=$).latency.target/1e3,maxDrift:!isNaN(Te.latency.max)&&Te.latency.max>Te.latency.target?(Te.latency.max-Te.latency.target+500)/1e3:NaN,referenceId:Te.latency.referenceId||NaN},v.length>0){var Se=function(Te){var q,ge=0,oe=v.filter(function(he){return he.id===Te.referenceId});return 0===oe.length?(ge=v.length>0?v[0].to:0,q=v[0].id||NaN):(ge=oe[0].to||0,q=oe[0].id||NaN),{to:ge,id:q}}(X),de=Se.to,Ee=Se.id;f.liveDelay=X.liveDelay-de,f.liveCatchup.maxDrift=X.maxDrift,P.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(de," from ProducerReferenceTime element with id ").concat(Ee,".\n                Live Delay: ").concat(X.liveDelay-de,", Live catchup max drift: ").concat(X.maxDrift,"\n            "))}else f.liveDelay=X.liveDelay,f.liveCatchup.maxDrift=X.maxDrift,P.debug("Found latency properties coming from service description: Live Delay: ".concat(X.liveDelay,", Live catchup max drift: ").concat(X.maxDrift))}(U),U.playbackRate&&(X=($=U).playbackRate.min?Math.round(1e3*($.playbackRate.min-1))/1e3:NaN,Se=$.playbackRate.max?Math.round(1e3*($.playbackRate.max-1))/1e3:NaN,f.liveCatchup.playbackRate.min=X,f.liveCatchup.playbackRate.max=Se,P.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(X)),P.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(Se))),U.operatingBandwidth&&function($){if($&&$.operatingBandwidth&&$.operatingBandwidth.mediaType&&"all"!==$.operatingBandwidth.mediaType){var X={};X.minBandwidth=$.operatingBandwidth.min,X.maxBandwidth=$.operatingBandwidth.max,X.targetBandwidth=$.operatingBandwidth.target;var Se=[];"video"===$.operatingBandwidth.mediaType||"audio"===$.operatingBandwidth.mediaType?Se.push($.operatingBandwidth.mediaType):"any"===$.operatingBandwidth.mediaType&&(Se.push("audio"),Se.push("video")),Se.forEach(function(de){isNaN(X.minBandwidth)||F("minBitrate",de,X.minBandwidth),isNaN(X.maxBandwidth)||F("maxBitrate",de,X.maxBandwidth),isNaN(X.targetBandwidth)||F("initialBitrate",de,X.targetBandwidth)})}}(U),U.contentSteering&&function($){f.contentSteering=$.contentSteering}(U))}var $,X,Se},reset:function(){R()},setConfig:function(W){W&&W.adapter&&(L=W.adapter)}},P=(0,y.Z)(this.context).getInstance().getLogger(h),R(),h}la.__dashjs_factory_name="ServiceDescriptionController";const vo=o.Z.getSingletonFactory(la);var Eo=D(3973),si=D.n(Eo),ua=D(3039);function Ri(){var h,f,v,P,L,M,R,F,W=this.context,te=(0,c.Z)(W).getInstance();function Q(Z,K){return Z&&v[K]&&v[K][Z]?v[K][Z].list:[]}function U(Z,K){return Z&&v[K]&&v[K][Z]?v[K][Z].current:null}function $(Z){var K=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Z&&Z.streamInfo){var Ae=Z.type,Ue=Z.streamInfo.id,je=U(Ae,Ue);if(v[Ue]&&v[Ue][Ae]&&(v[Ue][Ae].current=Z,v[Ue][Ae].current&&(Ae!==r.Z.TEXT&&!de(Z,je)||Ae===r.Z.TEXT&&Z.isFragmented)&&te.trigger(i.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:je,newMediaInfo:Z,switchMode:P.get().streaming.trackSwitchMode[Ae]},{streamId:Ue}),!K)){var Me=function Te(Z){var K={lang:Z.lang,viewpoint:Z.viewpoint,roles:Z.roles,accessibility:Z.accessibility,audioChannelConfiguration:Z.audioChannelConfiguration};return K.lang||K.viewpoint||K.role&&K.role.length>0||K.accessibility&&K.accessibility.length>0||K.audioChannelConfiguration&&K.audioChannelConfiguration.length>0?K:null}(Z);if(!Me||!v[Ue][Ae].storeLastSettings)return;Me.roles&&(Me.role=Me.roles[0],delete Me.roles),Me.accessibility&&(Me.accessibility=Me.accessibility[0]),Me.audioChannelConfiguration&&(Me.audioChannelConfiguration=Me.audioChannelConfiguration[0]),M[Ae]=Me,F.setSavedMediaSettings(Ae,Me)}}}function X(Z,K){Z&&K&&(L[Z]=K)}function Se(Z){return Z?L[Z]:null}function de(Z,K){if(!Z&&!K)return!0;if(!Z||!K)return!1;var Ae=Z.id===K.id,Fe=Z.viewpoint===K.viewpoint,Ue=JSON.stringify(Z.viewpointsWithSchemeIdUri)===JSON.stringify(K.viewpointsWithSchemeIdUri),je=Z.lang===K.lang,Me=Z.codec===K.codec,Ye=Z.roles.toString()===K.roles.toString(),dt=JSON.stringify(Z.rolesWithSchemeIdUri)===JSON.stringify(K.rolesWithSchemeIdUri),it=Z.accessibility.toString()===K.accessibility.toString(),ot=JSON.stringify(Z.accessibilitiesWithSchemeIdUri)===JSON.stringify(K.accessibilitiesWithSchemeIdUri),bt=Z.audioChannelConfiguration.toString()===K.audioChannelConfiguration.toString(),Pt=JSON.stringify(Z.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(K.audioChannelConfigurationsWithSchemeIdUri);return Ae&&Me&&Fe&&Ue&&je&&Ye&&dt&&it&&ot&&bt&&Pt}function Ee(){v={},M={},L={audio:null,video:null,text:null}}function q(Z,K,Ae){var Fe=[];return Z.forEach(function(Ue){K(Ae,Ue)&&Fe.push(Ue)}),0!==Fe.length?Fe:Z}function ge(Z,K){return!Z.lang||Z.lang instanceof RegExp?K.lang.match(Z.lang):""!==K.lang&&(0,ua.extendedFilter)(K.lang,si()(Z.lang)).length>0}function oe(Z,K){return null==Z.index||K.index===Z.index}function he(Z,K){return!Z.viewpoint||Z.viewpoint===K.viewpoint}function N(Z,K){var Ae=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!Z.role||!!K.roles.filter(function(Ue){return Ue===Z.role})[0]||K.type===r.Z.AUDIO&&Ae}function H(Z,K){return Z.accessibility?!!K.accessibility.filter(function(Ae){return Ae===Z.accessibility})[0]:!K.accessibility.length}function Y(Z,K){return!Z.audioChannelConfiguration||!!K.audioChannelConfiguration.filter(function(Ae){return Ae===Z.audioChannelConfiguration})[0]}function B(Z){var K,Ae=0,Fe=[];return Z.forEach(function(Ue){(K=Math.max.apply(Math,Ue.bitrateList.map(function(je){return je.bandwidth})))>Ae?(Ae=K,Fe=[Ue]):K===Ae&&Fe.push(Ue)}),Fe}function k(Z){var K,Ae=1/0,Fe=[];return Z.forEach(function(Ue){var je=Ue.bitrateList.reduce(function(Me,Ye){var dt=Math.max(1,Ye.width*Ye.height);return Me+Ye.bandwidth/dt},0);(K=je/Ue.bitrateList.length)<Ae?(Ae=K,Fe=[Ue]):K===Ae&&Fe.push(Ue)}),Fe}function ne(Z){var K,Ae=0,Fe=[];return Z.forEach(function(Ue){(K=Ue.representationCount)>Ae?(Ae=K,Fe=[Ue]):K===Ae&&Fe.push(Ue)}),Fe}function re(Z,K){if(Z===r.Z.TEXT)return K[0];var Ae,Me,Ye,dt,Fe=P.get().streaming.selectionModeForInitialTrack,Ue=R.getCustomInitialTrackSelectionFunction();if(Ue&&"function"==typeof Ue)Ae=Ue(K);else switch(Fe){case r.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:Me=0,Ye=[],K.forEach(function(it){isNaN(it.selectionPriority)||(it.selectionPriority>Me?(Me=it.selectionPriority,Ye=[it]):it.selectionPriority===Me&&Ye.push(it))}),(dt=Ye).length>1&&(dt=B(dt)),dt.length>1&&(dt=ne(dt)),Ae=dt;break;case r.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Ae=function(je){var Me=B(je);return Me.length>1&&(Me=ne(Me)),Me}(K);break;case r.Z.TRACK_SELECTION_MODE_FIRST_TRACK:Ae=me(K);break;case r.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Ae=function(je){var Me=k(je);return Me.length>1&&(Me=B(Me)),Me}(K);break;case r.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:Ae=function(je){var Me=ne(je);return Me.length>1&&(Me=B(je)),Me}(K);break;default:f.warn("Track selection mode ".concat(Fe," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),Ae=me(K)}return Ae.length>0?Ae[0]:K[0]}function me(Z){return Z[0]}return h={setInitialMediaSettingsForType:function(Z,K){var Ae=M[Z]||Se(Z),Fe=Q(Z,K.id),Ue=[];Ae||X(Z,Ae=F.getSavedMediaSettings(Z)),Fe&&0!==Fe.length&&(Ae&&(Ue=q(Ue=Array.from(Fe),ge,Ae),Ue=q(Ue,oe,Ae),Ue=q(Ue,he,Ae),Z===r.Z.AUDIO&&M[Z]||(Ue=q(Ue,N,Ae)),Ue=q(Ue,H,Ae),Ue=q(Ue,Y,Ae)),0===Ue.length?$(re(Z,Fe),!0):$(Ue.length>1?re(Z,Ue):Ue[0]))},addTrack:function(Z){if(Z){var K=Z.type;if((Ae=K)===r.Z.AUDIO||Ae===r.Z.VIDEO||Ae===r.Z.TEXT||Ae===r.Z.IMAGE){var Ae,Fe=Z.streamInfo.id;v[Fe]||(v[Fe]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var Ue=v[Fe][K].list,je=0,Me=Ue.length;je<Me;++je)if(de(Ue[je],Z))return;Ue.push(Z)}}},getTracksFor:Q,getCurrentTrackFor:U,isCurrentTrack:function(Z){if(!Z)return!1;var K=Z.type,Ae=Z.streamInfo.id;return v[Ae]&&v[Ae][K]&&de(v[Ae][K].current,Z)},setTrack:$,selectInitialTrack:re,setInitialSettings:X,getInitialSettings:Se,getTracksWithHighestBitrate:B,getTracksWithHighestEfficiency:k,getTracksWithWidestRange:ne,isTracksEqual:de,matchSettings:function(Z,K){var Ae=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var Fe=!1;if(Z.lang){if(Z.lang instanceof RegExp)Fe=K.lang.match(Z.lang);else if(""!==K.lang){var Ue=si()(Z.lang);Ue&&(Fe=(0,ua.extendedFilter)(K.lang,Ue).length>0)}}else Fe=!0;var je=null==Z.index||K.index===Z.index,Me=!Z.viewpoint||Z.viewpoint===K.viewpoint,Ye=!Z.role||!!K.roles.filter(function(ot){return ot===Z.role})[0],dt=!Z.accessibility||!!K.accessibility.filter(function(ot){return ot===Z.accessibility})[0],it=!Z.audioChannelConfiguration||!!K.audioChannelConfiguration.filter(function(ot){return ot===Z.audioChannelConfiguration})[0];return Fe&&je&&Me&&(Ye||K.type===r.Z.AUDIO&&Ae)&&dt&&it}catch{return!1}},matchSettingsLang:ge,matchSettingsIndex:oe,matchSettingsViewPoint:he,matchSettingsRole:N,matchSettingsAccessibility:H,matchSettingsAudioChannelConfig:Y,saveTextSettingsDisabled:function(){F.setSavedMediaSettings(r.Z.TEXT,null)},setConfig:function(Z){Z&&(Z.domStorage&&(F=Z.domStorage),Z.settings&&(P=Z.settings),Z.customParametersModel&&(R=Z.customParametersModel))},reset:Ee},f=(0,y.Z)(W).getInstance().getLogger(h),Ee(),h}Ri.__dashjs_factory_name="MediaController";var ca=o.Z.getSingletonFactory(Ri);o.Z.updateSingletonFactory(Ri.__dashjs_factory_name,ca);const _o=ca;var fa=function h(f,v){(function(P,L){if(!(P instanceof L))throw new TypeError("Cannot call a class as a function")})(this,h),this.data={baseUrls:f||null,selectedIdx:v||NaN},this.children=[]};function da(){var h,f,v,P,M=Rt(this.context).getInstance();function R(Q,U,$){var X=F($);Q[U]?M.areEqual(X,Q[U].data.baseUrls)||(Q[U].data.baseUrls=X,Q[U].data.selectedIdx=NaN):Q[U]=new fa(X)}function F(Q){var U=v.getBaseURLsFromElement(Q),$=P.getSynthesizedBaseUrlElements(U);return $&&$.length>0&&(U=U.concat($)),U}function W(Q,U){var $=U||f;Q($.data),$.children&&$.children.forEach(function(X){return W(Q,X)})}function te(){f=new fa}return h={reset:te,update:function(Q){!function(U){!function(){if(!v||!v.hasOwnProperty("getBaseURLsFromElement")||!v.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var $=F(U);M.areEqual($,f.data.baseUrls)||(f.data.baseUrls=$,f.data.selectedIdx=NaN),U&&U.Period_asArray&&U.Period_asArray.forEach(function(X,Se){R(f.children,Se,X),X.AdaptationSet_asArray&&X.AdaptationSet_asArray.forEach(function(de,Ee){R(f.children[Se].children,Ee,de),de.Representation_asArray&&de.Representation_asArray.sort(v.getRepresentationSortFunction()).forEach(function(Te,q){R(f.children[Se].children[Ee].children,q,Te)})})})}(Q)},getForPath:function(Q){var U=f,$=[U.data];return Q&&Q.forEach(function(X){(U=U.children[X])&&$.push(U.data)}),$.filter(function(X){return X.baseUrls.length})},invalidateSelectedIndexes:function(Q){W(function(U){isNaN(U.selectedIdx)||Q===U.baseUrls[U.selectedIdx].serviceLocation&&(U.selectedIdx=NaN)})},setConfig:function(Q){Q.adapter&&(v=Q.adapter),Q.contentSteeringController&&(P=Q.contentSteeringController)},getBaseUrls:function(Q){return F(Q)}},te(),h}da.__dashjs_factory_name="BaseURLTreeModel";const To=o.Z.getClassFactory(da);function ga(h){var f=(h=h||{}).blacklistController;return{select:function(v){return v&&function(L){var M,R,F=0,W=[],te=0;if((R=L.sort(function(Q,U){var $=Q.dvb_priority-U.dvb_priority;return isNaN($)?0:$}).filter(function(Q,U,$){return!U||$[0].dvb_priority&&Q.dvb_priority&&$[0].dvb_priority===Q.dvb_priority})).length)return R.length>1&&(R.forEach(function(Q){W.push(F+=Q.dvb_weight)}),M=Math.floor(Math.random()*(F-1)),W.every(function(Q,U){return te=U,!(M<Q)})),R[te]}((P=[],v.filter(function(L){return!f.contains(L.serviceLocation)||(L.dvb_priority&&P.push(L.dvb_priority),!1)}).filter(function(L){return!P.length||!L.dvb_priority||-1===P.indexOf(L.dvb_priority)})));var P}}}ga.__dashjs_factory_name="DVBSelector";const So=o.Z.getClassFactory(ga);function ma(h){var f=(h=h||{}).blacklistController;return{select:function(v){var P,L=0;return v&&v.some(function(M,R){return L=R,!f.contains(M.serviceLocation)})&&(P=v[L]),P}}}ma.__dashjs_factory_name="BasicSelector";const bo=o.Z.getClassFactory(ma);function ha(){var h,f,v;function L(){for(var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],F=0,W=NaN,te=function(){var U=M[F],$=R.findIndex(function(X){return X.serviceLocation&&X.serviceLocation===U});if(-1!==$&&!v.contains(R[$].serviceLocation))return W=$,"break";F+=1};F<M.length&&"break"!==te(););return W}return h={selectBaseUrlIndex:function(M){var R=NaN;if(isNaN(M.selectedIdx)){var F=f.getSteeringDataFromManifest();F&&F.defaultServiceLocationArray.length>0&&(R=L(F.defaultServiceLocationArray,M.baseUrls))}var W=f.getCurrentSteeringResponseData();return M.baseUrls&&M.baseUrls.length&&W&&W.pathwayPriority&&W.pathwayPriority.length&&(R=L(W.pathwayPriority,M.baseUrls)),R},setConfig:function(M){M.blacklistController&&(v=M.blacklistController),M.contentSteeringController&&(f=M.contentSteeringController)}},f=Tr(this.context).getInstance(),h}ha.__dashjs_factory_name="ContentSteeringSelector";const Ao=o.Z.getClassFactory(ha);function pa(){var h,f,v,P,L,M,R=this.context,F=(0,c.Z)(R).getInstance(),W=(0,ue.Z)(R).getInstance();function te(){f.reset()}return h={chooseSelector:function(Q){(0,z.PS)(Q,"boolean"),M=Q?P:v},select:function(Q){if(Q){if(W.get().streaming.applyContentSteering){var U=L.selectBaseUrlIndex(Q);isNaN(U)||-1===U||(Q.selectedIdx=U)}if(!isNaN(Q.selectedIdx))return Q.baseUrls[Q.selectedIdx];var $=M.select(Q.baseUrls);return $?(Q.selectedIdx=Q.baseUrls.indexOf($),$):(F.trigger(i.Z.URL_RESOLUTION_FAILED,{error:new O.Z(g.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,g.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(M===v&&te()))}},reset:te,setConfig:function(Q){Q.selector&&(M=Q.selector),Q.contentSteeringSelector&&(L=Q.contentSteeringSelector)}},f=Hr(R).create({updateEventName:i.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:i.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),v=bo(R).create({blacklistController:f}),P=So(R).create({blacklistController:f}),(L=Ao(R).create()).setConfig({blacklistController:f}),M=v,h}pa.__dashjs_factory_name="BaseURLSelector";const Io=o.Z.getClassFactory(pa);function ya(){var h,f,v,P,L,M=this.context,R=(0,c.Z)(M).getInstance(),F=(0,Le.Z)(M).getInstance();function W(Q){v.update(Q),P.chooseSelector(f.getIsDVB(Q)),R.trigger(e.Z.BASE_URLS_UPDATED,{baseUrls:te(Q)})}function te(Q){return v.getBaseUrls(Q)}return h={reset:function(){v.reset(),P.reset()},initialize:function(Q){v.setConfig({adapter:f,contentSteeringController:L}),W(Q)},resolve:function(Q){var U=v.getForPath(Q).reduce(function($,X){var Se=P.select(X);return Se?(F.isRelative(Se.url)?$.url=F.resolve(Se.url,$.url):($.url=Se.url,$.serviceLocation=Se.serviceLocation),$.availabilityTimeOffset=Se.availabilityTimeOffset,$.availabilityTimeComplete=Se.availabilityTimeComplete,$.queryParams=Se.queryParams,$):new rr},new rr);if(!F.isRelative(U.url))return U},setConfig:function(Q){Q.baseURLTreeModel&&(v=Q.baseURLTreeModel),Q.baseURLSelector&&(P=Q.baseURLSelector),Q.adapter&&(f=Q.adapter),Q.contentSteeringController&&(L=Q.contentSteeringController)},getBaseUrls:te,update:W},v=To(M).create(),P=Io(M).create(),R.on(i.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(Q){v.invalidateSelectedIndexes(Q.entry)},h),h}ya.__dashjs_factory_name="BaseURLController";const wo=o.Z.getClassFactory(ya);function Ni(h){return(Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function Ci(h,f){return(Ci=Object.setPrototypeOf||function(v,P){return v.__proto__=P,v})(h,f)}function ui(h){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}const va=function(h){!function(M,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&Ci(M,R)}(L,h);var f,v,P=(f=L,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,R=ui(f);if(v){var F=ui(this).constructor;M=Reflect.construct(R,arguments,F)}else M=R.apply(this,arguments);return function Ro(h,f){return!f||"object"!==Ni(f)&&"function"!=typeof f?function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(h):f}(this,M)});function L(M,R){var F;return function(W,te){if(!(W instanceof te))throw new TypeError("Cannot call a class as a function")}(this,L),(F=P.call(this)).url=M||null,F.type=R||null,F.mediaType=r.Z.STREAM,F.responseType="",F}return L}(T.Z);function Ea(h){h=h||{};var f=this.context,v=(0,c.Z)(f).getInstance(),P=Jn(f).create({errHandler:h.errHandler,dashMetrics:h.dashMetrics,mediaPlayerModel:h.mediaPlayerModel,requestModifier:h.requestModifier,errors:g});return{load:function(L,M,R){var F=function(te,Q){M.resolved=!0,M.resolvedContent=te||null,v.trigger(i.Z.XLINK_ELEMENT_LOADED,{element:M,resolveObject:R,error:te||Q?null:new O.Z(g.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,g.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+L)})};if("urn:mpeg:dash:resolve-to-zero:2013"===L)F(null,!0);else{var W=new va(L,w.w.XLINK_EXPANSION_TYPE);P.load({request:W,success:function(te){F(te)},error:function(){F(null)}})}},reset:function(){P&&(P.abort(),P=null)}}}Ea.__dashjs_factory_name="XlinkLoader";const No=o.Z.getClassFactory(Ea),_a=function(h){function f(q){var ge=q.localName;return null==ge&&(ge=q.baseName),null!=ge&&""!=ge||(ge=q.nodeName),ge}function v(q){return"string"==typeof q?q.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):q}function P(q,ge,oe,he){for(var N=0;N<q.length;N++){var H=q[N];if("string"==typeof H){if(H==he)break}else if(H instanceof RegExp){if(H.test(he))break}else if("function"==typeof H&&H(ge,oe,he))break}return N!=q.length}function L(q,ge,oe){"property"===h.arrayAccessForm&&(q[ge+"_asArray"]=q[ge]instanceof Array?q[ge]:[q[ge]]),!(q[ge]instanceof Array)&&h.arrayAccessFormPaths.length>0&&P(h.arrayAccessFormPaths,q,ge,oe)&&(q[ge]=[q[ge]])}function M(q){var ge=q.split(/[-T:+Z]/g),oe=new Date(ge[0],ge[1]-1,ge[2]),he=ge[5].split(".");if(oe.setHours(ge[3],ge[4],he[0]),he.length>1&&oe.setMilliseconds(he[1]),ge[6]&&ge[7]){var N=60*ge[6]+Number(ge[7]);N=0+("-"==(/\d\d-\d\d:\d\d$/.test(q)?"-":"+")?-1*N:N),oe.setMinutes(oe.getMinutes()-N-oe.getTimezoneOffset())}else-1!==q.indexOf("Z",q.length-1)&&(oe=new Date(Date.UTC(oe.getFullYear(),oe.getMonth(),oe.getDate(),oe.getHours(),oe.getMinutes(),oe.getSeconds(),oe.getMilliseconds())));return oe}function R(q,ge,oe,he){return!(1==ge&&h.xmlElementsFilter.length>0)||P(h.xmlElementsFilter,q,oe,he)}function F(q,ge){if(9==q.nodeType){for(var oe=new Object,he=q.childNodes,N=0;N<he.length;N++)1==(Y=he[N]).nodeType&&(h.ignoreRoot?oe=F(Y):(oe={})[B=f(Y)]=F(Y));return oe}if(1==q.nodeType){(oe=new Object).__cnt=0;var H=[];for(he=q.childNodes,N=0;N<he.length;N++){var Y,B=f(Y=he[N]);if(8!=Y.nodeType){var k=ge+"."+B;if(R(oe,Y.nodeType,B,k))if(oe.__cnt++,null==oe[B]){var ne=F(Y,k);("#text"!=B||/[^\s]/.test(ne))&&((re={})[B]=ne,H.push(re)),oe[B]=ne,L(oe,B,k)}else{var re;null!=oe[B]&&(oe[B]instanceof Array||(oe[B]=[oe[B]],L(oe,B,k))),ne=F(Y,k),("#text"!=B||/[^\s]/.test(ne))&&((re={})[B]=ne,H.push(re)),oe[B][oe[B].length]=ne}}}oe.__children=H;for(var me=f(q),Z=0;Z<q.attributes.length;Z++){var K=q.attributes[Z];oe.__cnt++;for(var Ae=K.value,Fe=0,Ue=h.matchers.length;Fe<Ue;Fe++){var je=h.matchers[Fe];je.test(K,me)&&(Ae=je.converter(K.value))}oe[h.attributePrefix+K.name]=Ae}var Me=q.prefix;return null!=Me&&""!=Me&&(oe.__cnt++,oe.__prefix=Me),null!=oe["#text"]&&(oe.__text=oe["#text"],oe.__text instanceof Array&&(oe.__text=oe.__text.join("\n")),h.stripWhitespaces&&(oe.__text=oe.__text.trim()),delete oe["#text"],"property"==h.arrayAccessForm&&delete oe["#text_asArray"],oe.__text=function(Ye,dt,it){if(h.datetimeAccessFormPaths.length>0){var ot=it.split(".#")[0];return P(h.datetimeAccessFormPaths,Ye,dt,ot)?M(Ye):Ye}return Ye}(oe.__text,B,ge+"."+B)),null!=oe["#cdata-section"]&&(oe.__cdata=oe["#cdata-section"],delete oe["#cdata-section"],"property"==h.arrayAccessForm&&delete oe["#cdata-section_asArray"]),0==oe.__cnt&&"text"==h.emptyNodeForm?oe="":1==oe.__cnt&&null!=oe.__text?oe=oe.__text:1!=oe.__cnt||null==oe.__cdata||h.keepCData?oe.__cnt>1&&null!=oe.__text&&h.skipEmptyTextNodesForObj&&(h.stripWhitespaces&&""==oe.__text||""==oe.__text.trim())&&delete oe.__text:oe=oe.__cdata,delete oe.__cnt,!h.enableToStringFunc||null==oe.__text&&null==oe.__cdata||(oe.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),oe}if(3==q.nodeType||4==q.nodeType)return q.nodeValue}function W(q,ge,oe,he){var N="<"+(null!=q&&null!=q.__prefix?q.__prefix+":":"")+ge;if(null!=oe)for(var H=0;H<oe.length;H++){var Y=oe[H],B=q[Y];h.escapeMode&&(B=v(B)),N+=" "+Y.substr(h.attributePrefix.length)+"=",N+=h.useDoubleQuotes?'"'+B+'"':"'"+B+"'"}return N+(he?"/>":">")}function te(q,ge){return"</"+(null!=q.__prefix?q.__prefix+":":"")+ge+">"}function Q(q,ge){return"property"==h.arrayAccessForm&&("_asArray",-1!==(oe=ge.toString()).indexOf("_asArray",oe.length-8))||0==ge.toString().indexOf(h.attributePrefix)||0==ge.toString().indexOf("__")||q[ge]instanceof Function;var oe}function U(q){var ge=0;if(q instanceof Object)for(var oe in q)Q(q,oe)||ge++;return ge}function $(q,ge,oe){return 0==h.jsonPropertiesFilter.length||""==oe||P(h.jsonPropertiesFilter,q,ge,oe)}function X(q){var ge=[];if(q instanceof Object)for(var oe in q)-1==oe.toString().indexOf("__")&&0==oe.toString().indexOf(h.attributePrefix)&&ge.push(oe);return ge}function Se(q){var oe,he,ge="";return q instanceof Object?ge+=(he="",null!=(oe=q).__cdata&&(he+="<![CDATA["+oe.__cdata+"]]>"),null!=oe.__text&&(he+=h.escapeMode?v(oe.__text):oe.__text),he):null!=q&&(ge+=h.escapeMode?v(q):q),ge}function de(q,ge){return""===q?ge:q+"."+ge}function Ee(q,ge,oe,he){var N="";if(0==q.length)N+=W(q,ge,oe,!0);else for(var H=0;H<q.length;H++)N+=W(q[H],ge,X(q[H]),!1),N+=Te(q[H],de(he,ge)),N+=te(q[H],ge);return N}function Te(q,ge){var oe="";if(U(q)>0)for(var he in q)if(!Q(q,he)&&(""==ge||$(q,he,de(ge,he)))){var N=q[he],H=X(N);null==N||null==N?oe+=W(N,he,H,!0):N instanceof Object?N instanceof Array?oe+=Ee(N,he,H,ge):N instanceof Date?(oe+=W(N,he,H,!1),oe+=N.toISOString(),oe+=te(N,he)):U(N)>0||null!=N.__text||null!=N.__cdata?(oe+=W(N,he,H,!1),oe+=Te(N,de(ge,he)),oe+=te(N,he)):oe+=W(N,he,H,!0):(oe+=W(N,he,H,!1),oe+=Se(N),oe+=te(N,he))}return oe+Se(q)}void 0===(h=h||{}).escapeMode&&(h.escapeMode=!0),void 0===h.attributePrefix&&(h.attributePrefix="_"),h.arrayAccessForm=h.arrayAccessForm||"none",h.emptyNodeForm=h.emptyNodeForm||"text",void 0===h.enableToStringFunc&&(h.enableToStringFunc=!0),h.arrayAccessFormPaths=h.arrayAccessFormPaths||[],void 0===h.skipEmptyTextNodesForObj&&(h.skipEmptyTextNodesForObj=!0),void 0===h.stripWhitespaces&&(h.stripWhitespaces=!0),h.datetimeAccessFormPaths=h.datetimeAccessFormPaths||[],void 0===h.useDoubleQuotes&&(h.useDoubleQuotes=!1),h.xmlElementsFilter=h.xmlElementsFilter||[],h.jsonPropertiesFilter=h.jsonPropertiesFilter||[],void 0===h.keepCData&&(h.keepCData=!1),void 0===h.ignoreRoot&&(h.ignoreRoot=!1),this.parseXmlString=function(q){var ge;if(window,void 0===q)return null;if(window.DOMParser){var oe=new window.DOMParser;try{(ge=oe.parseFromString(q,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(ge=null)}catch{ge=null}}else 0==q.indexOf("<?")&&(q=q.substr(q.indexOf("?>")+2)),(ge=new ActiveXObject("Microsoft.XMLDOM")).async="false",ge.loadXML(q);return ge},this.asArray=function(q){return void 0===q||null==q?[]:q instanceof Array?q:[q]},this.toXmlDateTime=function(q){return q instanceof Date?q.toISOString():"number"==typeof q?new Date(q).toISOString():null},this.asDateTime=function(q){return"string"==typeof q?M(q):q},this.xml2json=function(q){return F(q)},this.xml_str2json=function(q){var ge=this.parseXmlString(q);return null!=ge?this.xml2json(ge):null},this.json2xml_str=function(q){return Te(q,"")},this.json2xml=function(q){var ge=this.json2xml_str(q);return this.parseXmlString(ge)},this.getVersion=function(){return"1.2.0"}};var Or="onLoad";function Ta(h){h=h||{};var f,v,P,L,M,R,F=this.context,W=(0,c.Z)(F).getInstance(),te=(0,Le.Z)(F).getInstance();function Q(de,Ee,Te){var q,ge,oe={};oe.elements=de,oe.type=Ee,oe.resolveType=Te,0===oe.elements.length&&$(oe);for(var he=0;he<oe.elements.length;he++)ge=te.isHTTPURL((q=oe.elements[he]).url)?q.url:q.originalContent.BaseURL+q.url,R.load(ge,q,oe)}function U(de){var Ee,Te,q="";if(Te=de.resolveObject,(Ee=de.element).resolvedContent){var ge=0;0===Ee.resolvedContent.indexOf("<?xml")&&(ge=Ee.resolvedContent.indexOf("?>")+2),q=Ee.resolvedContent.substr(0,ge)+"<response>"+Ee.resolvedContent.substr(ge)+"</response>",Ee.resolvedContent=M.xml_str2json(q)}(function(oe){var he;for(he=0;he<oe.elements.length;he++)if(!1===oe.elements[he].resolved)return!1;return!0})(Te)&&$(Te)}function $(de){var Ee,Te,q=[];if(function(ge){var oe,he,H,Y,B,k=[];for(H=ge.elements.length-1;H>=0;H--){if(he=(oe=ge.elements[H]).type+"_asArray",oe.resolvedContent){if(oe.resolvedContent)for(Y=0;Y<oe.resolvedContent[he].length;Y++)k.push(oe.resolvedContent[he][Y])}else delete oe.originalContent["xlink:actuate"],delete oe.originalContent["xlink:href"],k.push(oe.originalContent);for(oe.parentElement[he].splice(oe.index,1),B=0;B<k.length;B++)oe.parentElement[he].splice(oe.index+B,0,k[B]);k=[]}ge.elements.length>0&&P.run(L)}(de),"onActuate"===de.resolveType&&W.trigger(i.Z.XLINK_READY,{manifest:L}),de.resolveType===Or)switch(de.type){case n.Z.PERIOD:for(Ee=0;Ee<L[n.Z.PERIOD+"_asArray"].length;Ee++)(Te=L[n.Z.PERIOD+"_asArray"][Ee]).hasOwnProperty(n.Z.ADAPTATION_SET+"_asArray")&&(q=q.concat(X(Te[n.Z.ADAPTATION_SET+"_asArray"],Te,n.Z.ADAPTATION_SET,Or))),Te.hasOwnProperty(n.Z.EVENT_STREAM+"_asArray")&&(q=q.concat(X(Te[n.Z.EVENT_STREAM+"_asArray"],Te,n.Z.EVENT_STREAM,Or)));Q(q,n.Z.ADAPTATION_SET,Or);break;case n.Z.ADAPTATION_SET:W.trigger(i.Z.XLINK_READY,{manifest:L})}}function X(de,Ee,Te,q){var ge,oe,he,N=[];for(oe=de.length-1;oe>=0;oe--)(ge=de[oe]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===ge["xlink:href"]&&de.splice(oe,1);for(oe=0;oe<de.length;oe++)(ge=de[oe]).hasOwnProperty("xlink:href")&&ge.hasOwnProperty("xlink:actuate")&&ge["xlink:actuate"]===q&&(he=Se(ge["xlink:href"],Ee,Te,oe,q,ge),N.push(he));return N}function Se(de,Ee,Te,q,ge,oe){return{url:de,parentElement:Ee,type:Te,index:q,resolveType:ge,originalContent:oe,resolvedContent:null,resolved:!1}}return f={resolveManifestOnLoad:function(de){M=new _a({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:v}),(L=de).Period_asArray?Q(X(L.Period_asArray,L,n.Z.PERIOD,Or),n.Z.PERIOD,Or):W.trigger(i.Z.XLINK_READY,{manifest:L})},setMatchers:function(de){de&&(v=de)},setIron:function(de){de&&(P=de)},reset:function(){W.off(i.Z.XLINK_ELEMENT_LOADED,U,f),R&&(R.reset(),R=null)}},W.on(i.Z.XLINK_ELEMENT_LOADED,U,f),R=No(F).create({errHandler:h.errHandler,dashMetrics:h.dashMetrics,mediaPlayerModel:h.mediaPlayerModel,requestModifier:h.requestModifier,settings:h.settings}),f}Ta.__dashjs_factory_name="XlinkController";const Co=o.Z.getClassFactory(Ta);function Vr(h){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function Sa(h){function f(L,M){for(var R in L)M.hasOwnProperty(R)||(M[R]=L[R])}function v(L,M,R){for(var F=0,W=L.length;F<W;++F){var te=L[F];if(M[te.name])if(R[te.name]){if(te.merge){var Q=M[te.name],U=R[te.name];"object"===Vr(Q)&&"object"===Vr(U)?f(Q,U):R[te.name]=Q+U}}else R[te.name]=M[te.name]}}function P(L,M){for(var R=0,F=L.children.length;R<F;++R){var W=L.children[R],te=M[W.name+"_asArray"];if(te)for(var Q=0,U=te.length;Q<U;++Q){var $=te[Q];v(L.properties,M,$),P(W,$)}}}return{run:function(L){if(null===L||"object"!==Vr(L))return L;if(L.Period_asArray&&"period"in h)for(var M=h.period,R=L.Period_asArray,F=0,W=R.length;F<W;++F){var te=R[F];if(P(M,te),"adaptationset"in h){var Q=te.AdaptationSet_asArray;if(Q)for(var U=h.adaptationset,$=0,X=Q.length;$<X;++$)P(U,Q[$])}}return L}}}Sa.__dashjs_factory_name="ObjectIron";const Do=o.Z.getClassFactory(Sa),Yr=function(){function h(P,L){(function(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")})(this,h),this._test=P,this._converter=L}var v;return(v=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&function Oo(h,f){for(var v=0;v<f.length;v++){var P=f[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(h,P.key,P)}}(h.prototype,v),h}();function Di(h){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function Pn(h,f,v){return f in h?Object.defineProperty(h,f,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[f]=v,h}function Oi(h,f){return(Oi=Object.setPrototypeOf||function(v,P){return v.__proto__=P,v})(h,f)}function ci(h){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}const Mo=function(h){!function(M,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&Oi(M,R)}(L,h);var f,v,P=(f=L,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,R=ci(f);if(v){var F=ci(this).constructor;M=Reflect.construct(R,arguments,F)}else M=R.apply(this,arguments);return function Po(h,f){return!f||"object"!==Di(f)&&"function"!=typeof f?function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(h):f}(this,M)});function L(){return function(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}(this,L),P.call(this,function(M,R){var F,W=(Pn(F={},n.Z.MPD,[n.Z.ID,n.Z.PROFILES]),Pn(F,n.Z.PERIOD,[n.Z.ID]),Pn(F,n.Z.BASE_URL,[n.Z.SERVICE_LOCATION,n.Z.BYTE_RANGE]),Pn(F,n.Z.SEGMENT_BASE,[n.Z.INDEX_RANGE]),Pn(F,n.Z.INITIALIZATION,[n.Z.RANGE]),Pn(F,n.Z.REPRESENTATION_INDEX,[n.Z.RANGE]),Pn(F,n.Z.SEGMENT_LIST,[n.Z.INDEX_RANGE]),Pn(F,n.Z.BITSTREAM_SWITCHING,[n.Z.RANGE]),Pn(F,n.Z.SEGMENT_URL,[n.Z.MEDIA_RANGE,n.Z.INDEX_RANGE]),Pn(F,n.Z.SEGMENT_TEMPLATE,[n.Z.INDEX_RANGE,n.Z.MEDIA,n.Z.INDEX,n.Z.INITIALIZATION_MINUS,n.Z.BITSTREAM_SWITCHING_MINUS]),Pn(F,n.Z.ASSET_IDENTIFIER,[n.Z.VALUE,n.Z.ID]),Pn(F,n.Z.EVENT_STREAM,[n.Z.VALUE]),Pn(F,n.Z.ADAPTATION_SET,[n.Z.PROFILES,n.Z.MIME_TYPE,n.Z.SEGMENT_PROFILES,n.Z.CODECS,n.Z.CONTENT_TYPE]),Pn(F,n.Z.FRAME_PACKING,[n.Z.VALUE,n.Z.ID]),Pn(F,n.Z.AUDIO_CHANNEL_CONFIGURATION,[n.Z.VALUE,n.Z.ID]),Pn(F,n.Z.CONTENT_PROTECTION,[n.Z.VALUE,n.Z.ID]),Pn(F,n.Z.ESSENTIAL_PROPERTY,[n.Z.VALUE,n.Z.ID]),Pn(F,n.Z.SUPPLEMENTAL_PROPERTY,[n.Z.VALUE,n.Z.ID]),Pn(F,n.Z.INBAND_EVENT_STREAM,[n.Z.VALUE,n.Z.ID]),Pn(F,n.Z.ACCESSIBILITY,[n.Z.VALUE,n.Z.ID]),Pn(F,n.Z.ROLE,[n.Z.VALUE,n.Z.ID]),Pn(F,n.Z.RATING,[n.Z.VALUE,n.Z.ID]),Pn(F,n.Z.VIEWPOINT,[n.Z.VALUE,n.Z.ID]),Pn(F,n.Z.CONTENT_COMPONENT,[n.Z.CONTENT_TYPE]),Pn(F,n.Z.REPRESENTATION,[n.Z.ID,n.Z.DEPENDENCY_ID,n.Z.MEDIA_STREAM_STRUCTURE_ID]),Pn(F,n.Z.SUBSET,[n.Z.ID]),Pn(F,n.Z.METRICS,[n.Z.METRICS_MINUS]),Pn(F,n.Z.REPORTING,[n.Z.VALUE,n.Z.ID]),F);if(W.hasOwnProperty(R)){var te=W[R];return void 0!==te&&te.indexOf(M.name)>=0}return!1},function(M){return String(M)})}return L}(Yr);function Pi(h){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function Mi(h,f){return(Mi=Object.setPrototypeOf||function(v,P){return v.__proto__=P,v})(h,f)}function fi(h){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}var ba=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;const xo=function(h){!function(M,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&Mi(M,R)}(L,h);var f,v,P=(f=L,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,R=fi(f);if(v){var F=fi(this).constructor;M=Reflect.construct(R,arguments,F)}else M=R.apply(this,arguments);return function Lo(h,f){return!f||"object"!==Pi(f)&&"function"!=typeof f?function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(h):f}(this,M)});function L(){return function(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}(this,L),P.call(this,function(M){for(var R=[n.Z.MIN_BUFFER_TIME,n.Z.MEDIA_PRESENTATION_DURATION,n.Z.MINIMUM_UPDATE_PERIOD,n.Z.TIMESHIFT_BUFFER_DEPTH,n.Z.MAX_SEGMENT_DURATION,n.Z.MAX_SUBSEGMENT_DURATION,n.Z.SUGGESTED_PRESENTATION_DELAY,n.Z.START,r.Z.START_TIME,n.Z.DURATION],F=R.length,W=0;W<F;W++)if(M.nodeName===R[W])return ba.test(M.value);return!1},function(M){var R=ba.exec(M),F=31536e3*parseFloat(R[3]||0)+2592e3*parseFloat(R[5]||0)+86400*parseFloat(R[7]||0)+3600*parseFloat(R[9]||0)+60*parseFloat(R[11]||0)+parseFloat(R[13]||0);return void 0!==R[1]&&(F=-F),F})}return L}(Yr);function Li(h){return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function xi(h,f){return(xi=Object.setPrototypeOf||function(v,P){return v.__proto__=P,v})(h,f)}function di(h){return(di=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}var Aa=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;const ko=function(h){!function(M,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&xi(M,R)}(L,h);var f,v,P=(f=L,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,R=di(f);if(v){var F=di(this).constructor;M=Reflect.construct(R,arguments,F)}else M=R.apply(this,arguments);return function Fo(h,f){return!f||"object"!==Li(f)&&"function"!=typeof f?function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(h):f}(this,M)});function L(){return function(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}(this,L),P.call(this,function(M){return Aa.test(M.value)},function(M){var R,F=Aa.exec(M);if(R=Date.UTC(parseInt(F[1],10),parseInt(F[2],10)-1,parseInt(F[3],10),parseInt(F[4],10),parseInt(F[5],10),F[6]&&parseInt(F[6],10)||0,F[7]&&1e3*parseFloat(F[7])||0),F[9]&&F[10]){var W=60*parseInt(F[9],10)+parseInt(F[10],10);R+=("+"===F[8]?-1:1)*W*60*1e3}return new Date(R)})}return L}(Yr);function Fi(h){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function ki(h,f){return(ki=Object.setPrototypeOf||function(v,P){return v.__proto__=P,v})(h,f)}function gi(h){return(gi=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}var Bo=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;const Zo=function(h){!function(M,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&ki(M,R)}(L,h);var f,v,P=(f=L,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,R=gi(f);if(v){var F=gi(this).constructor;M=Reflect.construct(R,arguments,F)}else M=R.apply(this,arguments);return function Uo(h,f){return!f||"object"!==Fi(f)&&"function"!=typeof f?function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(h):f}(this,M)});function L(){return function(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}(this,L),P.call(this,function(M){return Bo.test(M.value)},function(M){return parseFloat(M)})}return L}(Yr);function Ui(h){return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function zr(h,f,v){return f in h?Object.defineProperty(h,f,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[f]=v,h}function Bi(h,f){return(Bi=Object.setPrototypeOf||function(v,P){return v.__proto__=P,v})(h,f)}function mi(h){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}const jo=function(h){!function(M,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&Bi(M,R)}(L,h);var f,v,P=(f=L,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,R=mi(f);if(v){var F=mi(this).constructor;M=Reflect.construct(R,arguments,F)}else M=R.apply(this,arguments);return function Go(h,f){return!f||"object"!==Ui(f)&&"function"!=typeof f?function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(h):f}(this,M)});function L(){return function(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}(this,L),P.call(this,function(M,R){var F,W=(zr(F={},n.Z.ADAPTATION_SET,[n.Z.LANG]),zr(F,n.Z.REPRESENTATION,[n.Z.LANG]),zr(F,n.Z.CONTENT_COMPONENT,[n.Z.LANG]),zr(F,n.Z.LABEL,[n.Z.LANG]),zr(F,n.Z.GROUP_LABEL,[n.Z.LANG]),F);if(W.hasOwnProperty(R)){var te=W[R];return void 0!==te&&te.indexOf(M.name)>=0}return!1},function(M){var R=si()(M);return void 0!==R?R:String(M)})}return L}(Yr),qo=function(){function h(P){var L;(function(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")})(this,h),this._name=P,this._merge=(L=P)&&L.length&&L.charAt(0)===L.charAt(0).toUpperCase()}var v;return(v=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&function Ho(h,f){for(var v=0;v<f.length;v++){var P=f[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(h,P.key,P)}}(h.prototype,v),h}(),Pr=function(){function h(P,L,M){var R=this;(function(F,W){if(!(F instanceof W))throw new TypeError("Cannot call a class as a function")})(this,h),this._name=P||"",this._properties=[],this._children=M||[],Array.isArray(L)&&L.forEach(function(F){R._properties.push(new qo(F))})}var v;return(v=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&function Vo(h,f){for(var v=0;v<f.length;v++){var P=f[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(h,P.key,P)}}(h.prototype,v),h}();function Zi(h){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function Gi(h,f){return(Gi=Object.setPrototypeOf||function(v,P){return v.__proto__=P,v})(h,f)}function hi(h){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}const zo=function(h){!function(M,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&Gi(M,R)}(L,h);var f,v,P=(f=L,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,R=hi(f);if(v){var F=hi(this).constructor;M=Reflect.construct(R,arguments,F)}else M=R.apply(this,arguments);return function Yo(h,f){return!f||"object"!==Zi(f)&&"function"!=typeof f?function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(h):f}(this,M)});function L(){!function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")}(this,L);var M=[n.Z.PROFILES,n.Z.WIDTH,n.Z.HEIGHT,n.Z.SAR,n.Z.FRAMERATE,n.Z.AUDIO_SAMPLING_RATE,n.Z.MIME_TYPE,n.Z.SEGMENT_PROFILES,n.Z.CODECS,n.Z.MAXIMUM_SAP_PERIOD,n.Z.START_WITH_SAP,n.Z.MAX_PLAYOUT_RATE,n.Z.CODING_DEPENDENCY,n.Z.SCAN_TYPE,n.Z.FRAME_PACKING,n.Z.AUDIO_CHANNEL_CONFIGURATION,n.Z.CONTENT_PROTECTION,n.Z.ESSENTIAL_PROPERTY,n.Z.ESSENTIAL_PROPERTY+"_asArray",n.Z.SUPPLEMENTAL_PROPERTY,n.Z.INBAND_EVENT_STREAM];return P.call(this,n.Z.ADAPTATION_SET,M,[new Pr(n.Z.REPRESENTATION,M,[new Pr(n.Z.SUB_REPRESENTATION,M)])])}return L}(Pr);function ji(h){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function Hi(h,f){return(Hi=Object.setPrototypeOf||function(v,P){return v.__proto__=P,v})(h,f)}function pi(h){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}const Wo=function(h){!function(M,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&Hi(M,R)}(L,h);var f,v,P=(f=L,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,R=pi(f);if(v){var F=pi(this).constructor;M=Reflect.construct(R,arguments,F)}else M=R.apply(this,arguments);return function Ko(h,f){return!f||"object"!==ji(f)&&"function"!=typeof f?function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(h):f}(this,M)});function L(){!function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")}(this,L);var M=[n.Z.SEGMENT_BASE,n.Z.SEGMENT_TEMPLATE,n.Z.SEGMENT_LIST];return P.call(this,n.Z.PERIOD,M,[new Pr(n.Z.ADAPTATION_SET,M,[new Pr(n.Z.REPRESENTATION,M)])])}return L}(Pr);function Ia(h){var f,v,P,L,M,R=this.context;return f={parse:function(W){var te,Q=window.performance.now();if(!(te=L.xml_str2json(W)))throw new Error("parsing the manifest failed");var U=window.performance.now();te.Patch?((te=te.Patch).add_asArray&&te.add_asArray.forEach(function(X){return M.run(X)}),te.replace_asArray&&te.replace_asArray.forEach(function(X){return M.run(X)})):M.run(te=te.MPD);var $=window.performance.now();return v.info("Parsing complete: ( xml2json: "+(U-Q).toPrecision(3)+"ms, objectiron: "+($-U).toPrecision(3)+"ms, total: "+(($-Q)/1e3).toPrecision(3)+"s)"),te.protocol="DASH",te},getMatchers:function(){return P},getIron:function(){return M}},v=(h=h||{}).debug.getLogger(f),P=[new xo,new ko,new Zo,new jo,new Mo],L=new _a({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:P}),M=Do(R).create({adaptationset:new zo,period:new Wo}),f}Ia.__dashjs_factory_name="DashParser";const Xo=o.Z.getClassFactory(Ia);function wa(h){var f,v,P,L,M,R=this.context,F=(h=h||{}).debug,W=h.settings,te=(0,c.Z)(R).getInstance(),Q=(0,Le.Z)(R).getInstance(),U=h.mssHandler,$=h.errHandler;function X(de){te.trigger(i.Z.INTERNAL_MANIFEST_LOADED,{manifest:de.manifest})}return f={load:function(de){var Ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,q=new Date,ge=new va(de,w.w.MPD_TYPE);Ee&&(ge.serviceLocation=Ee),Te&&(ge.queryParams=Te),ge.requestStartDate||(ge.requestStartDate=q),te.trigger(i.Z.MANIFEST_LOADING_STARTED,{request:ge}),P.load({request:ge,success:function(oe,he,N){var H,Y,B;if(L)if(N&&N!==de?(Y=Q.parseBaseUrl(N),H=N):(Q.isRelative(de)&&(de=Q.resolve(de,window.location.href)),Y=Q.parseBaseUrl(de)),"No Content"!=he)if(null===M&&(M=function Se(de){var Ee=null;return de.indexOf("SmoothStreamingMedia")>-1?(U&&(Ee=U.createMssParser(),U.createMssFragmentProcessor(),U.registerEvents()),Ee):de.indexOf("MPD")>-1||de.indexOf("Patch")>-1?Xo(R).create({debug:F}):Ee}(oe)),null!==M){L.setMatchers(M.getMatchers()),L.setIron(M.getIron());try{B=M.parse(oe)}catch{return void te.trigger(i.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new O.Z(g.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,g.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(de))})}if(B){if(B.url=H||de,B.originalUrl||(B.originalUrl=B.url),W&&W.get().streaming.enableManifestDurationMismatchFix&&B.mediaPresentationDuration&&B.Period_asArray.length>1){var k=B.Period_asArray.reduce(function(ne,re){return ne+re.duration},0);!isNaN(k)&&B.mediaPresentationDuration>k&&(v.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),B.mediaPresentationDuration=k)}B.baseUri=Y,B.loadedTime=new Date,L.resolveManifestOnLoad(B),te.trigger(i.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:oe})}else te.trigger(i.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new O.Z(g.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,g.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(de))})}else te.trigger(i.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new O.Z(g.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,g.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(de))});else te.trigger(i.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(oe,he,N){te.trigger(i.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new O.Z(g.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,g.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(de,", ").concat(N))})}})},reset:function(){te.off(i.Z.XLINK_READY,X,f),U&&U.reset(),L&&(L.reset(),L=null),P&&(P.abort(),P=null)}},v=F.getLogger(f),te.on(i.Z.XLINK_READY,X,f),P=Jn(R).create({errHandler:h.errHandler,dashMetrics:h.dashMetrics,mediaPlayerModel:h.mediaPlayerModel,requestModifier:h.requestModifier,urlUtils:Q,constants:r.Z,dashConstants:n.Z,errors:g,requestTimeout:h.settings.get().streaming.manifestRequestTimeout}),L=Co(R).create({errHandler:$,dashMetrics:h.dashMetrics,mediaPlayerModel:h.mediaPlayerModel,requestModifier:h.requestModifier,settings:h.settings}),M=null,f}wa.__dashjs_factory_name="ManifestLoader";const Qo=o.Z.getClassFactory(wa);function Ra(){var f=(0,c.Z)(this.context).getInstance();return{error:function(v){f.trigger(i.Z.ERROR,{error:v})}}}Ra.__dashjs_factory_name="ErrorHandler";const Jo=o.Z.getSingletonFactory(Ra);var Na=D(1715);function Ca(){var h,f,v,P,L,M,R=this.context,F=(0,c.Z)(R).getInstance();function W(te,Q){if(!Q||!Q.Period_asArray||0===Q.Period_asArray.length)return Promise.resolve();var U=[];return Q.Period_asArray.forEach(function($){var X,Se;U.push((X=$,Se=te,new Promise(function(de){if(X&&X.AdaptationSet_asArray&&0!==X.AdaptationSet_asArray.length){var Ee=[];X.AdaptationSet_asArray.forEach(function(Te){var q,ge;f.getIsTypeOf(Te,Se)&&Ee.push((q=Te,ge=Se,new Promise(function(oe){if(q.Representation_asArray&&0!==q.Representation_asArray.length){var he=[],N=[];q.Representation_asArray.forEach(function(H,Y){var B=f.getCodec(q,Y,!1),k=function(ne,re,me){switch(ne){case r.Z.VIDEO:return{codec:me,width:(Z=re).width||null,height:Z.height||null,framerate:Z.frameRate||null,bitrate:Z.bandwidth||null};case r.Z.AUDIO:return function(Z,K){return{codec:K,bitrate:Z.bandwidth||null,samplerate:Z.audioSamplingRate||null}}(re,me);default:return null}var Z}(ge,H,B);N.push(k),he.push(v.supportsCodec(k,ge))}),Promise.all(he).then(function(H){q.Representation_asArray=q.Representation_asArray.filter(function(Y,B){return H[B]||M.debug("[Stream] Codec ".concat(N[B].codec," not supported ")),H[B]}),oe()}).catch(function(){oe()})}else oe()})))}),Promise.all(Ee).then(function(){X.AdaptationSet_asArray=X.AdaptationSet_asArray.filter(function(Te){var q=Te.Representation_asArray&&Te.Representation_asArray.length>0;return q||(F.trigger(i.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:Te}),M.warn("AdaptationSet has been removed because of no supported Representation")),q}),de()}).catch(function(){de()})}else de()})))}),Promise.all(U)}return h={setConfig:function(te){te&&(te.adapter&&(f=te.adapter),te.capabilities&&(v=te.capabilities),te.settings&&(P=te.settings),te.customParametersModel&&(L=te.customParametersModel))},filterUnsupportedFeatures:function(te){return new Promise(function(Q){var U=[];U.push(W(r.Z.VIDEO,te)),U.push(W(r.Z.AUDIO,te)),Promise.all(U).then(function(){var $;P.get().streaming.capabilities.filterUnsupportedEssentialProperties&&($=te)&&$.Period_asArray&&0!==$.Period_asArray.length&&$.Period_asArray.forEach(function(X){X.AdaptationSet_asArray=X.AdaptationSet_asArray.filter(function(Se){return!Se.Representation_asArray||0===Se.Representation_asArray.length||(Se.Representation_asArray=Se.Representation_asArray.filter(function(de){var Ee=f.getEssentialPropertiesForRepresentation(de);if(Ee&&Ee.length>0)for(var Te=0;Te<Ee.length;){if(!v.supportsEssentialProperty(Ee[Te]))return M.debug("[Stream] EssentialProperty not supported: "+Ee[Te].schemeIdUri),!1;Te+=1}return!0}),Se.Representation_asArray&&Se.Representation_asArray.length>0)})}),function($){var X=L.getCustomCapabilitiesFilters();X&&0!==X.length&&$&&$.Period_asArray&&0!==$.Period_asArray.length&&$.Period_asArray.forEach(function(Se){Se.AdaptationSet_asArray=Se.AdaptationSet_asArray.filter(function(de){return!de.Representation_asArray||0===de.Representation_asArray.length||(de.Representation_asArray=de.Representation_asArray.filter(function(Ee){return!X.some(function(Te){return!Te(Ee)})}),de.Representation_asArray&&de.Representation_asArray.length>0)})})}(te),Q()}).catch(function(){Q()})})}},M=(0,y.Z)(R).getInstance().getLogger(h),h}Ca.__dashjs_factory_name="CapabilitiesFilter";const $o=o.Z.getSingletonFactory(Ca),es=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function Da(){var h;return{initialize:function(f){if(h=new es,!f)return null;var v=f.indexOf("#");if(-1!==v)for(var P=f.substr(v+1).split("&"),L=0,M=P.length;L<M;++L){var R=P[L],F=R.indexOf("=");if(-1!==F){var W=R.substring(0,F);h.hasOwnProperty(W)&&(h[W]=R.substr(F+1))}}},getURIFragmentData:function(){return h}}}Da.__dashjs_factory_name="URIFragmentModel";const ts=o.Z.getSingletonFactory(Da);function Oa(){var h,v=(0,c.Z)(this.context).getInstance();return{getValue:function(){return h},setValue:function(P){h=P,P&&v.trigger(i.Z.MANIFEST_LOADED,{data:P})}}}Oa.__dashjs_factory_name="ManifestModel";const ns=o.Z.getSingletonFactory(Oa);function Pa(){var h,f,v,P,L=this.context,M=(0,ue.Z)(L).getInstance();function R(te,Q){return isNaN(te)?0:te>0?(Q&&f.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):te<-.5?(Q&&f.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(-.5,": ").concat(-50,"% playback speed.")),-.5):te}function F(te,Q){return isNaN(te)?0:te<0?(Q&&f.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):te>1?(Q&&f.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):te}function W(){var te=M.get().streaming.buffer.stableBufferTime>0?M.get().streaming.buffer.stableBufferTime:M.get().streaming.buffer.fastSwitchEnabled?20:12,Q=v.getLiveDelay();return!isNaN(Q)&&Q>0?Math.min(te,Q):te}return h={getCatchupMaxDrift:function(){if(!isNaN(M.get().streaming.liveCatchup.maxDrift)&&M.get().streaming.liveCatchup.maxDrift>0)return M.get().streaming.liveCatchup.maxDrift;var te=P.getServiceDescriptionSettings();return te&&te.liveCatchup&&!isNaN(te.liveCatchup.maxDrift)&&te.liveCatchup.maxDrift>0?te.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return null!==M.get().streaming.liveCatchup.enabled?M.get().streaming.liveCatchup.enabled:v.getInitialCatchupModeActivated()},getStableBufferTime:W,getInitialBufferLevel:function(){var te=M.get().streaming.buffer.initialBufferLevel;return isNaN(te)||te<0?0:Math.min(W(),te)},getRetryAttemptsForType:function(te){var Q=isNaN(M.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:M.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return v.getLowLatencyModeEnabled()?M.get().streaming.retryAttempts[te]*Q:M.get().streaming.retryAttempts[te]},getRetryIntervalsForType:function(te){var Q=isNaN(M.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:M.get().streaming.retryIntervals.lowLatencyReductionFactor;return v.getLowLatencyModeEnabled()?M.get().streaming.retryIntervals[te]/Q:M.get().streaming.retryIntervals[te]},getCatchupPlaybackRates:function(te){var Q=M.get().streaming.liveCatchup.playbackRate;if(!isNaN(Q.min)||!isNaN(Q.max))return{min:R(Q.min,te),max:F(Q.max,te)};var U=P.getServiceDescriptionSettings();if(U&&U.liveCatchup&&(!isNaN(U.liveCatchup.playbackRate.min)||!isNaN(U.liveCatchup.playbackRate.max))){var $=U.liveCatchup.playbackRate;return{min:R($.min,te),max:F($.max,te)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(te,Q){try{var U=M.get().streaming.abr[te][Q];if(!isNaN(U)&&-1!==U)return U;var $=P.getServiceDescriptionSettings();return $&&$[te]&&!isNaN($[te][Q])?$[te][Q]:-1}catch{return-1}},setConfig:function(te){te.playbackController&&(v=te.playbackController),te.serviceDescriptionController&&(P=te.serviceDescriptionController)},reset:function(){}},f=(0,y.Z)(L).getInstance().getLogger(h),h}Pa.__dashjs_factory_name="MediaPlayerModel";const rs=o.Z.getSingletonFactory(Pa);var is=D(1767);function Ma(h){var f=(h=h||{}).abrController,v=h.switchHistory,P=h.droppedFramesHistory,L=h.currentRequest,M=h.useBufferOccupancyABR,R=h.useL2AABR,F=h.useLoLPABR,W=h.streamProcessor?h.streamProcessor.getScheduleController():null,te=h.streamProcessor?h.streamProcessor.getRepresentationInfo():null,Q=h.videoModel?h.videoModel:null;function U(){return te?te.mediaInfo:null}return{getMediaType:function(){var $=U();return $?$.type:null},getMediaInfo:U,getDroppedFramesHistory:function(){return P},getCurrentRequest:function(){return L},getSwitchHistory:function(){return v},getStreamInfo:function(){var $=U();return $?$.streamInfo:null},getScheduleController:function(){return W},getAbrController:function(){return f},getRepresentationInfo:function(){return te},useBufferOccupancyABR:function(){return M},useL2AABR:function(){return R},useLoLPABR:function(){return F},getVideoModel:function(){return Q}}}Ma.__dashjs_factory_name="RulesContext";const La=o.Z.getClassFactory(Ma);var yi=D(2068);function xa(){var h=[],f=[];return{push:function(v){v.newValue===yi.Z.NO_CHANGE&&(v.newValue=v.oldValue),h[v.oldValue]||(h[v.oldValue]={noDrops:0,drops:0,dropSize:0});var P=v.newValue-v.oldValue,L=P<0?1:0,M=L?-P:0,R=L?0:1;if(h[v.oldValue].drops+=L,h[v.oldValue].dropSize+=M,h[v.oldValue].noDrops+=R,f.push({idx:v.oldValue,noDrop:R,drop:L,dropSize:M}),f.length>8){var F=f.shift();h[F.idx].drops-=F.drop,h[F.idx].dropSize-=F.dropSize,h[F.idx].noDrops-=F.noDrop}},getSwitchRequests:function(){return h},reset:function(){h=[],f=[]}}}xa.__dashjs_factory_name="SwitchRequestHistory";const as=o.Z.getClassFactory(xa);function Fa(){var h={},f={},v={};return{push:function(P,L,M){if(L){h[P]||(h[P]=[],f[P]=0,v[P]=0);var R=M&&M.droppedVideoFrames?M.droppedVideoFrames:0,F=M&&M.totalVideoFrames?M.totalVideoFrames:0,W=R-f[P];f[P]=R;var te=F-v[P];v[P]=F;var Q=h[P];isNaN(L)||(Q[L]?(Q[L].droppedVideoFrames+=W,Q[L].totalVideoFrames+=te):Q[L]={droppedVideoFrames:W,totalVideoFrames:te})}},getFrameHistory:function(P){return h[P]},clearForStream:function(P){try{delete h[P],delete f[P],delete v[P]}catch{}},reset:function(){h={},f={},v={}}}}Fa.__dashjs_factory_name="DroppedFramesHistory";const os=o.Z.getClassFactory(Fa);function ka(h){var f,v,P,L,M,F=(h=h||{}).settings,W=(0,c.Z)(this.context).getInstance();function te(de,Ee,Te,q){var ge=Math.pow(.5,Te/q.fast);de.fastEstimate=(1-ge)*Ee+ge*de.fastEstimate;var oe=Math.pow(.5,Te/q.slow);de.slowEstimate=(1-oe)*Ee+oe*de.slowEstimate,de.totalWeight+=Te}function Q(de,Ee,Te){return F.get().streaming.abr.movingAverageMethod!==r.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(q,ge){var oe=q?M.throughputHalfLife:M.latencyHalfLife,he=q?P[ge]:L[ge];if(!he||he.totalWeight<=0)return NaN;var N=he.fastEstimate/(1-Math.pow(.5,he.totalWeight/oe.fast)),H=he.slowEstimate/(1-Math.pow(.5,he.totalWeight/oe.slow));return q?Math.min(N,H):Math.max(N,H)}(de,Ee):(he=function(H,Y,B){var k,ne;if(H?(k=f[Y],ne=B?3:4):(k=v[Y],ne=4),k){if(ne>=k.length)ne=k.length;else if(H)for(var re=1;re<ne;++re){var me=k[k.length-re]/k[k.length-re-1];if((me>=1.3||me<=.7692307692307692)&&(ne+=1)===k.length)break}}else ne=0;return ne}(q=de,ge=Ee,Te),N=(q?f:v)[ge],0!==he&&N&&0!==N.length?(N=N.slice(-he)).reduce(function(H,Y){return H+Y})/N.length:NaN);var q,ge,he,N}function U(de,Ee){return Q(!0,de,Ee)}function $(de){f[de]=f[de]||[],v[de]=v[de]||[],P[de]=P[de]||{fastEstimate:0,slowEstimate:0,totalWeight:0},L[de]=L[de]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function X(){f={},v={},P={},L={}}var Se={push:function(de,Ee,Te){if(Ee.trace&&Ee.trace.length){var q,ge=Ee.tresponse.getTime()-Ee.trequest.getTime()||1,oe=Ee._tfinish.getTime()-Ee.tresponse.getTime()||1,he=Ee.trace.reduce(function(B,k){return B+k.b[0]},0),N=0;if(0!==(q=Ee._fileLoaderType&&Ee._fileLoaderType===r.Z.FILE_LOADER_TYPES.FETCH?Ee.trace.reduce(function(B,k){return B+k.d},0):Te?oe:ge+oe)&&(N=Math.round(8*he/q)),Ee.cmsd){var H=Ee.cmsd.dynamic&&Ee.cmsd.dynamic.etp?Ee.cmsd.dynamic.etp:null;if(H){var Y=F.get().streaming.cmsd.abr.etpWeightRatio;Y>0&&Y<=1&&(N=N*(1-Y)+H*Y)}}if($(de),ne=oe,(B=de)===r.Z.VIDEO?ne<F.get().streaming.cacheLoadThresholds[r.Z.VIDEO]:B===r.Z.AUDIO?ne<F.get().streaming.cacheLoadThresholds[r.Z.AUDIO]:void 0){if(f[de].length>0&&!f[de].hasCachedEntries)return;f[de].hasCachedEntries=!0}else f[de]&&f[de].hasCachedEntries&&function(B){delete f[B],delete v[B],delete P[B],delete L[B],$(B)}(de);f[de].push(N),W.trigger(e.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:N,mediaType:de,httpRequest:Ee}),f[de].length>20&&f[de].shift(),v[de].push(ge),v[de].length>20&&v[de].shift(),te(P[de],N,.001*oe,M.throughputHalfLife),te(L[de],ge,1,M.latencyHalfLife)}var B,ne},getAverageThroughput:U,getSafeAverageThroughput:function(de,Ee){var Te=U(de,Ee);return isNaN(Te)||(Te*=F.get().streaming.abr.bandwidthSafetyFactor),Te},getAverageLatency:function(de){return Q(!1,de)},reset:X};return M={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},X(),Se}ka.__dashjs_factory_name="ThroughputHistory";const ss=o.Z.getClassFactory(ka);function Vi(){var h,f,v,P,L,M,R,F,W,te,Q,U,$,X,Se,de,Ee,Te,q,ge,oe,he,N,H,Y,B,k,ne=this.context,re=(0,y.Z)(ne).getInstance(),me=(0,c.Z)(ne).getInstance();function Z(){L={},M={},F={},R={},ge={},N={},H={},Y={},void 0===te&&(te=!1),oe&&oe.reset(),q=void 0,oe=void 0,he=void 0,clearTimeout(W),W=null}function K(xe){var _e=xe.request.mediaType,He=xe.streamId;if(_e&&He&&R[He]&&k.get().streaming.abr.autoSwitchBitrate[_e]){var De=R[He][_e];if(De){var ze=La(ne).create({abrController:h,streamProcessor:De,currentRequest:xe.request,useBufferOccupancyABR:N[_e],useL2AABR:H[_e],useLoLPABR:Y[_e],videoModel:X}),Xe=v.shouldAbandonFragment(ze,He);Xe.quality>yi.Z.NO_CHANGE&&De.getFragmentModel().getRequests({state:_.FRAGMENT_MODEL_LOADING,index:xe.request.index})[0]&&(F[He][_e].state=d.Z.ABANDON_LOAD,ge[He][_e].reset(),ge[He][_e].push({oldValue:Me(_e,He),newValue:Xe.quality,confidence:1,reason:Xe.reason}),Ye(_e,P.getActiveStreamInfo(),Xe.quality,Xe.reason),clearTimeout(W),W=setTimeout(function(){F[He][_e].state=d.Z.ALLOW_LOAD,W=null},k.get().streaming.abandonLoadTimeout))}}}function Ae(xe){xe.mediaType===r.Z.VIDEO&&(void 0!==q&&oe.push(xe.streamId,q,X.getPlaybackQuality()),q=xe.newQuality)}function Fe(xe){var _e,He;xe.metric!==d.Z.HTTP_REQUEST||!xe.value||xe.value.type!==w.w.MEDIA_SEGMENT_TYPE||xe.mediaType!==r.Z.AUDIO&&xe.mediaType!==r.Z.VIDEO||he.push(xe.mediaType,xe.value,k.get().streaming.abr.useDeadTimeLatency),xe.metric!==d.Z.BUFFER_LEVEL||xe.mediaType!==r.Z.AUDIO&&xe.mediaType!==r.Z.VIDEO||(_e=xe.mediaType,He=.001*xe.value.level,k.get().streaming.abr.ABRStrategy===r.Z.ABR_STRATEGY_DYNAMIC&&function(De,ze){try{var Xe=Se.getStableBufferTime(),At=N[De],qt=ze>(At?.5*Xe:Xe);N[De]=qt,qt!==At&&f.info(qt?"["+De+"] switching from throughput to buffer occupancy ABR rule (buffer: "+ze.toFixed(3)+").":"["+De+"] switching from buffer occupancy to throughput ABR rule (buffer: "+ze.toFixed(3)+").")}catch(zt){f.error(zt)}}(_e,He))}function Ue(xe,_e){try{var He;return L[_e]=L[_e]||{},L[_e].hasOwnProperty(xe)||(L[_e][xe]=0),He=function(De,ze){var Xe=L[ze][De],$e=Xe;if(!R[ze]||!R[ze][De])return $e;var gt=je(De,ze);void 0!==gt&&($e=Math.max(Xe,gt));var At=function(qt,zt){try{var Bt=Se.getAbrBitrateParameter("maxBitrate",qt);return Bt>-1?ot(R[zt][qt].getMediaInfo(),Bt,zt):void 0}catch{return}}(De,ze);return void 0!==At&&($e=Math.min($e,At)),$e}(xe,_e),De=He,$e=L[_e][ze=xe],gt=k.get().streaming.abr.maxRepresentationRatio[ze],He=function(De,ze,Xe){if(ze!==r.Z.VIDEO||!k.get().streaming.abr.limitBitrateByPortal||!R[Xe]||!R[Xe][ze])return De;te||Pt();var $e=R[Xe][ze].getStreamInfo(),gt=$.getAdaptationForType($e.index,ze,$e).Representation_asArray,At=De;if(Q>0&&U>0){for(;At>0&&gt[At]&&Q<gt[At].width&&Q-gt[At-1].width<gt[At].width-Q;)At-=1;for(;At<gt.length-1&&gt[At].width===gt[At+1].width;)At+=1}return At}(He=isNaN(gt)||gt>=1||gt<0?De:Math.min(De,Math.round($e*gt)),xe,_e),k.get().streaming.cmsd.enabled&&k.get().streaming.cmsd.abr.applyMb&&(He=function(De,ze,Xe){if("video"!==ze)return De;var $e=Ee.getMaxBitrate(ze);if($e<0)return De;var gt=it(Xe,"audio",Me("audio",Xe));$e-=gt?gt.bitrate/1e3:0;var At=ot(R[Xe][ze].getMediaInfo(),$e,Xe);return f.debug("Stream ID: "+Xe+" ["+ze+"] Apply max bit rate from CMSD: "+$e),Math.min(De,At)}(He,xe,_e)),He}catch{return}var De,ze,$e,gt}function je(xe,_e){try{return function(He,De){try{var ze=Se.getAbrBitrateParameter("minBitrate",He);if(ze>-1){var Xe=R[De][He].getMediaInfo(),$e=bt(Xe),gt=ot(Xe,ze,De);return $e[gt]&&gt<$e.length-1&&$e[gt].bitrate<1e3*ze&&gt++,gt}return}catch{return}}(xe,_e)}catch{return}}function Me(xe){var _e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return _e||(_e=P.getActiveStreamInfo().id),xe&&R[_e]&&R[_e][xe]&&_e?(M[_e]=M[_e]||{},M[_e].hasOwnProperty(xe)||(M[_e][xe]=0),M[_e][xe]):0}catch{return 0}}function Ye(xe,_e,He){var De=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(_e&&_e.id&&xe){var ze=_e.id,Xe=Me(xe,ze);(0,z.SE)(He);var $e=Ue(xe,ze);He!==Xe&&He>=0&&He<=$e&&dt(xe,Xe,He,$e,De,ze)}}function dt(xe,_e,He,De,ze,Xe){if(xe&&R[Xe]&&R[Xe][xe]){var $e=R[Xe][xe].getStreamInfo(),gt=$e&&$e.manifestInfo&&$e.manifestInfo.isDynamic,At=B.getCurrentBufferLevel(xe);f.info("Stream ID: "+Xe+" ["+xe+"] switch from "+_e+" to "+He+"/"+De+" (buffer: "+At+") "+(ze?JSON.stringify(ze):".")),M[Xe]=M[Xe]||{},M[Xe][xe]=He;var qt=it(Xe,xe,He);me.trigger(i.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:_e,newQuality:He,reason:ze,streamInfo:$e,bitrateInfo:qt,maxIdx:De,mediaType:xe},{streamId:$e.id,mediaType:xe});var zt=he.getAverageThroughput(xe,gt);isNaN(zt)||Te.setSavedBitrateSettings(xe,zt)}}function it(xe,_e,He){if(_e&&R&&R[xe]&&R[xe][_e]){var De=bt(R[xe][_e].getMediaInfo());return De[He]?De[He]:null}return null}function ot(xe,_e,He){var De=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,ze=xe&&xe.type?R[He][xe.type].getRepresentationInfo():null;if(k.get().streaming.abr.useDeadTimeLatency&&De&&ze&&ze.fragmentDuration){var Xe=ze.fragmentDuration;if((De/=1e3)>Xe)return 0;_e*=1-De/Xe}for(var gt=bt(xe),At=gt.length-1;At>=0;At--)if(1e3*_e>=gt[At].bitrate)return At;return 0}function bt(xe){var _e=[];if(!xe||!xe.bitrateList)return _e;for(var He,De=xe.bitrateList,ze=xe.type,Xe=0,$e=De.length;Xe<$e;Xe++)(He=new ti).mediaType=ze,He.qualityIndex=Xe,He.bitrate=De[Xe].bandwidth,He.width=De[Xe].width,He.height=De[Xe].height,He.scanType=De[Xe].scanType,_e.push(He);return _e}function Pt(){if(X){var xe=k.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;Q=X.getClientWidth()*xe,U=X.getClientHeight()*xe}}return h={initialize:function(){oe=os(ne).create(),he=ss(ne).create({settings:k}),(v=(0,is.Z)(ne).create({dashMetrics:B,customParametersModel:de,mediaPlayerModel:Se,settings:k})).initialize(),me.on(e.Z.QUALITY_CHANGE_RENDERED,Ae,h),me.on(e.Z.METRIC_ADDED,Fe,h),me.on(i.Z.LOADING_PROGRESS,K,h)},isPlayingAtTopQuality:function(xe){var _e=xe?xe.id:null,He=Me(r.Z.AUDIO,_e),De=Me(r.Z.VIDEO,_e);return He===Ue(r.Z.AUDIO,_e)&&De===Ue(r.Z.VIDEO,_e)},updateTopQualityIndex:function(xe){var _e=xe.type,He=xe.streamInfo.id,De=xe.representationCount-1;return L[He]=L[He]||{},L[He][_e]=De,De},clearDataForStream:function(xe){oe&&oe.clearForStream(xe),R[xe]&&delete R[xe],ge[xe]&&delete ge[xe],F[xe]&&delete F[xe]},getThroughputHistory:function(){return he},getBitrateList:bt,getQualityForBitrate:ot,getTopBitrateInfoFor:function(xe){var _e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(_e||(_e=P.getActiveStreamInfo().id),xe&&R&&R[_e]&&R[_e][xe]){var He=Ue(xe,_e),De=bt(R[_e][xe].getMediaInfo());return De[He]?De[He]:null}return null},getMinAllowedIndexFor:je,getMaxAllowedIndexFor:Ue,getInitialBitrateFor:function(xe,_e){if(function(){if(!Te||!Te.hasOwnProperty("getSavedBitrateSettings"))throw new Error(r.Z.MISSING_CONFIG_ERROR)}(),xe===r.Z.TEXT)return NaN;var He=Te.getSavedBitrateSettings(xe),De=Se.getAbrBitrateParameter("initialBitrate",xe),ze=k.get().streaming.abr.initialRepresentationRatio[xe];if(-1===De)if(ze>-1){var Xe=R[_e][xe].getStreamInfo(),$e=$.getAdaptationForType(Xe.index,xe,Xe).Representation_asArray;De=Array.isArray($e)?$e[Math.max(Math.round($e.length*ze)-1,0)].bandwidth/1e3:0}else De=isNaN(He)?xe===r.Z.VIDEO?1e3:100:He;return De},getQualityFor:Me,getAbandonmentStateFor:function(xe,_e){return F[xe]&&F[xe][_e]?F[xe][_e].state:null},setPlaybackQuality:Ye,checkPlaybackQuality:function(xe,_e){try{if(!(xe&&R&&R[_e]&&R[_e][xe]))return!1;if(oe){var He=X.getPlaybackQuality();He&&oe.push(_e,q,He)}if(!k.get().streaming.abr.autoSwitchBitrate[xe])return!1;var De=Me(xe,_e),ze=La(ne).create({abrController:h,switchHistory:ge[_e][xe],droppedFramesHistory:oe,streamProcessor:R[_e][xe],currentValue:De,useBufferOccupancyABR:N[xe],useL2AABR:H[xe],useLoLPABR:Y[xe],videoModel:X}),Xe=je(xe,_e),$e=Ue(xe,_e),gt=v.getMaxQuality(ze),At=gt.quality;return void 0!==Xe&&(At>yi.Z.NO_CHANGE?At:De)<Xe&&(At=Xe),At>$e&&(At=$e),ge[_e][xe].push({oldValue:De,newValue:At}),At>yi.Z.NO_CHANGE&&At!==De&&(F[_e][xe].state===d.Z.ALLOW_LOAD||At<De)&&(dt(xe,De,At,$e,gt.reason,_e),!0)}catch{return!1}},setElementSize:Pt,setWindowResizeEventCalled:function(xe){te=xe},registerStreamType:function(xe,_e){var De,ze,He=_e.getStreamInfo().id;R[He]||(R[He]={}),ge[He]||(ge[He]={}),F[He]||(F[He]={}),ge[He][xe]=as(ne).create(),R[He][xe]=_e,F[He][xe]={},F[He][xe].state=d.Z.ALLOW_LOAD,De=xe,(ze=k.get().streaming.abr.ABRStrategy)===r.Z.ABR_STRATEGY_L2A?(N[De]=!1,Y[De]=!1,H[De]=!0):ze===r.Z.ABR_STRATEGY_LoLP?(N[De]=!1,Y[De]=!0,H[De]=!1):ze===r.Z.ABR_STRATEGY_BOLA?(N[De]=!0,Y[De]=!1,H[De]=!1):ze===r.Z.ABR_STRATEGY_THROUGHPUT?(N[De]=!1,Y[De]=!1,H[De]=!1):ze===r.Z.ABR_STRATEGY_DYNAMIC&&(N[De]=!(!N||!N[De])&&N[De],Y[De]=!1,H[De]=!1),xe===r.Z.VIDEO&&Pt()},unRegisterStreamType:function(xe,_e){try{R[xe]&&R[xe][_e]&&delete R[xe][_e],ge[xe]&&ge[xe][_e]&&delete ge[xe][_e],F[xe]&&F[xe][_e]&&delete F[xe][_e]}catch{}},setConfig:function(xe){xe&&(xe.streamController&&(P=xe.streamController),xe.domStorage&&(Te=xe.domStorage),xe.mediaPlayerModel&&(Se=xe.mediaPlayerModel),xe.customParametersModel&&(de=xe.customParametersModel),xe.cmsdModel&&(Ee=xe.cmsdModel),xe.dashMetrics&&(B=xe.dashMetrics),xe.adapter&&($=xe.adapter),xe.videoModel&&(X=xe.videoModel),xe.settings&&(k=xe.settings))},reset:function(){Z(),me.off(i.Z.LOADING_PROGRESS,K,h),me.off(e.Z.QUALITY_CHANGE_RENDERED,Ae,h),me.off(e.Z.METRIC_ADDED,Fe,h),v&&v.reset()}},f=re.getLogger(h),Z(),h}Vi.__dashjs_factory_name="AbrController";var Yi=o.Z.getSingletonFactory(Vi);Yi.QUALITY_DEFAULT=0,o.Z.updateSingletonFactory(Vi.__dashjs_factory_name,Yi);const ls=Yi;var us=new Map([[r.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[r.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[r.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[r.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Ua(){var h,f,v,P,L,M,R=this.context,F=(0,c.Z)(R).getInstance(),W=[];function te(){v&&(v.playbackRate=1,v.removeEventListener("canplay",te))}function Q(){return W.length>0}function U(){if(v&&Q()&&0===v.playbackRate){var q=document.createEvent("Event");q.initEvent("waiting",!0,!1),v.dispatchEvent(q)}}function $(q,ge){v&&v.addEventListener(q,ge)}function X(q,ge){v&&v.removeEventListener(q,ge)}function Se(){return v?v.readyState:NaN}function de(){return v?v.buffered:null}function Ee(q,ge,oe,he,N){if(v)for(var H=0;H<v.textTracks.length;H++)if(v.textTracks[H].kind===q&&(!ge||v.textTracks[H].label==ge)&&v.textTracks[H].language===oe&&v.textTracks[H].isTTML===he&&v.textTracks[H].isEmbedded===N)return v.textTracks[H];return null}function Te(q,ge){var oe,he;q===r.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||Se()>=q?ge():(oe=us.get(q),he=ge,$(oe,function N(){X(oe,N),he(oe)}))}return h={initialize:function(){F.on(i.Z.PLAYBACK_PLAYING,U,this)},setCurrentTime:function(q,ge){v&&(P=q,Te(r.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(v.currentTime!==P)try{P=ge?function(oe){var he=de(),N=oe,H=9999999999;if(he)for(var Y=0;Y<he.length;Y++){var B=he.start(Y),k=he.end(Y),ne=Math.abs(B-oe),re=Math.abs(k-oe);if(oe>=B&&oe<=k)return oe;ne<H&&(H=ne,N=B),re<H&&(H=re,N=k)}return N}(P):P,v.currentTime=P,P=NaN}catch(oe){0===v.readyState&&oe.code===oe.INVALID_STATE_ERR&&setTimeout(function(){v.currentTime=P,P=NaN},400)}else P=NaN}))},play:function(){if(v){v.autoplay=!0;var q=v.play();q&&q.catch&&typeof Promise<"u"&&q.catch(function(ge){"NotAllowedError"===ge.name&&F.trigger(i.Z.PLAYBACK_NOT_ALLOWED),f.warn("Caught pending play exception - continuing (".concat(ge,")"))})}},isPaused:function(){return v?v.paused:null},pause:function(){v&&(v.pause(),v.autoplay=!1)},isStalled:Q,isSeeking:function(){return v?v.seeking||!isNaN(P):null},getTime:function(){return v?isNaN(P)?v.currentTime:P:null},getPlaybackRate:function(){return v?v.playbackRate:null},setPlaybackRate:function(q){v&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&v.readyState<=2&&q>0?v.addEventListener("canplay",te):v.playbackRate=q)},getPlayedRanges:function(){return v?v.played:null},getEnded:function(){return v?v.ended:null},setStallState:function(q,ge){var oe,N;oe=q,ge?null!==(N=oe)&&v&&!v.seeking&&-1===W.indexOf(N)&&W.push(N):function(N){var H=W.indexOf(N);null!==N&&-1!==H&&W.splice(H,1)}(oe)},getElement:function(){return v},setElement:function(q){if(!(null==q||q&&/^(VIDEO|AUDIO)$/i.test(q.nodeName)))throw"element is not video or audio DOM type!";(v=q)&&(v.preload="auto")},setSource:function(q){v&&(q?v.src=q:(v.removeAttribute("src"),v.load()))},getSource:function(){return v?v.src:null},getTTMLRenderingDiv:function(){return L},setTTMLRenderingDiv:function(q){(L=q).style.position="absolute",L.style.display="flex",L.style.overflow="hidden",L.style.pointerEvents="none",L.style.top=0,L.style.left=0},getVttRenderingDiv:function(){return M},setVttRenderingDiv:function(q){M=q},getPlaybackQuality:function(){if(!v)return null;var q="webkitDroppedFrameCount"in v&&"webkitDecodedFrameCount"in v,ge=null;return"getVideoPlaybackQuality"in v?ge=v.getVideoPlaybackQuality():q&&(ge={droppedVideoFrames:v.webkitDroppedFrameCount,totalVideoFrames:v.webkitDroppedFrameCount+v.webkitDecodedFrameCount,creationTime:new Date}),ge},addEventListener:$,removeEventListener:X,getReadyState:Se,getBufferRange:de,getClientWidth:function(){return v?v.clientWidth:NaN},getClientHeight:function(){return v?v.clientHeight:NaN},getTextTracks:function(){return v?v.textTracks:[]},getTextTrack:Ee,addTextTrack:function(q,ge,oe,he,N){if(!v)return null;var H=Ee(q,ge,oe,he,N);return H||((H=v.addTextTrack(q,ge,oe)).isEmbedded=N,H.isTTML=he),H},appendChild:function(q){v&&(v.appendChild(q),void 0!==q.isTTML&&(v.textTracks[v.textTracks.length-1].isTTML=q.isTTML,v.textTracks[v.textTracks.length-1].isEmbedded=q.isEmbedded))},removeChild:function(q){v&&v.removeChild(q)},getVideoWidth:function(){return v?v.videoWidth:NaN},getVideoHeight:function(){return v?v.videoHeight:NaN},getVideoRelativeOffsetTop:function(){if(v){var q=v.parentNode.host||v.parentNode;return q?v.getBoundingClientRect().top-q.getBoundingClientRect().top:NaN}return NaN},getVideoRelativeOffsetLeft:function(){if(v){var q=v.parentNode.host||v.parentNode;return q?v.getBoundingClientRect().left-q.getBoundingClientRect().left:NaN}return NaN},waitForReadyState:Te,reset:function(){F.off(i.Z.PLAYBACK_PLAYING,U,this)}},f=(0,y.Z)(R).getInstance().getLogger(h),P=NaN,h}Ua.__dashjs_factory_name="VideoModel";const cs=o.Z.getSingletonFactory(Ua);var fs=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],Ba="dashjs_?_bitrate",Za="dashjs_?_settings",Mr="localStorage",Ga="lastBitrate",ja="lastMediaSettings";function Ha(h){var f,v,P,M=(h=h||{}).settings;function R(Q){if(void 0!==P)return P;var U;P=!1;try{typeof window<"u"&&(U=window[Q])}catch($){return v.warn("DOMStorage access denied: "+$.message),P}if(!U||Q!==Mr&&"sessionStorage"!==Q)return P;try{U.setItem("1","1"),U.removeItem("1"),P=!0}catch($){v.warn("DOMStorage is supported, but cannot be used: "+$.message)}return P}function F(){var Q=6e5;return Math.round((new Date).getTime()/Q)*Q}function W(Q,U){return R(Q)&&M.get().streaming[U+"CachingInfo"].enabled}function te(){if(!M)throw new Error(r.Z.MISSING_CONFIG_ERROR)}return f={getSavedBitrateSettings:function(Q){if(te(),!M.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var U=NaN;if(W(Mr,Ga)){var $=Ba.replace(/\?/,Q);try{var X=JSON.parse(localStorage.getItem($))||{},Se=(new Date).getTime()-parseInt(X.timestamp,10)>=M.get().streaming.lastBitrateCachingInfo.ttl||!1,de=parseFloat(X.bitrate);isNaN(de)||Se?Se&&localStorage.removeItem($):(U=de,v.debug("Last saved bitrate for "+Q+" was "+de))}catch{return null}}return U},setSavedBitrateSettings:function(Q,U){if(W(Mr,Ga)&&U){var $=Ba.replace(/\?/,Q);try{localStorage.setItem($,JSON.stringify({bitrate:U.toFixed(3),timestamp:F()}))}catch(X){v.error(X.message)}}},getSavedMediaSettings:function(Q){if(te(),!M.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var U=null;if(W(Mr,ja)){var $=Za.replace(/\?/,Q);try{var X=JSON.parse(localStorage.getItem($))||{},Se=(new Date).getTime()-parseInt(X.timestamp,10)>=M.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;U=X.settings,Se&&(localStorage.removeItem($),U=null)}catch{return null}}return U},setSavedMediaSettings:function(Q,U){if(W(Mr,ja)){var $=Za.replace(/\?/,Q);try{localStorage.setItem($,JSON.stringify({settings:U,timestamp:F()}))}catch(X){v.error(X.message)}}}},v=(0,y.Z)(this.context).getInstance().getLogger(f),R(Mr)&&fs.forEach(function(Q){var U=localStorage.getItem(Q.oldKey);if(U){localStorage.removeItem(Q.oldKey);try{localStorage.setItem(Q.newKey,U)}catch($){v.error($.message)}}}),f}Ha.__dashjs_factory_name="DOMStorage";const ds=o.Z.getSingletonFactory(Ha);var gs=D(2032),qa=D(2011);function Va(){var h,f,v,P,L,M,R,F,W,te,Q,U,$,X=this.context;function Se(q,ge,oe,he){var N=null,H=q?$.resolve(q.path):null,Y=he||{init:!0,url:H?H.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ge};f.debug("Start searching for initialization.");var B=Te(Y);F.load({request:B,success:function(k){if(Y.bytesLoaded=Y.range.end,!(N=P.findInitRange(k)))return Y.range.end=Y.bytesLoaded+Y.bytesToLoad,Se(q,ge,oe,Y);q.range=N,oe(q)},error:function(){oe(q)}}),f.debug("Perform init search: "+Y.url)}function de(q,ge,oe,he,N,H){if(oe&&(void 0===oe.start||void 0===oe.end)){var Y=oe?oe.toString().split("-"):null;oe=Y?{start:parseFloat(Y[0]),end:parseFloat(Y[1])}:null}N=N||Ee;var B=null,k=null,ne=!!oe,re=q?$.resolve(q.path):null,me={init:!1,url:re?re.url:void 0,range:ne?oe:{start:0,end:1500},searching:!ne,bytesLoaded:H?H.bytesLoaded:0,bytesToLoad:1500,mediaType:ge},Z=Te(me);F.load({request:Z,success:function(K){var Ae=me.bytesToLoad,Fe=K.byteLength;if(me.bytesLoaded=me.range.end-me.range.start,B=P.parse(K),(k=B.getBox("sidx"))&&k.isComplete){var Ue,je,Me=k.references;if(null!=Me&&Me.length>0&&(Ue=1===Me[0].reference_type),Ue){var Ye,dt,it,ot;f.debug("Initiate multiple SIDX load."),me.range.end=me.range.start+k.size;var bt=[],Pt=0,xe=(k.offset||me.range.start)+k.size,_e=function(De){De?(bt=bt.concat(De),++Pt>=dt&&(bt.sort(function(ze,Xe){return ze.startTime-Xe.startTime<0?-1:0}),N(bt,q,he))):N(null,q,he)};for(Ye=0,dt=Me.length;Ye<dt;Ye++)it=xe,ot=xe+Me[Ye].referenced_size-1,xe+=Me[Ye].referenced_size,de(q,ge,{start:it,end:ot},he,_e,me)}else f.debug("Parsing segments from SIDX. representation "+ge+" - id: "+q.id+" for range : "+me.range.start+" - "+me.range.end),je=function(De,ze){for(var Xe,gt,At,qt=De.references,zt=qt.length,Bt=De.timescale,Kt=De.earliest_presentation_time,Xt=ze.range.start+De.offset+De.first_offset+De.size,sn=[],dn=0;dn<zt;dn++)gt=qt[dn].subsegment_duration,At=qt[dn].referenced_size,(Xe=new qa.Z).duration=gt,Xe.startTime=Kt,Xe.timescale=Bt,Xe.mediaRange=Xt+"-"+(Xt+At-1),sn.push(Xe),Kt+=gt,Xt+=At;return sn}(k,me),N(je,q,he)}else{if(k)me.range.start=k.offset||me.range.start,me.range.end=me.range.start+(k.size||Ae);else{if(Fe<me.bytesLoaded)return void N(null,q,he);var He=B.getLastBox();He&&He.size?(me.range.start=He.offset+He.size,me.range.end=me.range.start+Ae):me.range.end+=Ae}de(q,ge,me.range,he,null,me)}},error:function(){N(null,q,he)}}),f.debug("Perform SIDX load for type ".concat(ge," : ").concat(me.url," with range ").concat(me.range.start," - ").concat(me.range.end))}function Ee(q,ge,oe){oe({segments:q,representation:ge,error:q?void 0:new O.Z(W.SEGMENT_BASE_LOADER_ERROR_CODE,W.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function Te(q){if(q.url){var ge=new T.Z;return ge.setInfo(q),ge}}return h={setConfig:function(q){q.baseURLController&&($=q.baseURLController),q.dashMetrics&&(M=q.dashMetrics),q.mediaPlayerModel&&(R=q.mediaPlayerModel),q.errHandler&&(v=q.errHandler),q.boxParser&&(P=q.boxParser),q.debug&&(f=q.debug.getLogger(h)),q.requestModifier&&(L=q.requestModifier),q.errors&&(W=q.errors),q.urlUtils&&(U=q.urlUtils),q.constants&&(te=q.constants),q.dashConstants&&(Q=q.dashConstants)},initialize:function(){F=Jn(X).create({errHandler:v,dashMetrics:M,mediaPlayerModel:R,requestModifier:L,boxParser:P,errors:W,urlUtils:U,constants:te,dashConstants:Q})},loadInitialization:function(q,ge){return new Promise(function(oe){Se(q,ge,oe)})},loadSegments:function(q,ge,oe){return new Promise(function(he){de(q,ge,oe,he)})},reset:function(){F&&(F.abort(),F=null)}}}Va.__dashjs_factory_name="SegmentBaseLoader";const ms=o.Z.getSingletonFactory(Va);function Ya(h){var f;h=h||{};var v=new DataView(h.data),P=0;function L(R,F){var W=!0,te=0;if(void 0===F&&(F=!1),R.tag>16777215?(v.getUint32(P)!==R.tag&&(W=!1),te=4):R.tag>65535?(256*v.getUint16(P)+v.getUint8(P+2)!==R.tag&&(W=!1),te=3):R.tag>255?(v.getUint16(P)!==R.tag&&(W=!1),te=2):(v.getUint8(P)!==R.tag&&(W=!1),te=1),!W&&R.required&&!F)throw new Error("required tag not found");return W&&(P+=te),W}function M(R){var F=1,W=128,te=-1,Q=0,U=v.getUint8(P),$=0;for($=0;$<8;$+=1){if((U&W)===W){Q=void 0===R?U&~W:U,te=$;break}W>>=1}for($=0;$<te;$+=1,F+=1)Q=Q<<8|255&v.getUint8(P+F);return P+=F,Q}return f={getPos:function(){return P},setPos:function(R){P=R},consumeTag:L,consumeTagAndSize:function(R,F){var W=L(R,F);return W&&M(),W},parseTag:function(R){var F;return L(R),F=M(),f[R.parse](F)},skipOverElement:function(R,F){var W,te=L(R,F);return te&&(W=M(),P+=W),te},getMatroskaCodedNum:M,getMatroskaFloat:function(R){var F;switch(R){case 4:F=v.getFloat32(P),P+=4;break;case 8:F=v.getFloat64(P),P+=8}return F},getMatroskaUint:function(R){if(R>4)return function(te){for(var Q=Math.floor(Number.MAX_SAFE_INTEGER/256),U=0,$=0;$<te;$+=1){if(U>Q)throw new Error("Value exceeds safe integer limit");U*=256;var X=v.getUint8(P+$);if(U>Number.MAX_SAFE_INTEGER-X)throw new Error("Value exceeds safe integer limit");U+=X}return P+=te,U}(R);for(var F=0,W=0;W<R;W+=1)F<<=8,F|=255&v.getUint8(P+W);return P+=R,F>>>0},moreData:function(){return P<v.byteLength}}}Ya.__dashjs_factory_name="EBMLParser";const za=o.Z.getClassFactory(Ya);function Ka(){var h,f,v,P,L,M,R,F,W,te,Q=this.context;function U($){var X=new T.Z;return X.setInfo($),X}return h={setConfig:function($){if(!($.baseURLController&&$.dashMetrics&&$.mediaPlayerModel&&$.errHandler))throw new Error(r.Z.MISSING_CONFIG_ERROR);te=$.baseURLController,M=$.dashMetrics,R=$.mediaPlayerModel,P=$.errHandler,W=$.errors,f=$.debug.getLogger(h),L=$.requestModifier},initialize:function(){F=Jn(Q).create({errHandler:P,dashMetrics:M,mediaPlayerModel:R,requestModifier:L,errors:W})},loadInitialization:function($,X){return new Promise(function(Se){var de=null,Ee=$?te.resolve($.path):null,Te=$?$.range.split("-"):null,q={range:{start:Te?parseFloat(Te[0]):null,end:Te?parseFloat(Te[1]):null},request:de,url:Ee?Ee.url:void 0,init:!0,mediaType:X};f.info("Start loading initialization."),de=U(q),F.load({request:de,success:function(){Se($)},error:function(){Se($)}}),f.debug("Perform init load: "+q.url)})},loadSegments:function($,X,Se){return new Promise(function(de){var Ee=null,Te=$?te.resolve($.path):null,q=Te?Te.url:void 0;Ee=U({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Ee,url:q,init:!1,mediaType:X}),f.debug("Parsing ebml header"),F.load({request:Ee,success:function(ge){!function(oe,he,N,H){if(oe&&0!==oe.byteLength){var Y,B,k,ne,re=za(Q).create({data:oe}),me=N?N.split("-"):null,Z=null,K={url:he,range:{start:me?parseFloat(me[0]):null,end:me?parseFloat(me[1]):null},request:Z};for(f.debug("Parse EBML header: "+K.url),re.skipOverElement(v.EBML),re.consumeTag(v.Segment),k=re.getMatroskaCodedNum(),k+=re.getPos(),ne=re.getPos();re.moreData()&&!re.consumeTagAndSize(v.Segment.Info,!0);)if(!(re.skipOverElement(v.Segment.SeekHead,!0)||re.skipOverElement(v.Segment.Tracks,!0)||re.skipOverElement(v.Segment.Cues,!0)||re.skipOverElement(v.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Y;){var Ae=re.getMatroskaCodedNum(!0),Fe=re.getMatroskaCodedNum();Ae===v.Segment.Info.Duration.tag?Y=re[v.Segment.Info.Duration.parse](Fe):re.setPos(re.getPos()+Fe)}Z=U(K),F.load({request:Z,success:function(Ue){B=function(je,Me,Ye,dt){var ot,bt,Pt,xe,_e;for(bt=[],xe=0,_e=(ot=function(ze){var Xe,$e,gt=[],At=za(Q).create({data:ze});for(At.consumeTagAndSize(v.Segment.Cues);At.moreData()&&At.consumeTagAndSize(v.Segment.Cues.CuePoint,!0);){for((Xe={}).CueTime=At.parseTag(v.Segment.Cues.CuePoint.CueTime),Xe.CueTracks=[];At.moreData()&&At.consumeTag(v.Segment.Cues.CuePoint.CueTrackPositions,!0);){var qt=At.getMatroskaCodedNum(),zt=At.getPos();if(($e={}).Track=At.parseTag(v.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===$e.Track)throw new Error("Cue track cannot be 0");$e.ClusterPosition=At.parseTag(v.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),Xe.CueTracks.push($e),At.setPos(zt+qt)}if(0===Xe.CueTracks.length)throw new Error("Mandatory cuetrack not found");gt.push(Xe)}if(0===gt.length)throw new Error("mandatory cuepoint not found");return gt}(je)).length;xe<_e;xe+=1)(Pt=new qa.Z).duration=xe<ot.length-1?ot[xe+1].CueTime-ot[xe].CueTime:dt-ot[xe].CueTime,Pt.startTime=ot[xe].CueTime,Pt.timescale=1e3,Pt.mediaRange=ot[xe].CueTracks[0].ClusterPosition+Me+"-"+(xe<ot.length-1?ot[xe+1].CueTracks[0].ClusterPosition+Me-1:Ye-1),bt.push(Pt);return f.debug("Parsed cues: "+bt.length+" cues."),bt}(Ue,ne,k,Y),H(B)},error:function(){f.error("Download Error: Cues "+K.url),H(null)}}),f.debug("Perform cues load: "+K.url+" bytes="+K.range.start+"-"+K.range.end)}else H(null)}(ge,q,Se,function(oe){de({segments:oe,representation:$,error:oe?void 0:new O.Z(W.SEGMENT_BASE_LOADER_ERROR_CODE,W.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){de({representation:$,error:new O.Z(W.SEGMENT_BASE_LOADER_ERROR_CODE,W.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){F&&(F.abort(),F=null)}},v={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},h}Ka.__dashjs_factory_name="WebmSegmentBaseLoader";const hs=o.Z.getSingletonFactory(Ka);function Wa(h){var f,v,P,L=this.context,M=(h=h||{}).eventBus,R=h.events,F=h.dashMetrics,W=h.mediaPlayerModel,te=h.errHandler,Q=h.baseURLController,U=h.debug,$=h.boxParser,X=h.requestModifier,Se=h.errors;function de(Ee){return"webm"===(Ee?Ee.split("/")[1]:"").toLowerCase()}return f={initialize:function(){v.initialize(),P.initialize()},getSegmentBaseInitSegment:function(Ee){return de(Ee.representation.mimeType)?P.loadInitialization(Ee.representation,Ee.mediaType):v.loadInitialization(Ee.representation,Ee.mediaType)},getSegmentList:function(Ee){return de(Ee.mimeType)?P.loadSegments(Ee.representation,Ee.mediaType,Ee.representation?Ee.representation.indexRange:null):v.loadSegments(Ee.representation,Ee.mediaType,Ee.representation?Ee.representation.indexRange:null)},reset:function(){v.reset(),P.reset()}},v=ms(L).getInstance(),P=hs(L).getInstance(),v.setConfig({baseURLController:Q,dashMetrics:F,mediaPlayerModel:W,errHandler:te,eventBus:M,events:R,errors:Se,debug:U,boxParser:$,requestModifier:X}),P.setConfig({baseURLController:Q,dashMetrics:F,mediaPlayerModel:W,errHandler:te,eventBus:M,events:R,errors:Se,debug:U,requestModifier:X}),f}Wa.__dashjs_factory_name="SegmentBaseController";const ps=o.Z.getSingletonFactory(Wa),Xa=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},zi=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},Qa=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},ys=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null},Es=function(){function h(P){var L=this;(function(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")})(this,h),this.valid="/"==P[0],this.path=P.split("/").filter(function(M){return 0!==M.length}).map(function(M){var R={name:M},F=M.indexOf("[");if(-1!=F){R.name=M.substring(0,F);var W=M.substring(F+1,M.length-1);L.valid=L.valid&&-1==W.indexOf("[");var te=W.indexOf("=");-1!=te?(R.attribute={name:W.substring(1,te),value:W.substring(te+1)},-1!=["'",'"'].indexOf(R.attribute.value[0])&&(R.attribute.value=R.attribute.value.substring(1,R.attribute.value.length-1))):R.position=parseInt(W,10)-1}return R})}var v;return(v=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(P,L){for(var M=null,R=P,F=1,W="MPD";F<this.path.length&&null!==R;){M=R;var te=this.path[F];if(W=te.name,F!==this.path.length-1||!W.startsWith("@")){var Q=M[W+"_asArray"]||[];0===Q.length&&M[W]&&Q.push(M[W]),te.position?R=Q[te.position]||null:te.attribute?function(){var U=te.attribute;R=Q.filter(function($){return $[U.name]==U.value})[0]||null}():R=Q[0]||null}F++}return null===R?null:W.startsWith("@")?{name:W.substring(1),leaf:R,target:R}:{name:W,leaf:R,target:L?M:R}}}])&&function vs(h,f){for(var v=0;v<f.length;v++){var P=f[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(h,P.key,P)}}(h.prototype,v),h}(),Ts=function(){function h(P,L,M){(function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")})(this,h),this.action=P,this.xpath=L,this.value=M,this.position=null}var v;return(v=[{key:"getMpdTarget",value:function(P){return this.xpath.getMpdTarget(P,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}])&&function _s(h,f){for(var v=0;v<f.length;v++){var P=f[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(h,P.key,P)}}(h.prototype,v),h}();function Ja(){var h,f;return h={getIsPatch:function(P){return P&&P.hasOwnProperty(n.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(P){return P&&P.hasOwnProperty(n.Z.PUBLISH_TIME)?new Date(P[n.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(P){return P&&P.hasOwnProperty(n.Z.ORIGINAL_PUBLISH_TIME)?new Date(P[n.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(P){return P&&P[n.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(P){return P?(P.__children||[]).map(function(L){var M=Object.keys(L)[0];if("add"!==M&&"remove"!==M&&"replace"!==M)return f.warn("Ignoring node of invalid action: ".concat(M)),null;var R=L[M],F=R.sel;if("add"===M&&R.type){if(!R.type.startsWith("@"))return f.warn("Ignoring add action for prefixed namespace declaration: ".concat(R.type,"=").concat(R.__text)),null;F="".concat(F,"/").concat(R.type)}var W=new Es(F);if(!W.isValid())return f.warn("Ignoring action with invalid selector: ".concat(M," - ").concat(F)),null;var te=null;W.findsAttribute()?te=R.__text||"":"remove"!==M&&(te=R.__children.reduce(function(U,$){var X=Object.keys($)[0];return"#text"!==X&&(U[X]=U[X]||[],U[X].push($[X])),U},{}));var Q=new Ts(M,W,te);return"add"===M&&(Q.position=R.pos),Q}).filter(function(L){return!!L}):[]}},f=(0,y.Z)(this.context).getInstance().getLogger(h),h}Ja.__dashjs_factory_name="PatchManifestModel";const Ss=o.Z.getSingletonFactory(Ja);function $a(){var h,f,v,P,L,M,R,F=this.context;function W(Y,B,k){var re=f.getAdaptationsForType(P[0].mpd.manifest,Y,B);if(!re||0===re.length)return null;if(re.length>1&&k){var me=U(k,B);if(L[k.id]&&L[k.id][B])for(var Z=0,K=re.length;Z<K;Z++)if(te(L[k.id][B],me[Z]))return re[Z];for(var Ae=0,Fe=re.length;Ae<Fe;Ae++)if(f.getRolesForAdaptation(re[Ae]).filter(function(Ue){return Ue.value===n.Z.MAIN})[0])return re[Ae]}return re[0]}function te(Y,B){if(!Y||!B)return!1;var k=Y.id===B.id,ne=Y.codec===B.codec,re=Y.viewpoint===B.viewpoint,me=JSON.stringify(Y.viewpointsWithSchemeIdUri)===JSON.stringify(B.viewpointsWithSchemeIdUri),Z=Y.lang===B.lang,K=Y.roles.toString()===B.roles.toString(),Ae=JSON.stringify(Y.rolesWithSchemeIdUri)===JSON.stringify(B.rolesWithSchemeIdUri),Fe=Y.accessibility.toString()===B.accessibility.toString(),Ue=JSON.stringify(Y.accessibilitiesWithSchemeIdUri)===JSON.stringify(B.accessibilitiesWithSchemeIdUri),je=Y.audioChannelConfiguration.toString()===B.audioChannelConfiguration.toString(),Me=JSON.stringify(Y.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(B.audioChannelConfigurationsWithSchemeIdUri);return k&&ne&&re&&me&&Z&&K&&Ae&&Fe&&Ue&&je&&Me}function Q(Y,B,k,ne,re,me){var K,Ae,Fe,Ue,je,Me=[];if(!ne||0===ne.length)return[];var Ye=f.getAdaptationsForPeriod(B);for(Fe=0,je=ne.length;Fe<je;Fe++)if(K=q(Ye[Ae=f.getIndexForAdaptation(ne[Fe],Y,k.index)]),me){var dt=K.accessibility.length;for(Ue=0;Ue<dt;Ue++)if(K){var it=K.accessibility[Ue];if(0===it.indexOf("cea-608:")){var ot=it.substring(8).split(";");if("CC"===ot[0].substring(0,2))for(Ue=0;Ue<ot.length;Ue++)K||(K=q.call(this,Ye[Ae])),ge(K,ot[Ue].substring(0,3),ot[Ue].substring(4)),Me.push(K),K=null;else for(Ue=0;Ue<ot.length;Ue++)K||(K=q.call(this,Ye[Ae])),ge(K,"CC"+(Ue+1),ot[Ue]),Me.push(K),K=null}else 0===it.indexOf("cea-608")&&(ge(K,M.CC1,"eng"),Me.push(K),K=null)}}else re===M.IMAGE?(K.type=M.IMAGE,Me.push(K),K=null):K&&Me.push(K);return Me}function U(Y,B,k){var ne=P,re=k,me=[];if(re)he(),ne=$(re);else{if(!(P.length>0))return me;re=P[0].mpd.manifest}var Z=Te(Y,ne),K=f.getAdaptationsForType(re,Y?Y.index:null,B);return me=Q(re,Z,Y,K,B),B===M.TEXT&&(K=f.getAdaptationsForType(re,Y?Y.index:null,M.VIDEO),me=me.concat(Q(re,Z,Y,K,B,!0))),me}function $(Y){var B=X(Y);return f.getRegularPeriods(B)}function X(Y){var B=de(Y);return f.getMpd(B)}function Se(){P=[],L={}}function de(Y){return Y||(P.length>0?P[0].mpd.manifest:null)}function Ee(Y){try{var B=Te(Y.streamInfo,P),k=f.getAdaptationsForPeriod(B);return Y&&Y.streamInfo&&void 0!==Y.streamInfo.id&&k?k[Y.index]:null}catch{return null}}function Te(Y,B){for(var k=B.length,ne=0;ne<k;ne++){var re=B[ne];if(Y&&Y.id===re.id)return re}return null}function q(Y){if(!Y)return null;var B,k,ne,re,me,Z=new zi,K=Y.period.mpd.manifest.Period_asArray[Y.period.index].AdaptationSet_asArray[Y.index];if(Z.id=Y.id,Z.index=Y.index,Z.type=Y.type,Z.streamInfo=oe(Y.period),Z.representationCount=f.getRepresentationCount(K),Z.labels=f.getLabelsForAdaptation(K),Z.lang=f.getLanguageForAdaptation(K),Z.segmentAlignment=f.getSegmentAlignment(K),Z.subSegmentAlignment=f.getSubSegmentAlignment(K),B=f.getViewpointForAdaptation(K),Z.viewpoint=B.length?B[0].value:void 0,Z.viewpointsWithSchemeIdUri=B,me=f.getAccessibilityForAdaptation(K),Z.accessibility=me.map(function(Me){var Ye=Me.value,dt=Ye;return Me.schemeIdUri&&Me.schemeIdUri.search("cea-608")>=0&&void 0!==R&&(dt=Ye?"cea-608:"+Ye:"cea-608",Z.embeddedCaptions=!0),dt}),Z.accessibilitiesWithSchemeIdUri=me,k=f.getAudioChannelConfigurationForAdaptation(K),Z.audioChannelConfiguration=k.map(function(Me){return Me.value}),Z.audioChannelConfigurationsWithSchemeIdUri=k,0===Z.audioChannelConfiguration.length&&Array.isArray(K.Representation_asArray)&&K.Representation_asArray.length>0&&(ne=f.getAudioChannelConfigurationForRepresentation(K.Representation_asArray[0]),Z.audioChannelConfiguration=ne.map(function(Me){return Me.value}),Z.audioChannelConfigurationsWithSchemeIdUri=ne),re=f.getRolesForAdaptation(K),Z.roles=re.map(function(Me){return Me.value}),Z.rolesWithSchemeIdUri=re,Z.codec=f.getCodec(K),Z.mimeType=f.getMimeType(K),Z.contentProtection=f.getContentProtectionData(K),Z.bitrateList=f.getBitrateListForAdaptation(K),Z.selectionPriority=f.getSelectionPriority(K),Z.contentProtection){var Ae=Z.contentProtection.map(function(Me){return f.getKID(Me)}).filter(function(Me){return null!==Me});if(Ae.length){var Fe=Ae[0];Z.contentProtection.forEach(function(Me){Me.keyId=Fe})}}if(Z.isText=f.getIsText(K),Z.supplementalProperties=f.getSupplementalPropertiesForAdaptation(K),(!Z.supplementalProperties||0===Object.keys(Z.supplementalProperties).length)&&Array.isArray(K.Representation_asArray)&&K.Representation_asArray.length>0){var Ue=K.Representation_asArray.map(function(Me){return f.getSupplementalPropertiesForRepresentation(Me)});Ue.every(function(Me){return JSON.stringify(Me)===JSON.stringify(Ue[0])})&&(Z.supplementalProperties=Ue[0])}if(Z.supplementalPropertiesAsArray=f.getSupplementalPropertiesAsArrayForAdaptation(K),(!Z.supplementalPropertiesAsArray||0===Z.supplementalPropertiesAsArray.length)&&Array.isArray(K.Representation_asArray)&&K.Representation_asArray.length>0){var je=K.Representation_asArray.map(function(Me){return f.getSupplementalPropertiesAsArrayForRepresentation(Me)});je.every(function(Me){return JSON.stringify(Me)===JSON.stringify(je[0])})&&(Z.supplementalPropertiesAsArray=je[0])}return Z.isFragmented=f.getIsFragmented(K),Z.isEmbedded=!1,Z}function ge(Y,B,k){Y.id=B,Y.index=100+parseInt(B.substring(2,3)),Y.type=M.TEXT,Y.codec="cea-608-in-SEI",Y.isEmbedded=!0,Y.isFragmented=!1,Y.lang=si()(k),Y.roles=["caption"],Y.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function oe(Y){var B,k,ne=new Qa;return ne.id=Y.id,ne.index=Y.index,ne.start=Y.start,ne.duration=Y.duration,ne.manifestInfo=(B=Y.mpd,(k=new ys).dvrWindowSize=B.timeShiftBufferDepth,k.loadedTime=B.manifest.loadedTime,k.availableFrom=B.availabilityStartTime,k.minBufferTime=B.manifest.minBufferTime,k.maxFragmentDuration=B.maxSegmentDuration,k.duration=f.getDuration(B.manifest),k.isDynamic=f.getIsDynamic(B.manifest),k.serviceDescriptions=f.getServiceDescriptions(B.manifest),k.protocol=B.manifest.protocol,k),ne.isLast=1===Y.mpd.manifest.Period_asArray.length||Math.abs(ne.start+ne.duration-ne.manifestInfo.duration)<1,ne}function he(){if(!M)throw new Error("setConfig function has to be called previously")}function N(Y){return P.length>0?P[0].mpd.manifest.Period_asArray[Y]:null}function H(Y,B,k){var ne,re,me,Z,K;if(Y)for(ne=Y.AdaptationSet_asArray,Z=0;Z<ne.length;Z+=1)for(me=ne[Z].Representation_asArray,K=0;K<me.length;K+=1)if(B===(re=me[K]).id)return k?K:re;return null}return h={getBandwidthForRepresentation:function(Y,B){var k;return(k=H(N(B),Y))?k.bandwidth:null},getIndexForRepresentation:function(Y,B){return null!==(re=H(N(B),Y,!0))?re:-1;var re},getMaxIndexForBufferType:function(Y,B){return function(k,ne){var re,me,Z,K;if(!k||!ne)return-1;for(me=k.AdaptationSet_asArray,K=0;K<me.length;K+=1)if(Z=(re=me[K]).Representation_asArray,f.getIsTypeOf(re,ne))return Z.length;return-1}(N(B),Y)},convertRepresentationToRepresentationInfo:function(Y){if(Y){var B=new Xa,ne=f.getRepresentationFor(Y.index,Y.adaptation.period.mpd.manifest.Period_asArray[Y.adaptation.period.index].AdaptationSet_asArray[Y.adaptation.index]);return B.id=Y.id,B.quality=Y.index,B.bandwidth=f.getBandwidth(ne),B.fragmentDuration=Y.segmentDuration||(Y.segments&&Y.segments.length>0?Y.segments[0].duration:NaN),B.MSETimeOffset=Y.MSETimeOffset,B.mediaInfo=q(Y.adaptation),B}return null},getStreamsInfo:function(Y,B){var k=[],ne=P;if(Y&&(he(),ne=$(Y)),ne.length>0){(!B||B>ne.length)&&(B=ne.length);for(var re=0;re<B;re++)k.push(oe(ne[re]))}return k},getMediaInfoForType:function(Y,B){if(0===P.length||!Y)return null;var k=Te(Y,P);if(!k)return null;var ne=f.getAdaptationsForPeriod(k),re=W(Y.index,B,Y);return re?q(ne[f.getIndexForAdaptation(re,P[0].mpd.manifest,Y.index)]):null},getAllMediaInfoForType:U,getAdaptationForType:W,getRealAdaptation:function(Y,B){var k,ne,re=Te(Y,P);return k=B?B.id:null,P.length>0&&re&&(ne=k?f.getAdaptationForId(k,P[0].mpd.manifest,re.index):f.getAdaptationForIndex(B?B.index:null,P[0].mpd.manifest,re.index)),ne},getProducerReferenceTimes:function(Y,B){var k,ne,re=Te(Y,P);return k=B?B.id:null,P.length>0&&re&&(ne=k?f.getAdaptationForId(k,P[0].mpd.manifest,re.index):f.getAdaptationForIndex(B?B.index:null,P[0].mpd.manifest,re.index)),ne?f.getProducerReferenceTimesForAdaptation(ne):[]},getRealPeriodByIndex:function(Y){return f.getRealPeriodForIndex(Y,P[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(Y){try{return f.getEssentialPropertiesForRepresentation(Y)}catch{return[]}},getVoRepresentations:function(Y){var B=Ee(Y);return f.getRepresentationsForAdaptation(B)},getEventsFor:function(Y,B,k){var ne=[];if(P.length>0){var re=P[0].mpd.manifest;if(Y instanceof Qa){var me=Te(Y,P);ne=f.getEventsForPeriod(me)}else if(Y instanceof zi){var Z=Te(k,P);ne=f.getEventStreamForAdaptationSet(re,Ee(Y),Z)}else if(Y instanceof Xa){var K=Te(k,P);ne=f.getEventStreamForRepresentation(re,B,K)}}return ne},getEvent:function(Y,B,k,ne){try{if(!Y||!B||isNaN(k)||!ne)return null;var re=Y.scheme_id_uri,me=Y.value;if(!B[re+"/"+me])return null;var Z,K=new Xn,Ae=Y.timescale||1,Fe=ne.adaptation.period.start,Ue=B[re+"/"+me],je=isNaN(ne.presentationTimeOffset)?isNaN(Ue.presentationTimeOffset)?0:Ue.presentationTimeOffset:ne.presentationTimeOffset,Me=Y.presentation_time_delta/Ae;Z=0===Y.version?Fe+k-je+Me:Fe-je+Me;var Ye=Y.event_duration/Ae,dt=Y.id,it=Y.message_data;return K.eventStream=Ue,K.eventStream.value=me,K.eventStream.timescale=Ae,K.duration=Ye,K.id=dt,K.calculatedPresentationTime=Z,K.messageData=it,K.presentationTimeDelta=Me,K}catch{return null}},getMpd:X,setConfig:function(Y){Y&&(Y.constants&&(M=Y.constants),Y.cea608parser&&(R=Y.cea608parser),Y.errHandler&&f.setConfig({errHandler:Y.errHandler}),Y.BASE64&&f.setConfig({BASE64:Y.BASE64}))},updatePeriods:function(Y){if(!Y)return null;he(),P=$(Y)},getIsTextTrack:function(Y){return f.getIsText(Y)},getUTCTimingSources:function(){var Y=de();return f.getUTCTimingSources(Y)},getSuggestedPresentationDelay:function(){return f.getSuggestedPresentationDelay(P.length>0?P[0].mpd:null)},getAvailabilityStartTime:function(Y){var B=X(Y);return f.getAvailabilityStartTime(B)},getIsTypeOf:function(Y,B){return f.getIsTypeOf(Y,B)},getIsDynamic:function(Y){var B=de(Y);return f.getIsDynamic(B)},getDuration:function(Y){var B=de(Y);return f.getDuration(B)},getRegularPeriods:$,getContentSteering:function(Y){return f.getContentSteering(Y)},getLocation:function(Y){return f.getLocation(Y)},getPatchLocation:function(Y){var B=f.getPatchLocation(Y),k=f.getPublishTime(Y);return B&&0!==B.length&&k?B.filter(function(ne){return isNaN(ne.ttl)||k.getTime()+ne.ttl>(new Date).getTime()}):[]},getManifestUpdatePeriod:function(Y){return f.getManifestUpdatePeriod(Y,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function(Y){return f.getPublishTime(Y)},getIsDVB:function(Y){return f.hasProfile(Y,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(Y){return v.getIsPatch(Y)},getBaseURLsFromElement:function(Y){return f.getBaseURLsFromElement(Y)},getRepresentationSortFunction:function(){return f.getRepresentationSortFunction()},getCodec:function(Y,B,k){return f.getCodec(Y,B,k)},getPeriodById:function(Y){if(!Y||0===P.length)return null;var B=P.filter(function(k){return k.id===Y});return B&&B.length>0?B[0]:null},setCurrentMediaInfo:function(Y,B,k){L[Y]=L[Y]||{},L[Y][B]=L[Y][B]||{},L[Y][B]=k},isPatchValid:function(Y,B){var k=f.getId(Y),ne=v.getMpdId(B),re=f.getPublishTime(Y),me=v.getPublishTime(B),Z=v.getOriginalPublishTime(B);return!!(k&&ne&&k==ne&&re&&Z&&re.getTime()==Z.getTime()&&me&&re.getTime()<me.getTime())},applyPatchToManifest:function(Y,B){v.getPatchOperations(B).forEach(function(k){var ne=k.getMpdTarget(Y);if(null!==ne){var re=ne.name,me=ne.target,Z=ne.leaf;if(k.xpath.findsAttribute())switch(k.action){case"add":case"replace":me[re]=k.value;break;case"remove":delete me[re]}else{var K=(me[re+"_asArray"]||[]).indexOf(Z),Ae="prepend"===k.position||"before"===k.position;if(("remove"===k.action||"replace"===k.action)&&(delete me[re],-1!=K)){var Fe=me[re+"_asArray"];Fe.splice(K,1),Fe.length>1?me[re]=Fe:1==Fe.length?me[re]=Fe[0]:delete me[re+"_asArray"]}"add"!==k.action&&"replace"!==k.action||Object.keys(k.value).forEach(function(Ue){var je=k.value[Ue],Me=me[Ue+"_asArray"]||[];0===Me.length&&me[Ue]&&Me.push(me[Ue]),0===Me.length?Me=je:Me.splice.apply(Me,[Ue==re&&-1!=K?K+(Ae?0:1)+("replace"==k.action?-1:0):Ae?0:Me.length,0].concat(je)),me[Ue+"_asArray"]=Me,me[Ue]=1==Me.length?Me[0]:Me})}}})},areMediaInfosEqual:te,reset:Se},f=en(F).getInstance(),v=Ss(F).getInstance(),Se(),h}$a.__dashjs_factory_name="DashAdapter";const bs=o.Z.getSingletonFactory($a);var Is=function(){function h(){!function(P,L){if(!(P instanceof L))throw new TypeError("Cannot call a class as a function")}(this,h)}var v;return(v=[{key:"round10",value:function(P,L){return M="round",R=P,void 0===(F=L)||0==+F?Math[M](R):(F=+F,null===(R=+R)||isNaN(R)||"number"!=typeof F||F%1!=0?NaN:(R=R.toString().split("e"),+((R=(R=Math[M](+(R[0]+"e"+(R[1]?+R[1]-F:-F)))).toString().split("e"))[0]+"e"+(R[1]?+R[1]+F:F))));var M,R,F}}])&&function As(h,f){for(var v=0;v<f.length;v++){var P=f[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(h,P.key,P)}}(h,v),h}();const ws=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},Rs=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.t=null,this.mt=null,this.to=null,this.lto=null},Ns=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.t=null,this.level=null},Cs=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.target=null,this.state=d.Z.BUFFER_EMPTY},Ds=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.time=null,this.range=null,this.manifestInfo=null},Os=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.time=null,this.droppedFrames=null};function Ki(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}var Ps=function h(){Ki(this,h),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},Ms=function h(){Ki(this,h),this.id=null,this.index=null,this.start=null,this.duration=null},Ls=function h(){Ki(this,h),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};const xs=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},Fs=function h(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.loadingRequests=[],this.executedRequests=[]};function eo(h){var f,v,P=(h=h||{}).settings,M=(0,c.Z)(this.context).getInstance();function R(){M.trigger(i.Z.METRICS_CHANGED)}function F(X){M.trigger(i.Z.METRIC_CHANGED,{mediaType:X}),R()}function W(X,Se,de){M.trigger(i.Z.METRIC_UPDATED,{mediaType:X,metric:Se,value:de}),F(X)}function te(X,Se,de){M.trigger(i.Z.METRIC_ADDED,{mediaType:X,metric:Se,value:de}),F(X)}function Q(X,Se){var de=null;return X&&(v.hasOwnProperty(X)?de=v[X]:Se||(de=new ws,v[X]=de)),de}function U(X,Se,de){var Ee=Q(X);null!==Ee&&(Ee[Se].push(de),Ee[Se].length>P.get().streaming.metrics.maxListDepth&&Ee[Se].shift())}function $(X,Se,de){U(X,Se,de),te(X,Se,de)}return f={clearCurrentMetricsForType:function(X){delete v[X],F(X)},clearAllCurrentMetrics:function(){v={},R()},getMetricsFor:Q,addHttpRequest:function X(Se,de,Ee,Te,q,ge,oe,he,N,H,Y,B,k,ne,re,me,Z){var K=new w.w;ge&&ge!==Te&&(X(Se,null,Ee,Te,q,null,null,he,N,null,null,null,k,null,null,me,Z),K.actualurl=ge),K.tcpid=de,K.type=Ee,K.url=Te,K.range=he,K.trequest=N,K.tresponse=H,K.responsecode=B,K.cmsd=Z,K._tfinish=Y,K._stream=Se,K._mediaduration=k,K._quality=q,K._responseHeaders=ne,K._serviceLocation=oe,K._fileLoaderType=me,re?re.forEach(function(Ae){var Fe,Ue,je,Me,Ye;Fe=K,Ue=Ae.s,je=Ae.d,Me=Ae.b,(Ye=new w.O).s=Ue,Ye.d=je,Ye.b=Me,Fe.trace.push(Ye),Fe.interval||(Fe.interval=0),Fe.interval+=je}):(delete K.interval,delete K.trace),$(Se,d.Z.HTTP_REQUEST,K)},addRepresentationSwitch:function(X,Se,de,Ee,Te){var q=new Rs;q.t=Se,q.mt=de,q.to=Ee,Te?q.lto=Te:delete q.lto,$(X,d.Z.TRACK_SWITCH,q)},addBufferLevel:function(X,Se,de){var Ee=new Ns;Ee.t=Se,Ee.level=de,$(X,d.Z.BUFFER_LEVEL,Ee)},addBufferState:function(X,Se,de){var Ee=new Cs;Ee.target=de,Ee.state=Se,$(X,d.Z.BUFFER_STATE,Ee)},addDVRInfo:function(X,Se,de,Ee){var Te=new Ds;Te.time=Se,Te.range=Ee,Te.manifestInfo=de,$(X,d.Z.DVR_INFO,Te)},addDroppedFrames:function(X,Se){var de=new Os,Ee=Q(X).DroppedFrames;Se&&(de.time=Se.creationTime,de.droppedFrames=Se.droppedVideoFrames,Ee.length>0&&Ee[Ee.length-1]==de||$(X,d.Z.DROPPED_FRAMES,de))},addSchedulingInfo:function(X,Se,de,Ee,Te,q,ge,oe,he){var N=new xs;N.mediaType=X,N.t=Se,N.type=de,N.startTime=Ee,N.availabilityStartTime=Te,N.duration=q,N.quality=ge,N.range=oe,N.state=he,$(X,d.Z.SCHEDULING_INFO,N)},addRequestsQueue:function(X,Se,de){var Ee=new Fs;Ee.loadingRequests=Se,Ee.executedRequests=de,Q(X).RequestsQueue=Ee,te(X,d.Z.REQUESTS_QUEUE,Ee)},addManifestUpdate:function(X,Se,de,Ee,Te,q,ge,oe,he,N){var H=new Ps;H.mediaType=X,H.type=Se,H.requestTime=de,H.fetchTime=Ee,H.availabilityStartTime=Te,H.presentationStartTime=q,H.clientTimeOffset=ge,H.currentTime=oe,H.buffered=he,H.latency=N,U(r.Z.STREAM,d.Z.MANIFEST_UPDATE,H),te(X,d.Z.MANIFEST_UPDATE,H)},updateManifestUpdateInfo:function(X,Se){if(X){for(var de in Se)X[de]=Se[de];W(X.mediaType,d.Z.MANIFEST_UPDATE,X)}},addManifestUpdateStreamInfo:function(X,Se,de,Ee,Te){if(X){var q=new Ms;q.id=Se,q.index=de,q.start=Ee,q.duration=Te,X.streamInfo.push(q),W(X.mediaType,d.Z.MANIFEST_UPDATE_STREAM_INFO,X)}},addManifestUpdateRepresentationInfo:function(X,Se,de,Ee,Te,q,ge,oe){if(X&&X.representationInfo){var he=new Ls;he.id=Se,he.index=de,he.streamIndex=Ee,he.mediaType=Te,he.startNumber=ge,he.fragmentInfoType=oe,he.presentationTimeOffset=q,X.representationInfo.push(he),W(X.mediaType,d.Z.MANIFEST_UPDATE_TRACK_INFO,X)}},addPlayList:function(X){X.trace&&Array.isArray(X.trace)?X.trace.forEach(function(Se){Se.hasOwnProperty("subreplevel")&&!Se.subreplevel&&delete Se.subreplevel}):delete X.trace,$(r.Z.STREAM,d.Z.PLAY_LIST,X)},addDVBErrors:function(X){$(r.Z.STREAM,d.Z.DVB_ERRORS,X)}},v={},f}eo.__dashjs_factory_name="MetricsModel";const ks=o.Z.getSingletonFactory(eo);function to(h){var f,v,P,L,R=(h=h||{}).metricsModel;function F(Q){var U=R.getMetricsFor(Q,!0);if(!U)return null;var $,X=U.HttpList,Se=null;if(!X||X.length<=0)return null;for($=X.length-1;$>=0;){if(X[$].responsecode){Se=X[$];break}$--}return Se}function W(Q){var U=R.getMetricsFor(Q,!0);return U&&U.HttpList?U.HttpList:[]}function te(Q,U){if(!Q)return null;var $=Q[U];return $&&0!==$.length?$[$.length-1]:null}return f={getCurrentRepresentationSwitch:function(Q){return te(R.getMetricsFor(Q,!0),d.Z.TRACK_SWITCH)},getCurrentBufferState:function(Q){return te(R.getMetricsFor(Q,!0),d.Z.BUFFER_STATE)},getCurrentBufferLevel:function(Q){var U=te(R.getMetricsFor(Q,!0),d.Z.BUFFER_LEVEL);return U?Is.round10(U.level/1e3,-3):0},getCurrentHttpRequest:F,getHttpRequests:W,getCurrentDroppedFrames:function(){return te(R.getMetricsFor(r.Z.VIDEO,!0),d.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(Q){return te(R.getMetricsFor(Q,!0),d.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(Q){return te(Q?R.getMetricsFor(Q,!0):R.getMetricsFor(r.Z.VIDEO,!0)||R.getMetricsFor(r.Z.AUDIO,!0),d.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return te(R.getMetricsFor(r.Z.STREAM),d.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(Q,U){if(!U)return null;var $={},X=F(Q);X&&($=cn.Z.parseHttpHeaders(X._responseHeaders));var Se=$[U.toLowerCase()];return void 0===Se?null:Se},getLatestMPDRequestHeaderValueByID:function(Q){if(!Q)return null;var U,$,X,Se={};for(X=(U=W(r.Z.STREAM)).length-1;X>=0;X--)if(($=U[X]).type===w.w.MPD_TYPE){Se=cn.Z.parseHttpHeaders($._responseHeaders);break}var de=Se[Q.toLowerCase()];return void 0===de?null:de},addRepresentationSwitch:function(Q,U,$,X,Se){R.addRepresentationSwitch(Q,U,$,X,Se)},addDVRInfo:function(Q,U,$,X){R.addDVRInfo(Q,U,$,X)},updateManifestUpdateInfo:function(Q){var U=this.getCurrentManifestUpdate();R.updateManifestUpdateInfo(U,Q)},addManifestUpdateStreamInfo:function(Q){if(Q){var U=this.getCurrentManifestUpdate();R.addManifestUpdateStreamInfo(U,Q.id,Q.index,Q.start,Q.duration)}},addManifestUpdateRepresentationInfo:function(Q,U){if(Q){var $=this.getCurrentManifestUpdate();R.addManifestUpdateRepresentationInfo($,Q.id,Q.index,Q.streamIndex,U,Q.presentationTimeOffset,Q.startNumber,Q.fragmentInfoType)}},addManifestUpdate:function(Q){R.addManifestUpdate(r.Z.STREAM,Q.type,Q.requestStartDate,Q.requestEndDate)},addHttpRequest:function(Q,U,$,X,Se,de){R.addHttpRequest(Q.mediaType,null,Q.type,Q.url,Q.quality,U,Q.serviceLocation||null,Q.range||null,Q.requestStartDate,Q.firstByteDate,Q.requestEndDate,$,Q.duration,X,Se,Q.fileLoaderType,de)},addSchedulingInfo:function(Q,U){R.addSchedulingInfo(Q.mediaType,new Date,Q.type,Q.startTime,Q.availabilityStartTime,Q.duration,Q.quality,Q.range,U)},addRequestsQueue:function(Q,U,$){R.addRequestsQueue(Q,U,$)},addBufferLevel:function(Q,U,$){R.addBufferLevel(Q,U,$)},addBufferState:function(Q,U,$){R.addBufferState(Q,U,$)},addDroppedFrames:function(Q){R.addDroppedFrames(r.Z.VIDEO,Q)},addPlayList:function(){L&&(R.addPlayList(L),L=null)},addDVBErrors:function(Q){R.addDVBErrors(Q)},createPlaylistMetrics:function(Q,U){(L=new Ce).start=new Date,L.mstart=Q,L.starttype=U},createPlaylistTraceMetrics:function(Q,U,$){!0===v&&(v=!1,(P=new Ve).representationid=Q,P.start=new Date,P.mstart=U,P.playbackspeed=null!==$?$.toString():null)},updatePlayListTraceMetrics:function(Q){if(P)for(var U in P)P[U]=Q[U]},pushPlayListTraceMetrics:function(Q,U){if(!1===v&&L&&P&&P.start){var $=P.start,X=Q.getTime()-$.getTime();P.duration=X,P.stopreason=U,L.trace.push(P),v=!0}},clearAllCurrentMetrics:function(){R.clearAllCurrentMetrics()}},R=R||ks(this.context).getInstance({settings:h.settings}),v=!0,P=null,L=null,f}to.__dashjs_factory_name="DashMetrics";const Us=o.Z.getSingletonFactory(to);function no(){var h,f,v,P,L=this.context,M=(0,c.Z)(L).getInstance(),R=(0,ue.Z)(L).getInstance();function F(Te){P=Te}function W(Te,q,ge,oe){var he,N=q.adaptation.period.mpd,H=N.availabilityStartTime;if(oe)he=ge&&N.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(H.getTime()+1e3*(Te+N.timeShiftBufferDepth)):N.availabilityEndTime;else if(ge){var Y=q.availabilityTimeOffset;he=new Date(H.getTime()+1e3*(Te-Y))}else he=H;return he}function te(Te,q){return(Te.getTime()-q.mpd.availabilityStartTime.getTime()+1e3*P)/1e3}function Q(Te,q){return Te+(q.adaptation.period.start-q.presentationTimeOffset)}function U(Te){var q={start:NaN,end:NaN},ge=Te[0].getAdapter().getRegularPeriods()[0],oe=te(new Date,ge);if(!Te||0===Te.length)return{range:q,now:oe};Te.forEach(function(N){var H=N.getAdapter(),Y=H.getMediaInfoForType(N.getStreamInfo(),r.Z.VIDEO)||H.getMediaInfoForType(N.getStreamInfo(),r.Z.AUDIO),B=H.getVoRepresentations(Y)[0],k={start:NaN,end:NaN};if(B)if(B.segmentInfoType===n.Z.SEGMENT_TIMELINE)k=function(re){var me,Z,K,Ae,Ue=f.getRepresentationFor(re.index,re.adaptation.period.mpd.manifest.Period_asArray[re.adaptation.period.index].AdaptationSet_asArray[re.adaptation.index]),je=Ue.SegmentTemplate||Ue.SegmentList,Ye=je.timescale,dt=je.SegmentTimeline.S_asArray,it={start:0,end:0},ot=dt[0].t,bt=!isNaN(ot),Pt=bt?ot:0,xe=0;for(bt&&(it.start=Q(Pt/Ye,re)),K=0,Ae=dt.length;K<Ae;K++)Z=0,(me=dt[K]).hasOwnProperty("r")&&(Z=me.r),xe+=me.d*(1+Z);return it.end=Q((Pt+xe)/Ye,re),it}(B);else{var ne=B.adaptation.period;k.start=ne.start,k.end=Math.max(oe,ne.start+ne.duration)}!isNaN(k.start)&&(isNaN(q.start)||q.start>k.start)&&(q.start=k.start),!isNaN(k.end)&&(isNaN(q.end)||q.end<k.end)&&(q.end=k.end)}),q.end=Math.min(oe,q.end);var he=X(Te,q.end,!0);return q.end=isNaN(he)?q.end:he,q.start=ge&&ge.mpd&&ge.mpd.timeShiftBufferDepth&&!isNaN(ge.mpd.timeShiftBufferDepth)&&!isNaN(q.end)?Math.max(q.end-ge.mpd.timeShiftBufferDepth,q.start):q.start,q.start=X(Te,q.start),{range:q,now:oe}}function $(Te,q){v=Te-q.end}function X(Te,q){var ge=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var oe=0,he=!1,N=NaN;!he&&oe<Te.length;){var H=Te[oe].getStreamInfo();H.start<=q&&(!isFinite(H.duration)||H.start+H.duration>=q)?(N=q,he=!0):!ge&&H.start>q&&(isNaN(N)||H.start<N)?N=H.start:ge&&H.start+H.duration<q&&(isNaN(N)||H.start+H.duration>N)&&(N=H.start+H.duration),oe+=1}return N}catch{return q}}function Se(Te){void 0===Te.offset||isNaN(Te.offset)||F(Te.offset/1e3)}function de(){P=0,v=0}function Ee(){M.off(i.Z.UPDATE_TIME_SYNC_OFFSET,Se,this),de()}return h={initialize:function(){de(),M.on(i.Z.UPDATE_TIME_SYNC_OFFSET,Se,this)},getClientTimeOffset:function(){return P},setClientTimeOffset:F,getClientReferenceTime:function(){return Date.now()-1e3*v+1e3*P},calcAvailabilityStartTimeFromPresentationTime:function(Te,q,ge){return W(Te,q,ge)},calcAvailabilityEndTimeFromPresentationTime:function(Te,q,ge){return W(Te,q,ge,!0)},calcPresentationTimeFromWallTime:te,calcPresentationTimeFromMediaTime:Q,calcPeriodRelativeTimeFromMpdRelativeTime:function(Te,q){return q-Te.adaptation.period.start},calcMediaTimeFromPresentationTime:function(Te,q){return Te-q.adaptation.period.start+q.presentationTimeOffset},calcWallTimeForSegment:function(Te,q){var oe,he;return q&&(oe=Te.presentationStartTime+Te.representation.adaptation.period.mpd.suggestedPresentationDelay,he=new Date(Te.availabilityStartTime.getTime()+1e3*oe)),he},calcTimeShiftBufferWindow:function(Te,q){if(!q)return he={start:NaN,end:NaN},N=0,H=NaN,Te.forEach(function(Y){var B=Y.getStreamInfo();N+=B.duration,(isNaN(H)||B.start<H)&&(H=B.start)}),he.start=H,he.end=H+N,he;var he,N,H;if(R.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var ge=U(Te);return $(ge.now,ge.range),ge.range}return function(oe){var he={start:NaN,end:NaN};if(!oe||0===oe.length)return he;var N=oe[0].getAdapter().getRegularPeriods()[0],H=te(new Date,N),Y=N.mpd.timeShiftBufferDepth,B=isNaN(Y)?0:H-Y;if(he.start=X(oe,B),he.end=!isNaN(he.start)&&H<he.start?H:X(oe,H,!0),!isNaN(Y)&&he.end<H-Y&&(he.end=NaN),R.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var k=U(oe);if(k.range.end<he.start)return M.trigger(e.Z.CONFORMANCE_VIOLATION,{level:Dr.LEVELS.WARNING,event:Dr.EVENTS.INVALID_DVR_WINDOW}),$(k.now,k.range),k.range}return he}(Te)},reset:Ee},f=en(L).getInstance(),Ee(),h}no.__dashjs_factory_name="TimelineConverter";const Bs=o.Z.getSingletonFactory(no);var Wi=D(4593),vi=D(6934);function Xi(h){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function Qi(h,f){return(Qi=Object.setPrototypeOf||function(v,P){return v.__proto__=P,v})(h,f)}function Ei(h){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}const Gs=function(h){!function(M,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&Qi(M,R)}(L,h);var f,v,P=(f=L,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,R=Ei(f);if(v){var F=Ei(this).constructor;M=Reflect.construct(R,arguments,F)}else M=R.apply(this,arguments);return function Zs(h,f){return!f||"object"!==Xi(f)&&"function"!=typeof f?function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(h):f}(this,M)});function L(){var M;return function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")}(this,L),(M=P.call(this)).captionData=null,M.label=null,M.defaultTrack=!1,M.kind=null,M.isFragmented=!1,M.isEmbedded=!1,M.isTTML=null,M}return L}(zi);var js=D(2295);function ro(){var h=0;function f(F){for(var W="",te=0;te<F.length;++te)W+=F[te].uchar;return W.length-W.replace(/^\s+/,"").length}function v(F){return"left: "+3.125*F.x+"%; top: "+6.66*F.y1+"%; width: "+(100-3.125*F.x)+"%; height: "+6.66*Math.max(F.y2-1-F.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function P(F){return"red"===F?"rgb(255, 0, 0)":"green"===F?"rgb(0, 255, 0)":"blue"===F?"rgb(0, 0, 255)":"cyan"===F?"rgb(0, 255, 255)":"magenta"===F?"rgb(255, 0, 255)":"yellow"===F?"rgb(255, 255, 0)":"white"===F?"rgb(255, 255, 255)":"black"===F?"rgb(0, 0, 0)":F}function L(F,W){var te=F.videoHeight/15;return W?"font-size: "+te+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(W.foreground?P(W.foreground):"rgb(255, 255, 255)")+"; font-style: "+(W.italics?"italic":"normal")+"; text-decoration: "+(W.underline?"underline":"none")+"; white-space: pre; background-color: "+(W.background?P(W.background):"transparent")+";":"font-size: "+te+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function M(F){return F.replace(/^\s+/g,"")}function R(F){return F.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(F,W,te,Q){var U,$,X=null,Se=!1,de=-1,Ee={start:W,end:te,spans:[]},Te="style_cea608_white_black",q={},ge={},oe=[];for(U=0;U<15;++U){var he=Q.rows[U],N="",H=null;if(!1===he.isEmpty()){var Y=f(he.chars);null===X&&(X={x:Y,y1:U,y2:U+1,p:[]}),Y!==de&&Se&&(X.p.push(Ee),Ee={start:W,end:te,spans:[]},X.y2=U,X.name="region_"+X.x+"_"+X.y1+"_"+X.y2,!1===q.hasOwnProperty(X.name)?(oe.push(X),q[X.name]=X):q[X.name].p.contat(X.p),X={x:Y,y1:U,y2:U+1,p:[]});for(var B=0;B<he.chars.length;++B){var k=he.chars[B],ne=k.penState;if(null===H||!ne.equals(H)){N.trim().length>0&&(Ee.spans.push({name:Te,line:N,row:U}),N="");var re="style_cea608_"+ne.foreground+"_"+ne.background;ne.underline&&(re+="_underline"),ne.italics&&(re+="_italics"),ge.hasOwnProperty(re)||(ge[re]=JSON.parse(JSON.stringify(ne))),H=ne,Te=re}N+=k.uchar}N.trim().length>0&&Ee.spans.push({name:Te,line:N,row:U}),Se=!0,de=Y}else Se=!1,de=-1,X&&(X.p.push(Ee),Ee={start:W,end:te,spans:[]},X.y2=U,X.name="region_"+X.x+"_"+X.y1+"_"+X.y2,!1===q.hasOwnProperty(X.name)?(oe.push(X),q[X.name]=X):q[X.name].p.contat(X.p),X=null)}X&&(X.p.push(Ee),X.y2=U+1,X.name="region_"+X.x+"_"+X.y1+"_"+X.y2,!1===q.hasOwnProperty(X.name)?(oe.push(X),q[X.name]=X):q[X.name].p.contat(X.p),X=null);var me=[];for(U=0;U<oe.length;++U){var Z=oe[U],K="sub_cea608_"+h++,Ae=document.createElement("div");Ae.id=K;var Fe=v(Z);Ae.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+Fe;var Ue=document.createElement("div");Ue.className="paragraph bodyStyle",Ue.style.cssText=L(F);var je=document.createElement("div");je.className="cueUniWrapper",je.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Me=0;Me<Z.p.length;++Me){var Ye=Z.p[Me],dt=0;for($=0;$<Ye.spans.length;++$){var it=Ye.spans[$];if(it.line.length>0){if(0!==$&&dt!=it.row){var ot=document.createElement("br");ot.className="lineBreak",je.appendChild(ot)}var bt=!1;dt===it.row&&(bt=!0),dt=it.row;var Pt=ge[it.name],xe=document.createElement("span");xe.className="spanPadding "+it.name+" customSpanColor",xe.style.cssText=L(F,Pt),xe.textContent=0!==$&&bt?$===Ye.spans.length-1?R(it.line):it.line:Ye.spans.length>1&&$<Ye.spans.length-1&&it.row===Ye.spans[$+1].row?M(it.line):it.line.trim(),je.appendChild(xe)}}}Ue.appendChild(je),Ae.appendChild(Ue);var _e={bodyStyle:["%",90]};for(var He in ge)ge.hasOwnProperty(He)&&(_e[He]=["%",90]);me.push({type:"html",start:W,end:te,cueHTMLElement:Ae,cueID:K,cellResolution:[32,15],isFromCEA608:!0,fontSize:_e,lineHeight:{},linePadding:{}})}return me}}}ro.__dashjs_factory_name="EmbeddedTextHtmlRender";const Hs=o.Z.getSingletonFactory(ro);function io(h){var f,v,P,L,M,R,F,W,te,Q,U,$,X,Se,de,Ee,Te=h.errHandler,q=h.manifestModel,ge=h.mediaController,oe=h.videoModel,he=h.textTracks,N=h.vttParser,H=h.vttCustomRenderingParser,Y=h.ttmlParser,B=h.streamInfo,k=h.settings,ne=this.context,re=(0,c.Z)(ne).getInstance(),me=!1;function Z(){R=null,W=NaN,te=[],Q=null,F=!1,M=[],L=null}function K(it){var Pt,xe,ot=new Gs;for(var bt in it)ot[bt]=it[bt];ot.labels=it.labels,ot.defaultTrack=(Pt=it,xe=!1,$.length>1&&Pt.isEmbedded?xe=Pt.id&&Pt.id===r.Z.CC1:1===$.length?Pt.id&&"string"==typeof Pt.id&&"CC"===Pt.id.substring(0,2)&&(xe=!0):0===$.length&&(xe=Pt.index===M[0].index),xe),ot.isFragmented=it.isFragmented,ot.isEmbedded=!!it.isEmbedded,ot.isTTML=function(Pt){return Pt.codec&&Pt.codec.search(r.Z.STPP)>=0||Pt.mimeType&&Pt.mimeType.search(r.Z.TTML)>=0}(it),ot.kind=function(Pt,xe){var _e=Pt.roles&&Pt.roles.length>0?xe[Pt.roles[0]]:xe.caption;return _e===xe.caption||_e===xe.subtitle?_e:xe.caption}(it,{subtitle:"subtitles",caption:"captions"}),he.addTextTrack(ot)}function Ae(it){var ot=it.chunk;ot.mediaInfo.embeddedCaptions&&Ue(ot.bytes,ot)}function Fe(it){U=it}function Ue(it,ot){var bt=ot.mediaInfo,Pt=bt.type,_e=bt.codec||bt.mimeType;_e?-1!==bt.codec.indexOf("application/mp4")?function(He,De,ze){var Xe;if("InitializationSegment"===De.segmentType)F=!0,W=P.getMediaTimescaleFromMoov(He);else{if(!F)return;(Xe=P.getSamplesInfo(He).sampleList).length>0&&(Q=Xe[0].cts-De.start*W),ze.search(r.Z.STPP)>=0?function($e,gt,At){var qt,zt;for(L=null!==L?L:Ye(At),qt=0;qt<gt.length;qt++){var Bt=gt[qt],Kt=Bt.cts,Xt=Me(),sn=Xt+Kt/W;f.buffered.add(sn,sn+Bt.duration/W);var rn=new DataView($e,Bt.offset,Bt.subSizes[0]),gn=vi.Utils.dataViewToString(rn,r.Z.UTF8),un=[],mn=Bt.offset+Bt.subSizes[0];for(zt=1;zt<Bt.subSizes.length;zt++){var pt=new Uint8Array($e,mn,Bt.subSizes[zt]),jt=String.fromCharCode.apply(null,pt);un.push(jt),mn+=Bt.subSizes[zt]}try{var Ht=q.getValue().ttmlTimeIsRelative?Kt/W:0,Zt=L.parse(gn,Ht,Kt/W,(Kt+Bt.duration)/W,un);he.addCaptions(U,Xt,Zt)}catch(et){R.removeExecutedRequestsBeforeTime(),this.remove(),v.error("TTML parser error: "+et.message)}}}(He,Xe,ze):function($e,gt){var At,qt,zt,Bt=[];for(At=0;At<gt.length;At++){var Kt=gt[At];Kt.cts-=Q;var Xt=Me()+Kt.cts/W;f.buffered.add(Xt,Xt+Kt.duration/W);var dn=$e.slice(Kt.offset,Kt.offset+Kt.size),rn=vi.parseBuffer(dn);for(qt=0;qt<rn.boxes.length;qt++){var gn=rn.boxes[qt];if(v.debug("VTT box1: "+gn.type),"vtte"!==gn.type&&"vttc"===gn.type){v.debug("VTT vttc boxes.length = "+gn.boxes.length);var un={styles:{}};for(zt=0;zt<gn.boxes.length;zt++){var mn=gn.boxes[zt];if(v.debug("VTT box2: "+mn.type),"payl"===mn.type)un.start=Kt.cts/W,un.end=(Kt.cts+Kt.duration)/W,un.data=mn.cue_text;else if("sttg"===mn.type&&mn.settings&&""!==mn.settings)try{var pt=mn.settings.split(" ");un.styles=N.getCaptionStyles(pt)}catch{}}un&&un.data&&(Bt.push(un),v.debug("VTT  ".concat(un.start," - ").concat(un.end," :  ").concat(un.data)))}}}Bt.length>0&&he.addCaptions(U,0,Bt)}(He,Xe)}}(it,ot,_e):Pt===r.Z.VIDEO?function(He,De){var ze,Xe;if(De.segmentType===w.w.INIT_SEGMENT_TYPE)0===X&&(X=P.getMediaTimescaleFromMoov(He));else if(De.segmentType===w.w.MEDIA_SEGMENT_TYPE){if(0===X)return void v.warn("CEA-608: No timescale for embeddedTextTrack yet");var $e=(Xe=P.getSamplesInfo(He)).lastSequenceNumber;if(de[0]||de[1]||function(){for(var Bt,Kt=0;Kt<$.length;Kt++){if(-1===(Bt=he.getTrackIdxForId($[Kt].id)))return void v.warn("CEA-608: data before track is ready.");var Xt=je(Bt);de[Kt]=new(S().Cea608Parser)(Kt+1,{newCue:Xt},null)}}(),X){if(null!==Se&&$e!==Se+Xe.numSequences)for(ze=0;ze<de.length;ze++)de[ze]&&de[ze].reset();for(var gt=function(Bt,Kt){if(0===Kt.length)return null;for(var Xt={splits:[],fields:[[],[]]},sn=new DataView(Bt),dn=0;dn<Kt.length;dn++)for(var rn=Kt[dn],gn=S().findCea608Nalus(sn,rn.offset,rn.size),un=null,mn=0,pt=0;pt<gn.length;pt++)for(var jt=S().extractCea608DataFromRange(sn,gn[pt]),Ht=0;Ht<2;Ht++)if(jt[Ht].length>0){rn.cts!==un?mn=0:mn+=1;var Zt=Me();Xt.fields[Ht].push([rn.cts+Zt*X,jt[Ht],mn]),un=rn.cts}return Xt.fields.forEach(function(et){et.sort(function(Et,Je){return Et[0]===Je[0]?Et[2]-Je[2]:Et[0]-Je[0]})}),Xt}(He,Xe.sampleList),At=0;At<de.length;At++){var qt=gt.fields[At],zt=de[At];if(zt)for(ze=0;ze<qt.length;ze++)zt.addData(qt[ze][0]/X,qt[ze][1])}Se=$e}}}(it,ot):function(He,De,ze){var Xe,$e,gt=new DataView(He,0,He.byteLength);$e=vi.Utils.dataViewToString(gt,r.Z.UTF8);try{Xe=Ye(ze).parse($e,0),he.addCaptions(he.getCurrentTrackIdx(),0,Xe),f.buffered&&f.buffered.add(De.start,De.end)}catch(At){Te.error(new O.Z(g.TIMED_TEXT_ERROR_ID_PARSE_CODE,g.TIMED_TEXT_ERROR_MESSAGE_PARSE+At.message,$e))}}(it,ot,_e):v.error("No text type defined")}function je(it){return function(ot,bt,Pt){var xe;(xe=oe.getTTMLRenderingDiv()?Ee.createHTMLCaptionsFromScreen(oe.getElement(),ot,bt,Pt):[{start:ot,end:bt,data:Pt.getDisplayText(),styles:{}}])&&he.addCaptions(it,0,xe)}}function Me(){return isNaN(f.timestampOffset)?0:f.timestampOffset}function Ye(it){var ot;return it.search(r.Z.VTT)>=0?ot=k.get().streaming.text.webvtt.customRenderingEnabled&&H?H:N:(it.search(r.Z.TTML)>=0||it.search(r.Z.STPP)>=0)&&(ot=Y),ot}function dt(it){$.forEach(function(ot){var bt=he.getTrackIdxForId(ot.id);bt>=0&&he.deleteCuesFromTrackIdx(bt,it.from,it.to)})}return f={initialize:function(){me||($=[],U=null,X=0,de=[],Se=null,me=!0,Ee=Hs(ne).getInstance(),re.on(i.Z.VIDEO_CHUNK_RECEIVED,Ae,f),re.on(i.Z.BUFFER_CLEARED,dt,f))},addMediaInfos:function(it,ot,bt){if(M=M.concat(ot),it===r.Z.TEXT&&ot[0].isFragmented&&!ot[0].isEmbedded){R=bt,f.buffered=(0,js.Z)(ne).create(),te=ge.getTracksFor(r.Z.TEXT,B.id).filter(function(He){return He.isFragmented});for(var Pt=ge.getCurrentTrackFor(r.Z.TEXT,B.id),xe=0;xe<te.length;xe++)if(te[xe]===Pt){Fe(xe);break}}for(var _e=0;_e<ot.length;_e++)K(ot[_e])},resetMediaInfos:function(){M=[]},getStreamId:function(){return B.id},append:Ue,abort:function(){},addEmbeddedTrack:function(it){if(me&&it)if(it.id===r.Z.CC1||it.id===r.Z.CC3){for(var ot=0;ot<$.length;ot++)if($[ot].id===it.id)return;$.push(it)}else v.warn("Embedded track "+it.id+" not supported!")},resetEmbedded:function(){re.off(i.Z.VIDEO_CHUNK_RECEIVED,Ae,f),re.off(i.Z.BUFFER_CLEARED,dt,f),he&&he.deleteAllTextTracks(),me=!1,$=[],de=[null,null],Se=null},getConfig:function(){return{fragmentModel:R,fragmentedTracks:te,videoModel:oe}},setCurrentFragmentedTrackIdx:Fe,remove:function(it,ot){void 0===it&&it===ot&&(it=f.buffered.start(0),ot=f.buffered.end(f.buffered.length-1)),f.buffered.remove(it,ot),he.deleteCuesFromTrackIdx(U,it,ot)},reset:function(){Z(),M=[],P=null}},v=(0,y.Z)(ne).getInstance().getLogger(f),P=(0,jr.Z)(ne).getInstance(),Z(),f}io.__dashjs_factory_name="TextSourceBuffer";const qs=o.Z.getClassFactory(io);var Ji=D(4403);function ao(h,f){(null==f||f>h.length)&&(f=h.length);for(var v=0,P=new Array(f);v<f;v++)P[v]=h[v];return P}var Vs=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function oo(h){var f,v,P,L,M,R,F,W,te,Q,U,$,X,Se,de,Ee,Te,q,ge=this.context,oe=(0,c.Z)(ge).getInstance(),he=h.videoModel,N=h.streamInfo,H=h.settings;function Y(_e,He,De,ze,Xe,$e){var gt=0,At=0;_e/He>De/ze?gt=(At=He)/ze*De:At=(gt=_e)/De*ze;var qt,zt,Bt=0,Kt=0;return gt/At>Xe?(Kt=At,Bt=At*Xe):(Bt=gt,Kt=gt/Xe),qt=(_e-Bt)/2,zt=(He-Kt)/2,$e?{x:qt+.1*Bt,y:zt+.1*Kt,w:.8*Bt,h:.8*Kt}:{x:qt,y:zt,w:Bt,h:Kt}}function B(_e,He){var De=he.getClientWidth(),ze=he.getClientHeight(),Xe=he.getVideoWidth(),$e=he.getVideoHeight(),gt=he.getVideoRelativeOffsetTop(),At=he.getVideoRelativeOffsetLeft();if(0!==Xe&&0!==$e){var qt=Xe/$e,zt=!1;_e.isFromCEA608&&(qt=1.1666666666666667,zt=!0);var Bt=Y.call(this,De,ze,Xe,$e,qt,zt),Kt=Bt.w,Xt=Bt.h,sn=Bt.x,dn=Bt.y;if(Kt!=te||Xt!=Q||sn!=F||dn!=W||He){if(F=sn+At,W=dn+gt,te=Kt,Q=Xt,U){var rn=U.style;rn&&(rn.left=F+"px",rn.top=W+"px",rn.width=te+"px",rn.height=Q+"px",rn.zIndex=Se&&document[Se]||de?Te:null,oe.trigger(e.Z.CAPTION_CONTAINER_RESIZE))}var gn=_e.activeCues;if(gn)for(var un=gn.length,mn=0;mn<un;++mn){var pt=gn[mn];pt.scaleCue(pt)}}}}function k(_e){var He,De,ze,Xe,$e;if(_e.cellResolution){var qt=[te/_e.cellResolution[0],Q/_e.cellResolution[1]];if(_e.linePadding)for(He in _e.linePadding)if(_e.linePadding.hasOwnProperty(He)){De=(_e.linePadding[He]*qt[0]).toString();for(var zt=document.getElementsByClassName("spanPadding"),Bt=0;Bt<zt.length;Bt++)zt[Bt].style.cssText=zt[Bt].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+De),zt[Bt].style.cssText=zt[Bt].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+De)}if(_e.fontSize){for(He in _e.fontSize)if(_e.fontSize.hasOwnProperty(He)){"%"===_e.fontSize[He][0]?ze=_e.fontSize[He][1]/100:"c"===_e.fontSize[He][0]&&(ze=_e.fontSize[He][1]),De=(ze*qt[1]).toString(),$e="defaultFontSize"!==He?document.getElementsByClassName(He):document.getElementsByClassName("paragraph");for(var Kt=0;Kt<$e.length;Kt++)$e[Kt].style.cssText=$e[Kt].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+De)}if(_e.lineHeight)for(He in _e.lineHeight)if(_e.lineHeight.hasOwnProperty(He)){"%"===_e.lineHeight[He][0]?Xe=_e.lineHeight[He][1]/100:"c"===_e.fontSize[He][0]&&(Xe=_e.lineHeight[He][1]),De=(Xe*qt[1]).toString(),$e=document.getElementsByClassName(He);for(var Xt=0;Xt<$e.length;Xt++)$e[Xt].style.cssText=$e[Xt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+De)}}}if(_e.isd){var sn=document.getElementById(_e.cueID);sn&&U.removeChild(sn),re(_e)}}function ne(_e,He){var De=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,ze=/^#(.*)$/;if(De.test(He)){var Xe=De.exec(He),$e=parseInt(Xe[4],10)-1;return"data:image/png;base64,"+btoa(_e.images[$e])}if(ze.test(He)){var gt=ze.exec(He)[1];return"data:image/png;base64,"+_e.embeddedImages[gt]}return He}function re(_e){if(U){var He=document.createElement("div");U.appendChild(He),Ee=(0,Ji.renderHTML)(_e.isd,He,function(De){return ne(_e,De)},U.clientHeight,U.clientWidth,!1,function(De){v.info("renderCaption :",De)},Ee,!0),He.id=_e.cueID,oe.trigger(e.Z.CAPTION_RENDERED,{captionDiv:He,currentTrackIdx:R})}}function me(_e,He){if(!H.get().streaming.text.extendSegmentedCues||!He.cues||0===He.cues.length)return!1;var De=He.cues[He.cues.length-1];return!(De.endTime<_e.startTime||!function(ze,Xe,$e){for(var gt=0;gt<$e.length;gt++){var At=$e[gt];if(JSON.stringify(ze[At])!==JSON.stringify(Xe[At]))return!1}return!0}(De,_e,Vs)||(De.endTime=Math.max(De.endTime,_e.endTime),0))}function Z(_e,He){He&&He.forEach(function(De){De.kind&&"image"===De.kind&&(De.src=ne(_e,De.src)),Z(_e,De.contents)})}function K(_e,He,De){var ze=je(_e);if(ze&&Array.isArray(De)&&0!==De.length)for(var Xe=0;Xe<De.length;Xe++){var $e=void 0,gt=De[Xe];ze.cellResolution=gt.cellResolution,ze.isFromCEA608=gt.isFromCEA608,isNaN(gt.start)||isNaN(gt.end)||($e="html"===gt.type&&U?Ae(gt,He,ze):gt.data?Fe(gt,He,ze):null);try{$e?dt(ze,$e)||(H.get().streaming.text.webvtt.customRenderingEnabled?(ze.manualCueList||(ze.manualCueList=[]),ze.manualCueList.push($e)):me($e,ze)||ze.addCue($e)):v.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(At){throw ot(ze),ze.addCue($e),At}}}function Ae(_e,He,De){var ze=this,Xe=new P(_e.start+He,_e.end+He,"");return Xe.cueHTMLElement=_e.cueHTMLElement,Xe.isd=_e.isd,Xe.images=_e.images,Xe.embeddedImages=_e.embeddedImages,Xe.cueID=_e.cueID,Xe.scaleCue=k.bind(ze),Xe.cellResolution=_e.cellResolution,Xe.lineHeight=_e.lineHeight,Xe.linePadding=_e.linePadding,Xe.fontSize=_e.fontSize,U.style.left=F+"px",U.style.top=W+"px",U.style.width=te+"px",U.style.height=Q+"px",Xe.isd&&Z(Xe,Xe.isd.contents),Xe.onenter=function(){De.mode===r.Z.TEXT_SHOWING&&(this.isd?(re(this),v.debug("Cue enter id:"+this.cueID)):(U.appendChild(this.cueHTMLElement),k.call(ze,this),oe.trigger(e.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:R})))},Xe.onexit=function(){if(U)for(var $e=U.childNodes,gt=0;gt<$e.length;++gt)$e[gt].id===this.cueID&&(v.debug("Cue exit id:"+$e[gt].id),U.removeChild($e[gt]),--gt)},Xe}function Fe(_e,He,De){var ze=new P(_e.start-He,_e.end-He,_e.data);if(ze.cueID="".concat(ze.startTime,"_").concat(ze.endTime),ze.isActive=!1,_e.styles)try{void 0!==_e.styles.align&&"align"in ze&&(ze.align=_e.styles.align),void 0!==_e.styles.line&&"line"in ze&&(ze.line=_e.styles.line),void 0!==_e.styles.snapToLines&&"snapToLines"in ze&&(ze.snapToLines=_e.styles.snapToLines),void 0!==_e.styles.position&&"position"in ze&&(ze.position=_e.styles.position),void 0!==_e.styles.size&&"size"in ze&&(ze.size=_e.styles.size)}catch(Xe){v.error(Xe)}return ze.onenter=function(){De.mode===r.Z.TEXT_SHOWING&&oe.trigger(e.Z.CAPTION_RENDERED,{currentTrackIdx:R})},ze}function Ue(){var _e,He=[],De=function(Xe,$e){var gt;if(typeof Symbol>"u"||null==Xe[Symbol.iterator]){if(Array.isArray(Xe)||(gt=function(Xt,sn){if(Xt){if("string"==typeof Xt)return ao(Xt,void 0);var dn=Object.prototype.toString.call(Xt).slice(8,-1);return"Object"===dn&&Xt.constructor&&(dn=Xt.constructor.name),"Map"===dn||"Set"===dn?Array.from(Xt):"Arguments"===dn||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dn)?ao(Xt,void 0):void 0}}(Xe))){gt&&(Xe=gt);var At=0,qt=function(){};return{s:qt,n:function(){return At>=Xe.length?{done:!0}:{done:!1,value:Xe[At++]}},e:function(Xt){throw Xt},f:qt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var zt,Bt=!0,Kt=!1;return{s:function(){gt=Xe[Symbol.iterator]()},n:function(){var Xt=gt.next();return Bt=Xt.done,Xt},e:function(Xt){Kt=!0,zt=Xt},f:function(){try{Bt||null==gt.return||gt.return()}finally{if(Kt)throw zt}}}}(he.getTextTracks());try{for(De.s();!(_e=De.n()).done;){var ze=_e.value;ze.manualMode===r.Z.TEXT_SHOWING&&He.push(ze)}}catch(Xe){De.e(Xe)}finally{De.f()}return He}function je(_e){return _e>=0&&L[_e]?he.getTextTrack(L[_e].kind,L[_e].id,L[_e].lang,L[_e].isTTML,L[_e].isEmbedded):null}function Me(_e){var He=this;if(_e!==R){var De=je(R=_e);Ye.call(this,De),X&&(clearInterval(X),X=null),De&&"html"===De.renderingType&&(B.call(this,De,!0),window.ResizeObserver?(q=new window.ResizeObserver(function(){B.call(He,De,!0)})).observe(he.getElement()):X=setInterval(B.bind(this,De),500))}}function Ye(_e){xe.call(this),_e&&"html"===_e.renderingType?bt.call(this):Pt.call(this)}function dt(_e,He){if(!_e.cues)return!1;for(var De=0;De<_e.cues.length;De++)if(_e.cues[De].startTime===He.startTime&&_e.cues[De].endTime===He.endTime)return!0;return!1}function it(_e,He,De){var ze=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(He)||(ze?_e.startTime:_e.endTime)>=He)&&(isNaN(De)||(ze?_e.endTime:_e.startTime)<=De)}function ot(_e,He,De){var ze=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(_e.cues)for(var Xe=_e.cues,gt=Xe.length-1;gt>=0;gt--)it(Xe[gt],He,De,ze)&&(Xe[gt].onexit&&Xe[gt].onexit(),_e.removeCue(Xe[gt]))}function bt(){var _e=document.getElementById("native-cue-style");if(!_e){(_e=document.createElement("style")).id="native-cue-style",document.head.appendChild(_e);var He=_e.sheet,De=he.getElement();try{De&&He.insertRule(De.id?"#"+De.id+"::cue {background: transparent}":0!==De.classList.length?"."+De.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(ze){v.info(""+ze.message)}}}function Pt(){var _e=document.getElementById("native-cue-style");_e&&document.head.removeChild(_e)}function xe(){if(U)for(;U.firstChild;)U.removeChild(U.firstChild)}return f={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(P=window.VTTCue||window.TextTrackCue,L=[],M=[],R=-1,F=0,W=0,te=0,Q=0,U=null,$=null,X=null,de=!1,Te=2147483647,Ee=null,void 0!==document.fullscreenElement?Se="fullscreenElement":void 0!==document.webkitIsFullScreen?Se="webkitIsFullScreen":document.msFullscreenElement?Se="msFullscreenElement":document.mozFullScreen&&(Se="mozFullScreen"))},getStreamId:function(){return N.id},addTextTrack:function(_e){L.push(_e)},addCaptions:K,createTracks:function(){L.sort(function(Xt,sn){return Xt.index-sn.index}),U=he.getTTMLRenderingDiv(),$=he.getVttRenderingDiv();for(var _e,He,gt=-1,At=0;At<L.length;At++){var qt=(He=(_e=L[At]).kind,he.addTextTrack(He,void 0!==_e.id?_e.id:_e.lang,_e.lang,_e.isTTML,_e.isEmbedded));M.push(qt),L[At].defaultTrack&&(qt.default=!0,gt=At);var zt=je(At);zt&&(zt.mode=r.Z.TEXT_SHOWING,zt.renderingType=U&&(L[At].isTTML||L[At].isEmbedded)?"html":"default"),K(At,0,L[At].captionData),oe.trigger(e.Z.TEXT_TRACK_ADDED)}if(Me.call(this,gt),gt>=0){oe.on(e.Z.PLAYBACK_METADATA_LOADED,function Xt(){var sn=je(gt);sn&&"html"===sn.renderingType&&B.call(this,sn,!0),oe.off(e.Z.PLAYBACK_METADATA_LOADED,Xt,this)},this);for(var Bt=0;Bt<L.length;Bt++){var Kt=je(Bt);Kt&&(Kt.mode=Bt===gt?r.Z.TEXT_SHOWING:r.Z.TEXT_HIDDEN,Kt.manualMode=Bt===gt?r.Z.TEXT_SHOWING:r.Z.TEXT_HIDDEN)}}oe.trigger(i.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:R,tracks:L,streamId:N.id})},getCurrentTrackIdx:function(){return R},setCurrentTrackIdx:Me,getTrackIdxForId:function(_e){for(var He=-1,De=0;De<L.length;De++)if(L[De].id===_e){He=De;break}return He},getCurrentTrackInfo:function(){return L[R]},setModeForTrackIdx:function(_e,He){var De=je(_e);De&&De.mode!==He&&(De.mode=He),De&&De.manualMode!==He&&(De.manualMode=He)},deleteCuesFromTrackIdx:function(_e,He,De){var ze=je(_e);ze&&ot(ze,He,De)},deleteAllTextTracks:function(){for(var _e=M?M.length:0,He=0;He<_e;He++){var De=je(He);De&&ot.call(this,De,N.start,N.start+N.duration,!1)}M=[],L=[],X&&(clearInterval(X),X=null),q&&he&&(q.unobserve(he.getElement()),q=null),R=-1,xe.call(this)},deleteTextTrack:function(_e){he.removeChild(M[_e]),M.splice(_e,1)},manualCueProcessing:function(_e){var He=Ue();if(He&&He.length>0){var De=He[0].manualCueList;De&&De.length>0&&De.forEach(function(ze){if(ze.startTime<=_e&&ze.endTime>=_e&&!ze.isActive)ze.isActive=!0,WebVTT.processCues(window,[ze],$,ze.cueID);else if(ze.isActive&&(ze.startTime>_e||ze.endTime<_e)&&(ze.isActive=!1,$))for(var Xe=$.childNodes,$e=0;$e<Xe.length;++$e)Xe[$e].id===ze.cueID&&($.removeChild(Xe[$e]),--$e)})}},disableManualTracks:function(){var _e=Ue();if(_e&&_e.length>0){var He=_e[0].manualCueList;He&&He.length>0&&He.forEach(function(De){if(De.isActive&&(De.isActive=!1,$))for(var ze=$.childNodes,Xe=0;Xe<ze.length;++Xe)ze[Xe].id===De.cueID&&($.removeChild(ze[Xe]),--Xe)})}}},v=(0,y.Z)(ge).getInstance().getLogger(f),f}oo.__dashjs_factory_name="TextTracks";const Ys=o.Z.getClassFactory(oo);function so(){var h,f,v,P,L,M;function F(U){var $=U.split(":"),X=$.length-1;return U=60*parseInt($[X-1],10)+parseFloat($[X]),2===X&&(U+=3600*parseInt($[0],10)),U}function W(U){var $=U.split(P),X=$[1].split(M);return X.shift(),$[1]=X[0],X.shift(),{cuePoints:$,styles:te(X)}}function te(U){var $={};return U.forEach(function(X){if(X.split(/:/).length>1){var Se=X.split(/:/)[1],de=!1;Se&&-1!=Se.search(/%/)&&(de=!0,Se=parseInt(Se.replace(/%/,""),10)),(X.match(/align/)||X.match(/A/))&&($.align=Se),(X.match(/line/)||X.match(/L/))&&($.line="auto"===Se?Se:parseInt(Se,10),de&&($.snapToLines=!1)),(X.match(/position/)||X.match(/P/))&&($.position=Se),(X.match(/size/)||X.match(/S/))&&($.size=Se)}}),$}function Q(U,$){for(var X,Se=$,de="",Ee="";""!==U[Se]&&Se<U.length;)Se++;if((X=Se-$)>1)for(var Te=0;Te<X;Te++){if((Ee=U[$+Te]).match(P)){de="";break}de+=Ee,Te!==X-1&&(de+="\n")}else(Ee=U[$]).match(P)||(de=Ee);return de}return h={parse:function(U){var $,X,Se=[];if(!U)return Se;$=(U=U.split(v)).length,X=-1;for(var de=0;de<$;de++){var Ee=U[de];if(Ee.length>0&&"WEBVTT"!==Ee&&Ee.match(P)){var Te=W(Ee),q=Te.cuePoints,ge=Te.styles,oe=Q(U,de+1),he=F(q[0].replace(L,"")),N=F(q[1].replace(L,""));!isNaN(he)&&!isNaN(N)&&he>=X&&N>he?""!==oe?(X=he,Se.push({start:he,end:N,data:oe,styles:ge})):f.error("Skipping cue due to empty/malformed cue text"):f.error("Skipping cue due to incorrect cue timing")}}return Se},getCaptionStyles:te},f=(0,y.Z)(this.context).getInstance().getLogger(h),v=/(?:\r\n|\r|\n)/gm,P=/-->/,L=/(^[\s]+|[\s]+$)/g,M=/\s\b/g,h}so.__dashjs_factory_name="VTTParser";const zs=o.Z.getSingletonFactory(so);function lo(){var h,f;return h={parse:function(v){var P=[];return f.oncue=function(L){L.start=L.startTime,L.end=L.endTime,L.data=L.text,L.styles={align:L.align,line:L.line,position:L.position,size:L.size},P.push(L)},f.parse(v),P}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(f=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),h}lo.__dashjs_factory_name="VttCustomRenderingParser";const Ks=o.Z.getSingletonFactory(lo);function uo(){var h,f,v=this.context,P=(0,c.Z)(v).getInstance(),L=0;return h={parse:function(M,R,F,W,te){var Q,U,$,X="",Se=[],de={},Ee={},Te="",q="",ge={onOpenTag:function(Y,B,k){if(k[" imagetype"]&&!k[" imageType"]&&(P.trigger(e.Z.CONFORMANCE_VIOLATION,{level:Dr.LEVELS.ERROR,event:Dr.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),k[" imageType"]=k[" imagetype"]),"image"===B&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Y||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Y)){if(!k[" imageType"]||"PNG"!==k[" imageType"].value)return void f.warn("smpte-tt imageType != PNG. Discarded");Te=k["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){Te&&(Ee[Te]=q.trim()),q="",Te=""},onText:function(Y){Te&&(q+=Y)}};if(!M)throw X="no ttml data to parse",new Error(X);de.data=M,P.trigger(i.Z.TTML_TO_PARSE,de);var oe=(0,Ji.fromXML)(de.data,function(Y){X=Y},ge);P.trigger(i.Z.TTML_PARSED,{ttmlString:de.data,ttmlDoc:oe});var he,N=oe.getMediaTimeEvents();for($=0;$<N.length;$++){var H=(0,Ji.generateISD)(oe,N[$],function(Y){X=Y});H.contents.some(function(Y){return Y.contents.length})&&(Q=N[$]+R)<(U=N[$+1]+R)&&Se.push({start:Q,end:U,type:"html",cueID:(he="cue_TTML_"+L,L++,he),isd:H,images:te,embeddedImages:Ee})}if(""!==X)throw f.error(X),new Error(X);return Se}},f=(0,y.Z)(v).getInstance().getLogger(h),h}uo.__dashjs_factory_name="TTMLParser";const Ws=o.Z.getSingletonFactory(uo);function co(h){var f,v,P,L,M,R,F,W,te,Q,U,$,X=this.context,Se=h.adapter,de=h.errHandler,Ee=h.manifestModel,Te=h.mediaController,q=h.videoModel,ge=h.settings;function oe(ne){var re=ne.tracks,me=ne.index,Z=ne.streamId;if(!1===ge.get().streaming.text.defaultEnabled&&!H()||$)Y(Z,-1);else{var K=Te.getCurrentTrackFor(r.Z.TEXT,Z);if(K){var Ae={lang:K.lang,role:K.roles[0],index:K.index,codec:K.codec,accessibility:K.accessibility[0]};re.some(function(Fe,Ue){if(Te.matchSettings(Ae,Fe))return Y(Z,Ue),me=Ue,!0})}te=!1}v[Z].lastEnabledIndex=me,W.trigger(e.Z.TEXT_TRACKS_ADDED,{enabled:H(),index:me,tracks:re,streamId:Z}),U=!0}function he(ne){try{var re=ne.streamId;if(!L[re]||isNaN(ne.time))return;L[re].manualCueProcessing(ne.time)}catch{}}function N(ne){try{var re=ne.streamId;if(!L[re])return;L[re].disableManualTracks()}catch{}}function H(){var ne=!0;return te&&!Q&&(ne=!1),ne}function Y(ne,re){(te=-1===re)&&Te&&Te.saveTextSettingsDisabled();var me=B(ne);if(me!==re&&L[ne]){L[ne].disableManualTracks(),L[ne].setModeForTrackIdx(me,r.Z.TEXT_HIDDEN),L[ne].setCurrentTrackIdx(re),L[ne].setModeForTrackIdx(re,r.Z.TEXT_SHOWING);var Z=L[ne].getCurrentTrackInfo();Z&&Z.isFragmented&&!Z.isEmbedded?function(K,Ae,Fe){if(P[K])for(var Ue=P[K].getConfig().fragmentedTracks,je=0;je<Ue.length;je++){var Me=Ue[je];if(Ae.lang===Me.lang&&(Me.id?Ae.id===Me.id:Ae.index===Me.index)){var Ye=Te.getCurrentTrackFor(r.Z.TEXT,K);(Me.id?Ye.id!==Me.id:Ye.index!==Me.index)?(L[K].deleteCuesFromTrackIdx(Fe),P[K].setCurrentFragmentedTrackIdx(je)):-1===Fe&&W.trigger(i.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:K,mediaType:r.Z.TEXT})}}}(ne,Z,me):Z&&!Z.isFragmented&&W.trigger(i.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:Z},{streamId:ne,mediaType:r.Z.TEXT}),Te.setTrack(Z)}}function B(ne){return L[ne].getCurrentTrackIdx()}function k(){P={},L={},v={},te=!0,U=!1,$=!1}return f={deactivateStream:function(ne){if(ne){var re=ne.id;P[re]&&P[re].resetMediaInfos(),L[re]&&L[re].deleteAllTextTracks()}},initialize:function(){W.on(i.Z.TEXT_TRACKS_QUEUE_INITIALIZED,oe,f),ge.get().streaming.text.webvtt.customRenderingEnabled&&(W.on(i.Z.PLAYBACK_TIME_UPDATED,he,f),W.on(i.Z.PLAYBACK_SEEKING,N,f))},initializeForStream:function(ne){var re=ne.id,me=Ys(X).create({videoModel:q,settings:ge,streamInfo:ne});me.initialize(),L[re]=me;var Z=qs(X).create({errHandler:de,adapter:Se,manifestModel:Ee,mediaController:Te,videoModel:q,textTracks:me,vttParser:M,vttCustomRenderingParser:R,ttmlParser:F,streamInfo:ne,settings:ge});Z.initialize(),P[re]=Z,v[re]={},v[re].lastEnabledIndex=-1},createTracks:function(ne){var re=ne.id;L[re]&&L[re].createTracks()},getTextSourceBuffer:function(ne){var re=ne.id;if(P&&P[re])return P[re]},getAllTracksAreDisabled:function(){return te},addEmbeddedTrack:function(ne,re){var me=ne.id;P[me]&&P[me].addEmbeddedTrack(re)},enableText:function(ne,re){return(0,z.PS)(re,"boolean"),H()!==re&&(re&&Y(ne,v[ne].lastEnabledIndex),re||(v[ne].lastEnabledIndex=B(ne),U?Y(ne,-1):$=!0)),!0},isTextEnabled:H,setTextTrack:Y,getCurrentTrackIdx:B,enableForcedTextStreaming:function(ne){return(0,z.PS)(ne,"boolean"),Q=ne,!0},addMediaInfosToBuffer:function(ne,re,me){var K=ne.id;P[K]&&P[K].addMediaInfos(re,me,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function(){k(),W.off(i.Z.TEXT_TRACKS_QUEUE_INITIALIZED,oe,f),ge.get().streaming.text.webvtt.customRenderingEnabled&&(W.off(i.Z.PLAYBACK_TIME_UPDATED,he,f),W.off(i.Z.PLAYBACK_SEEKING,N,f)),Object.keys(P).forEach(function(ne){P[ne].resetEmbedded(),P[ne].reset()})}},Q=!1,U=!1,$=!1,M=zs(X).getInstance(),R=Ks(X).getInstance(),F=Ws(X).getInstance(),W=(0,c.Z)(X).getInstance(),k(),f}co.__dashjs_factory_name="TextController";const Xs=o.Z.getClassFactory(co);function $i(){var h,f,v,P,L,M,R,F,W,te,Q,U,$,X,Se,de,Ee,Te,q,ge,oe,he,N,H,Y,B,k,ne,re,me,Z,K,Ae,Fe,Ue,je,Me,Ye,dt,it="You must first call initialize() and set a source before calling this method",ot="You must first call initialize() and set a valid source and view before calling this method",bt="You must first call attachView() to set the video element before calling this method",Pt="You must first call attachSource() with a valid source before calling this method",xe="MediaPlayer not initialized!",_e=this.context,He=(0,c.Z)(_e).getInstance(),De=(0,ue.Z)(_e).getInstance(),ze=(0,y.Z)(_e).getInstance({settings:De});function Xe(){mn(null),gn(null),P=null,X&&(X.reset(),X=null),Se&&(Se.reset(),Se=null),ge&&ge.reset(),De.reset(),Ee&&(Ee.reset(),Ee=null)}function $e(){return!!v&&!!je.getElement()}function gt(){return(0,gs.e)()}function At(){if(!R)throw ot;return ne.isPaused()}function qt(){if(!R)throw ot;return ne.getIsDynamic()}function zt(ve){var We=Y&&Y.hasVideoTrack()?r.Z.VIDEO:r.Z.AUDIO,lt=K.getCurrentDVRInfo(We);if(!lt)return 0;var Nt=ne.getOriginalLiveDelay(),Ft=lt.range.start+ve;return Ft>lt.range.end-Nt&&(Ft=lt.range.end-Nt),Ft}function Bt(ve){if(!R)throw ot;var We=rn().currentTime;if(void 0!==ve)We=Y.getTimeRelativeToStreamId(We,ve);else if(ne.getIsDynamic()){var lt=Y&&Y.hasVideoTrack()?r.Z.VIDEO:r.Z.AUDIO,Nt=K.getCurrentDVRInfo(lt);We=null===Nt||0===We?0:Math.max(0,We-Nt.range.start)}return We}function Kt(){if(!R)throw ot;var ve=rn().duration;if(ne.getIsDynamic()){var We=Y&&Y.hasVideoTrack()?r.Z.VIDEO:r.Z.AUDIO,lt=K.getCurrentDVRInfo(We);ve=lt?lt.range.end-lt.range.start:0}return ve}function Xt(ve){(0,z.PS)(ve,"boolean"),F=ve}function sn(){ge.restoreDefaultUTCTimingSources()}function dn(){return K}function rn(){if(!je.getElement())throw bt;return je.getElement()}function gn(ve){if(!L)throw xe;je.setElement(ve),ve&&(et(),function(){if(!Se){var We=dashjs.MetricsReporting;if("function"==typeof We){var lt=We(_e).create();Se=lt.createMetricsReporting({debug:ze,eventBus:He,mediaElement:rn(),adapter:Te,dashMetrics:K,mediaPlayerModel:q,events:i.Z,constants:r.Z,metricsConstants:d.Z})}}}(),function(){if(!de){var We=dashjs.MssHandler;"function"==typeof We&&(g.extend(We.errors),de=We(_e).create({eventBus:He,mediaPlayerModel:q,dashMetrics:K,manifestModel:Ae,playbackController:ne,streamController:Y,protectionController:X,baseURLController:he,errHandler:oe,events:i.Z,constants:r.Z,debug:ze,initSegmentType:w.w.INIT_SEGMENT_TYPE,BASE64:Wi,ISOBoxer:vi,settings:De}))}}(),Y&&Y.switchToVideoElement(W)),R&&jt(),Ze(W)}function un(ve){if(!M)throw it;var We=Y.getActiveStreamInfo();return We?$.getTracksFor(ve,We.id):[]}function mn(ve){var We=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!L)throw xe;"string"==typeof ve&&Me.initialize(ve),null==We&&(We=NaN),isNaN(We)||(We=Math.max(0,We)),W=We,v=ve,(M||R)&&jt(),$e()&&Ze(W)}function pt(){if(!M)throw it;var ve=Y.getActiveStreamInfo();return ve?Y.getStreamById(ve.id):null}function jt(){R=!1,M=!1,Te.reset(),Y.reset(),k.reset(),Z.reset(),ne.reset(),re.reset(),me.reset(),te.reset(),$.reset(),dt.reset(),X&&(De.get().streaming.protection.keepProtectionMediaKeys?X.stop():(X.reset(),X=null,et())),B.reset(),Fe.reset(),Ue.reset()}function Zt(){return Qo(_e).create({debug:ze,errHandler:oe,dashMetrics:K,mediaPlayerModel:q,requestModifier:(0,ye.Z)(_e).getInstance(),mssHandler:de,settings:De})}function et(){if(X)return X;var ve=dashjs.Protection;if("function"==typeof ve){var We=ve(_e).create();return i.Z.extend(ve.events),e.Z.extend(ve.events,{publicOnly:!0}),g.extend(ve.errors),N||(N=(0,Na.Z)(_e).getInstance()),X=We.createProtectionSystem({debug:ze,errHandler:oe,videoModel:je,customParametersModel:ge,capabilities:N,eventBus:He,events:i.Z,BASE64:Wi,constants:r.Z,cmcdModel:Fe,settings:De})}return null}function Et(){if(!L)throw xe;if(Ee)return Ee;var ve=dashjs.OfflineController;if("function"==typeof ve){i.Z.extend(ve.events),e.Z.extend(ve.events,{publicOnly:!0}),g.extend(ve.errors);var We=Zt(),lt=oi(_e).create();return lt.setConfig({manifestModel:Ae,adapter:Te,manifestLoader:We,errHandler:oe,contentSteeringController:me}),Ee=ve(_e).create({debug:ze,manifestUpdater:lt,baseURLController:he,manifestLoader:We,manifestModel:Ae,mediaPlayerModel:q,abrController:te,playbackController:ne,adapter:Te,errHandler:oe,dashMetrics:K,timelineConverter:U,segmentBaseController:dt,schemeLoaderFactory:Q,eventBus:He,events:i.Z,errors:g,constants:r.Z,settings:De,dashConstants:n.Z,urlUtils:(0,Le.Z)(_e).getInstance()})}return null}function Je(ve){var We=Y&&Y.hasVideoTrack()?r.Z.VIDEO:r.Z.AUDIO,lt=K.getCurrentDVRInfo(We);return lt?ve+(lt.manifestInfo.availableFrom.getTime()/1e3+lt.range.start):0}function Ze(){var ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;Ee&&Ee.resetRecords(),!M&&v&&(M=!0,f.info("Streaming Initialized"),function Ht(){var ve=Zt();Y||(Y=ra(_e).getInstance()),B||(B=Xs(_e).create({errHandler:oe,manifestModel:Ae,adapter:Te,mediaController:$,videoModel:je,settings:De})),H.setConfig({capabilities:N,customParametersModel:ge,adapter:Te,settings:De,manifestModel:Ae,errHandler:oe}),Y.setConfig({capabilities:N,capabilitiesFilter:H,manifestLoader:ve,manifestModel:Ae,mediaPlayerModel:q,customParametersModel:ge,protectionController:X,textController:B,adapter:Te,dashMetrics:K,errHandler:oe,timelineConverter:U,videoModel:je,playbackController:ne,serviceDescriptionController:re,contentSteeringController:me,abrController:te,mediaController:$,settings:De,baseURLController:he,uriFragmentModel:Me,segmentBaseController:dt}),k.setConfig({settings:De,playbackController:ne,streamController:Y,videoModel:je,timelineConverter:U,adapter:Te}),ne.setConfig({streamController:Y,serviceDescriptionController:re,dashMetrics:K,adapter:Te,videoModel:je,timelineConverter:U,settings:De}),Z.setConfig({streamController:Y,playbackController:ne,mediaPlayerModel:q,videoModel:je,settings:De}),te.setConfig({streamController:Y,domStorage:Ye,mediaPlayerModel:q,customParametersModel:ge,cmsdModel:Ue,dashMetrics:K,adapter:Te,videoModel:je,settings:De}),Fe.setConfig({abrController:te,dashMetrics:K,playbackController:ne}),Ue.setConfig({}),te.initialize(),Y.initialize(F,P),B.initialize(),k.initialize(),Z.initialize(),Fe.initialize(),Ue.initialize(),me.initialize(),dt.initialize()}(),"string"==typeof v?Y.load(v,ve):Y.loadWithManifest(v,ve)),!R&&$e()&&(R=!0,f.info("Playback Initialized"))}return h={initialize:function(ve,We,lt){var Nt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;N||(N=(0,Na.Z)(_e).getInstance()).setConfig({settings:De}),oe||(oe=Jo(_e).getInstance()),N.supportsMediaSource()?(L||(L=!0,U=Bs(_e).getInstance(),te||(te=ls(_e).getInstance()).setConfig({settings:De}),Q||(Q=Hn(_e).getInstance()),ne||(ne=l(_e).getInstance()),$||($=_o(_e).getInstance()),Y||(Y=ra(_e).getInstance()),k||(k=ho(_e).getInstance()),Z||(Z=po(_e).getInstance()),re||(re=vo(_e).getInstance()),me||(me=Tr(_e).getInstance()),H||(H=$o(_e).getInstance()),Te=bs(_e).getInstance(),Ae=ns(_e).getInstance(),Fe=St(_e).getInstance(),Ue=Ur(_e).getInstance(),K=Us(_e).getInstance({settings:De}),Ye=ds(_e).getInstance({settings:De}),Te.setConfig({constants:r.Z,cea608parser:S(),errHandler:oe,BASE64:Wi}),he||(he=wo(_e).create()),he.setConfig({adapter:Te,contentSteeringController:me}),re.setConfig({adapter:Te}),dt||(dt=ps(_e).getInstance({dashMetrics:K,mediaPlayerModel:q,errHandler:oe,baseURLController:he,events:i.Z,eventBus:He,debug:ze,boxParser:(0,jr.Z)(_e).getInstance(),requestModifier:(0,ye.Z)(_e).getInstance(),errors:g})),$.setConfig({domStorage:Ye,settings:De,customParametersModel:ge}),q.setConfig({playbackController:ne,serviceDescriptionController:re}),me.setConfig({adapter:Te,errHandler:oe,dashMetrics:K,mediaPlayerModel:q,manifestModel:Ae,serviceDescriptionController:re,eventBus:He,requestModifier:(0,ye.Z)(_e).getInstance()}),sn(),Xt(void 0===lt||lt),Et()),ve&&gn(ve),We&&mn(We,Nt),f.info("[dash.js "+gt()+"] MediaPlayer has been initialized")):oe.error(new O.Z(g.CAPABILITY_MEDIASOURCE_ERROR_CODE,g.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(ve){ve&&(ve.capabilities&&(N=ve.capabilities),ve.capabilitiesFilter&&(H=ve.capabilitiesFilter),ve.streamController&&(Y=ve.streamController),ve.textController&&(B=ve.textController),ve.gapController&&(k=ve.gapController),ve.playbackController&&(ne=ve.playbackController),ve.serviceDescriptionController&&(re=ve.serviceDescriptionController),ve.contentSteeringController&&(me=ve.contentSteeringController),ve.catchupController&&(Z=ve.catchupController),ve.mediaPlayerModel&&(q=ve.mediaPlayerModel),ve.customParametersModel&&(ge=ve.customParametersModel),ve.abrController&&(te=ve.abrController),ve.schemeLoaderFactory&&(Q=ve.schemeLoaderFactory),ve.mediaController&&($=ve.mediaController),ve.settings&&(De=ve.settings))},on:function(ve,We,lt,Nt){He.on(ve,We,lt,Nt)},off:function(ve,We,lt){He.off(ve,We,lt)},extend:function(ve,We,lt){o.Z.extend(ve,We,lt,_e)},attachView:gn,attachSource:mn,isReady:$e,preload:function(){if(!je.getElement()&&!M){if(!v)throw Pt;Ze(W)}},play:function(){if(!R)throw ot;(!F||At()&&R)&&ne.play(!0)},isPaused:At,pause:function(){if(!R)throw ot;ne.pause()},isSeeking:function(){if(!R)throw ot;return ne.isSeeking()},isDynamic:qt,getLowLatencyModeEnabled:function(){if(!R)throw ot;return ne.getLowLatencyModeEnabled()},seek:function(ve){if(!R)throw ot;if((0,z.PS)(ve,"number"),isNaN(ve))throw r.Z.BAD_ARGUMENT_ERROR;ve<0&&(ve=0);var We=ne.getIsDynamic()?zt(ve):ve,lt=rn();!ne.getIsDynamic()&&lt.duration&&(We=Math.min(lt.duration,We)),ne.seek(We,!1,!1,!0)},seekToOriginalLive:function(){R&&qt()&&ne.seekToOriginalLive()},setPlaybackRate:function(ve){rn().playbackRate=ve},getPlaybackRate:function(){return rn().playbackRate},setMute:function(ve){(0,z.PS)(ve,"boolean"),rn().muted=ve},isMuted:function(){return rn().muted},setVolume:function(ve){if("number"!=typeof ve||isNaN(ve)||ve<0||ve>1)throw r.Z.BAD_ARGUMENT_ERROR;rn().volume=ve},getVolume:function(){return rn().volume},time:Bt,duration:Kt,timeAsUTC:function(){if(!R)throw ot;return Bt()<0?NaN:Je(Bt())},durationAsUTC:function(){if(!R)throw ot;return Je(Kt())},getActiveStream:pt,getDVRWindowSize:function(){var ve=Y&&Y.hasVideoTrack()?r.Z.VIDEO:r.Z.AUDIO,We=K.getCurrentDVRInfo(ve);return We?We.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:zt,getAvailableBaseUrls:function(){var ve=Ae.getValue();return ve?he.getBaseUrls(ve):[]},getAvailableLocations:function(){var ve=Ae.getValue();if(!ve)return[];var We=Te.getLocation(ve),lt=me.getSynthesizedLocationElements(We);return We.concat(lt)},getTargetLiveDelay:function(){if(!R)throw ot;return ne.getOriginalLiveDelay()},convertToTimeCode:function(ve){ve=Math.max(ve,0);var We=Math.floor(ve/3600),lt=Math.floor(ve%3600/60),Nt=Math.floor(ve%3600%60);return(0===We?"":We<10?"0"+We.toString()+":":We.toString()+":")+(lt<10?"0"+lt.toString():lt.toString())+":"+(Nt<10?"0"+Nt.toString():Nt.toString())},formatUTC:function(ve,We,lt){var Nt=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Ft=new Date(1e3*ve),on=Ft.toLocaleDateString(We),Cn=Ft.toLocaleTimeString(We,{hour12:lt});return Nt?Cn+" "+on:Cn},getVersion:gt,getDebug:function(){return ze},getBufferLength:function(ve){var We=[r.Z.VIDEO,r.Z.AUDIO,r.Z.TEXT];if(ve)return-1!==We.indexOf(ve)?dn().getCurrentBufferLevel(ve)||NaN:(f.warn("getBufferLength requested for invalid type"),NaN);var lt=We.map(function(Nt){return un(Nt).length>0?dn().getCurrentBufferLevel(Nt):Number.MAX_VALUE}).reduce(function(Nt,Ft){return Math.min(Nt,Ft)});return lt===Number.MAX_VALUE?NaN:lt},getTTMLRenderingDiv:function(){return je?je.getTTMLRenderingDiv():null},getVideoElement:rn,getSource:function(){if(!v)throw Pt;return v},updateSource:function(ve){Y.load(v=ve)},getCurrentLiveLatency:function(){if(!L)throw xe;return R?ne.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(ve){if(!M)throw it;return te.getTopBitrateInfoFor(ve)},setAutoPlay:Xt,getAutoPlay:function(){return F},getDashMetrics:dn,getQualityFor:function(ve){if(!M)throw it;if(ve===r.Z.IMAGE){var We=pt();if(!We)return-1;var lt=We.getThumbnailController();return lt?lt.getCurrentTrackIndex():-1}return te.getQualityFor(ve)},setQualityFor:function(ve,We){var lt=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!M)throw it;if(ve===r.Z.IMAGE){var Nt=pt();if(!Nt)return;var Ft=Nt.getThumbnailController();Ft&&Ft.setTrackByIndex(We)}te.setPlaybackQuality(ve,Y.getActiveStreamInfo(),We,{forceReplace:lt})},updatePortalSize:function(){te.setElementSize(),te.setWindowResizeEventCalled(!0)},enableText:function(ve){var We=Y.getActiveStreamInfo();return!(!We||!B)&&B.enableText(We.id,ve)},enableForcedTextStreaming:function(ve){return!(!Y.getActiveStreamInfo()||!B)&&B.enableForcedTextStreaming(ve)},isTextEnabled:function(){var ve=Y.getActiveStreamInfo();return!(!ve||!B)&&B.isTextEnabled(ve)},setTextTrack:function(ve){if(!R)throw ot;var We=Y.getActiveStreamInfo();We&&B&&B.setTextTrack(We.id,ve)},getBitrateInfoListFor:function(ve){if(!M)throw it;var We=pt();return We?We.getBitrateListFor(ve):[]},getStreamsFromManifest:function(ve){if(!M)throw it;return Te.getStreamsInfo(ve)},getTracksFor:un,getTracksForTypeFromManifest:function(ve,We,lt){if(!M)throw it;return(lt=lt||Te.getStreamsInfo(We,1)[0])?Te.getAllMediaInfoForType(lt,ve,We):[]},getCurrentTrackFor:function(ve){if(!M)throw it;var We=Y.getActiveStreamInfo();return $.getCurrentTrackFor(ve,We.id)},setInitialMediaSettingsFor:function(ve,We){if(!L)throw xe;$.setInitialSettings(ve,We)},getInitialMediaSettingsFor:function(ve){if(!L)throw xe;return $.getInitialSettings(ve)},setCurrentTrack:function(ve){if(!M)throw it;$.setTrack(ve)},addABRCustomRule:function(ve,We,lt){ge.addAbrCustomRule(ve,We,lt)},removeABRCustomRule:function(ve){ge.removeAbrCustomRule(ve)},removeAllABRCustomRule:function(){ge.removeAllAbrCustomRule()},getABRCustomRules:function(){return ge.getAbrCustomRules()},getAverageThroughput:function(ve){var We=te.getThroughputHistory(),lt=ne.getIsDynamic();return We?We.getAverageThroughput(ve,lt):0},retrieveManifest:function(ve,We){var lt=Zt(),Nt=this;He.on(i.Z.INTERNAL_MANIFEST_LOADED,function Ft(on){on.error?We(null,on.error):We(on.manifest),He.off(i.Z.INTERNAL_MANIFEST_LOADED,Ft,Nt),lt.reset()},Nt),Me.initialize(ve),lt.load(ve)},addUTCTimingSource:function(ve,We){ge.addUTCTimingSource(ve,We)},removeUTCTimingSource:function(ve,We){ge.removeUTCTimingSource(ve,We)},clearDefaultUTCTimingSources:function(){ge.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:sn,setXHRWithCredentialsForType:function(ve,We){ge.setXHRWithCredentialsForType(ve,We)},getXHRWithCredentialsForType:function(ve){return ge.getXHRWithCredentialsForType(ve)},getProtectionController:function(){return et()},attachProtectionController:function(ve){X=ve},setProtectionData:function(ve){P=ve,Y&&Y.setProtectionData(P)},registerLicenseRequestFilter:function(ve){ge.registerLicenseRequestFilter(ve)},registerLicenseResponseFilter:function(ve){ge.registerLicenseResponseFilter(ve)},unregisterLicenseRequestFilter:function(ve){ge.unregisterLicenseRequestFilter(ve)},unregisterLicenseResponseFilter:function(ve){ge.unregisterLicenseResponseFilter(ve)},registerCustomCapabilitiesFilter:function(ve){ge.registerCustomCapabilitiesFilter(ve)},unregisterCustomCapabilitiesFilter:function(ve){ge.unregisterCustomCapabilitiesFilter(ve)},setCustomInitialTrackSelectionFunction:function(ve){ge.setCustomInitialTrackSelectionFunction(ve)},resetCustomInitialTrackSelectionFunction:function(){ge.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(ve){if(!je.getElement())throw bt;je.setTTMLRenderingDiv(ve)},attachVttRenderingDiv:function(ve){if(!je.getElement())throw bt;je.setVttRenderingDiv(ve)},getCurrentTextTrackIndex:function(){var ve=Y.getActiveStreamInfo();if(ve&&B)return B.getCurrentTrackIdx(ve.id)},provideThumbnail:function(ve,We){if("function"==typeof We)if(ve<0)We(null);else{var lt=ne.getIsDynamic()?zt(ve):ve,Nt=Y.getStreamForTime(lt);if(null!==Nt){var Ft=Nt.getThumbnailController();if(Ft)return Ft.provide(lt,We);We(null)}else We(null)}},getDashAdapter:function(){return Te},getOfflineController:function(){return Et()},triggerSteeringRequest:function(){if(me)return me.loadSteeringData()},getCurrentSteeringResponseData:function(){if(me)return me.getCurrentSteeringResponseData()},getSettings:function(){return De.get()},updateSettings:function(ve){De.update(ve)},resetSettings:function(){De.reset()},reset:Xe,destroy:function(){Xe(),o.Z.deleteSingletonInstances(_e)}},f=ze.getLogger(h),L=!1,R=!1,M=!1,F=!0,W=NaN,X=null,Ee=null,P=null,Te=null,dt=null,i.Z.extend(e.Z),q=rs(_e).getInstance(),ge=(0,wt.Z)(_e).getInstance(),je=cs(_e).getInstance(),Me=ts(_e).getInstance(),h}$i.__dashjs_factory_name="MediaPlayer";var _i=o.Z.getClassFactory($i);_i.events=e.Z,_i.errors=g,o.Z.updateClassFactory($i.__dashjs_factory_name,_i);const Qs=_i},8825:(Pe,Ie,D)=>{"use strict";function J(c){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}function S(c,i){return(S=Object.setPrototypeOf||function(o,y){return o.__proto__=y,o})(c,i)}function n(c){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)})(c)}D.d(Ie,{Z:()=>d});const d=new(function(c){!function(t,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(l&&l.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),l&&S(t,l)}(e,c);var i,o,y=(i=e,o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var t,l=n(i);if(o){var T=n(this).constructor;t=Reflect.construct(l,arguments,T)}else t=l.apply(this,arguments);return function r(c,i){return!i||"object"!==J(i)&&"function"!=typeof i?function(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(c):i}(this,t)});function e(){var t;return function(l,T){if(!(l instanceof T))throw new TypeError("Cannot call a class as a function")}(this,e),(t=y.call(this)).AST_IN_FUTURE="astInFuture",t.BASE_URLS_UPDATED="baseUrlsUpdated",t.BUFFER_EMPTY="bufferStalled",t.BUFFER_LOADED="bufferLoaded",t.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",t.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",t.DYNAMIC_TO_STATIC="dynamicToStatic",t.ERROR="error",t.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",t.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",t.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",t.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",t.LOG="log",t.MANIFEST_LOADING_STARTED="manifestLoadingStarted",t.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",t.MANIFEST_LOADED="manifestLoaded",t.METRICS_CHANGED="metricsChanged",t.METRIC_CHANGED="metricChanged",t.METRIC_ADDED="metricAdded",t.METRIC_UPDATED="metricUpdated",t.PERIOD_SWITCH_STARTED="periodSwitchStarted",t.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",t.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",t.QUALITY_CHANGE_RENDERED="qualityChangeRendered",t.TRACK_CHANGE_RENDERED="trackChangeRendered",t.STREAM_INITIALIZING="streamInitializing",t.STREAM_UPDATED="streamUpdated",t.STREAM_ACTIVATED="streamActivated",t.STREAM_DEACTIVATED="streamDeactivated",t.STREAM_INITIALIZED="streamInitialized",t.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",t.TEXT_TRACKS_ADDED="allTextTracksAdded",t.TEXT_TRACK_ADDED="textTrackAdded",t.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",t.TTML_PARSED="ttmlParsed",t.TTML_TO_PARSE="ttmlToParse",t.CAPTION_RENDERED="captionRendered",t.CAPTION_CONTAINER_RESIZE="captionContainerResize",t.CAN_PLAY="canPlay",t.CAN_PLAY_THROUGH="canPlayThrough",t.PLAYBACK_ENDED="playbackEnded",t.PLAYBACK_ERROR="playbackError",t.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",t.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",t.PLAYBACK_LOADED_DATA="playbackLoadedData",t.PLAYBACK_PAUSED="playbackPaused",t.PLAYBACK_PLAYING="playbackPlaying",t.PLAYBACK_PROGRESS="playbackProgress",t.PLAYBACK_RATE_CHANGED="playbackRateChanged",t.PLAYBACK_SEEKED="playbackSeeked",t.PLAYBACK_SEEKING="playbackSeeking",t.PLAYBACK_STALLED="playbackStalled",t.PLAYBACK_STARTED="playbackStarted",t.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",t.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",t.PLAYBACK_WAITING="playbackWaiting",t.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",t.EVENT_MODE_ON_START="eventModeOnStart",t.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",t.CONFORMANCE_VIOLATION="conformanceViolation",t.REPRESENTATION_SWITCH="representationSwitch",t.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",t.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",t.INBAND_PRFT="inbandPrft",t}return e}(D(8342).Z))},3393:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>S});const S=new(function(){function r(){(function(c,i){if(!(c instanceof i))throw new TypeError("Cannot call a class as a function")})(this,r),this.init()}var d;return(d=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&function J(r,n){for(var d=0;d<n.length;d++){var c=n[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(r,c.key,c)}}(r.prototype,d),r}())},3860:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>S});const S=new(function(){function r(){(function(c,i){if(!(c instanceof i))throw new TypeError("Cannot call a class as a function")})(this,r),this.init()}var d;return(d=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&function J(r,n){for(var d=0;d<n.length;d++){var c=n[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(r,c.key,c)}}(r.prototype,d),r}())},8080:(Pe,Ie,D)=>{"use strict";D.d(Ie,{default:()=>I});var J=function C(){(function(z,V){if(!(z instanceof V))throw new TypeError("Cannot call a class as a function")})(this,C),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};J.SSL_CONNECTION_FAILED_PREFIX="SSL",J.DNS_RESOLUTION_FAILED="C00",J.HOST_UNREACHABLE="C01",J.CONNECTION_REFUSED="C02",J.CONNECTION_ERROR="C03",J.CORRUPT_MEDIA_ISOBMFF="M00",J.CORRUPT_MEDIA_OTHER="M01",J.BASE_URL_CHANGED="F00",J.BECAME_REPORTER="S00";const S=J;var r=D(1180);function n(C){var z,V,ye=(C=C||{}).eventBus,Le=C.dashMetrics,ke=C.metricsConstants,Ce=C.events;function Ve(Lt){var kt=new S;if(V){for(var En in Lt)Lt.hasOwnProperty(En)&&(kt[En]=Lt[En]);kt.mpdurl||(kt.mpdurl=V.originalUrl||V.url),kt.terror||(kt.terror=new Date),Le.addDVBErrors(kt)}}function Ke(Lt){Lt.error||(V=Lt.manifest)}function nt(Lt){Ve({errorcode:S.BASE_URL_CHANGED,servicelocation:Lt.entry})}function ht(){Ve({errorcode:S.BECAME_REPORTER})}function ft(Lt){var kt;Lt.metric===ke.HTTP_REQUEST&&(0===(kt=Lt.value).responsecode||null==kt.responsecode||kt.responsecode>=400||kt.responsecode<100||kt.responsecode>=600)&&Ve({errorcode:kt.responsecode||S.CONNECTION_ERROR,url:kt.url,terror:kt.tresponse,servicelocation:kt._serviceLocation})}function Ct(Lt){var kt;switch(Lt.error?Lt.error.code:0){case MediaError.MEDIA_ERR_NETWORK:kt=S.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:kt=S.CORRUPT_MEDIA_OTHER;break;default:return}Ve({errorcode:kt})}return z={initialize:function(){ye.on(Ce.MANIFEST_UPDATED,Ke,z),ye.on(Ce.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,nt,z),ye.on(Ce.METRIC_ADDED,ft,z),ye.on(Ce.METRIC_UPDATED,ft,z),ye.on(Ce.PLAYBACK_ERROR,Ct,z),ye.on(r.Z.BECAME_REPORTING_PLAYER,ht,z)},reset:function(){ye.off(Ce.MANIFEST_UPDATED,Ke,z),ye.off(Ce.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,nt,z),ye.off(Ce.METRIC_ADDED,ft,z),ye.off(Ce.METRIC_UPDATED,ft,z),ye.off(Ce.PLAYBACK_ERROR,Ct,z),ye.off(r.Z.BECAME_REPORTING_PLAYER,ht,z)}}}n.__dashjs_factory_name="DVBErrorsTranslator";const d=dashjs.FactoryMaker.getSingletonFactory(n);var c=D(2295);function i(C){var z,V,ye=!1,ke=(C=C||{}).mediaElement;return z={initialize:function(Ce){Ce&&Ce.length&&(Ce.forEach(function(Ve){var Ke=Ve.starttime;V.add(Ke,Ke+Ve.duration)}),ye=!!Ce[0]._useWallClockTime)},reset:function(){V.clear()},isEnabled:function(){var Ce,Ve=V.length;if(!Ve)return!0;Ce=ye?(new Date).getTime()/1e3:ke.currentTime;for(var Ke=0;Ke<Ve;Ke+=1){var nt=V.start(Ke),ht=V.end(Ke);if(nt<=Ce&&Ce<ht)return!0}return!1}},V=(0,c.Z)(this.context).create(),z}i.__dashjs_factory_name="RangeController";const o=dashjs.FactoryMaker.getClassFactory(i);function y(){return{serialise:function C(z){var V,ye,Le=[],ke=[];for(V in z)if(z.hasOwnProperty(V)&&0!==V.indexOf("_")){if(null==(ye=z[V])&&(ye=""),Array.isArray(ye)){if(!ye.length)continue;ke=[],ye.forEach(function(Ce){var Ve="Object"!==Object.prototype.toString.call(Ce).slice(8,-1);ke.push(Ve?Ce:C(Ce))}),ye=ke.map(encodeURIComponent).join(",")}else"string"==typeof ye?ye=encodeURIComponent(ye):ye instanceof Date?ye=ye.toISOString():"number"==typeof ye&&(ye=Math.round(ye));Le.push(V+"="+ye)}return Le.join("&")}}}y.__dashjs_factory_name="MetricSerialiser";const e=dashjs.FactoryMaker.getSingletonFactory(y);function t(){var C,z,V,ye=window.crypto||window.msCrypto,Le=Uint32Array,ke=Math.pow(2,8*Le.BYTES_PER_ELEMENT)-1;function Ce(){ye&&(C||(C=new Le(10)),ye.getRandomValues(C),z=0)}return V={random:function(Ve,Ke){var nt;return Ve||(Ve=0),Ke||(Ke=1),ye?(z===C.length&&Ce(),nt=C[z]/ke,z+=1):nt=Math.random(),nt*(Ke-Ve)+Ve}},Ce(),V}t.__dashjs_factory_name="RNG";const l=dashjs.FactoryMaker.getSingletonFactory(t);var T=D(5717);function p(C){var z,V,ye,Le,ke,Ce,Ve,Ke,nt=this.context,ht=[],ft=(C=C||{}).metricsConstants;function Ct(){ke=!1,Ce=!1,Ve=null,Ke=null}return z={report:function(Lt,kt){Array.isArray(kt)||(kt=[kt]),Ce&&Ke.isEnabled()&&kt.forEach(function(En){var _n=V.serialise(En);Lt!==ft.DVB_ERRORS&&(_n="metricname=".concat(Lt,"&").concat(_n)),function(vn,Fn,Ln){var bn=new XMLHttpRequest;bn.withCredentials=ye.getXHRWithCredentialsForType(ft.HTTP_REQUEST_DVB_REPORTING_TYPE);var Gn=function(){var jn=ht.indexOf(bn);-1!==jn&&(ht.splice(jn,1),!(bn.status>=200&&bn.status<300)&&Ln&&Ln())};ht.push(bn);try{bn.open("GET",vn),bn.onloadend=Gn,bn.onerror=Gn,bn.send()}catch{bn.onerror()}}(_n="".concat(Ve,"?").concat(_n),0,function(){Ce=!1})})},initialize:function(Lt,kt){var En;if(Ke=kt,!(Ve=Lt.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");ke||((En=Lt.dvb_probability)&&(1e3===En||En/1e3>=Le.random())&&(Ce=!0),ke=!0)},reset:function(){Ct()}},V=e(nt).getInstance(),Le=l(nt).getInstance(),ye=(0,T.Z)(nt).getInstance(),Ct(),z}p.__dashjs_factory_name="DVBReporting";const E=dashjs.FactoryMaker.getClassFactory(p);function b(C){var V={"urn:dvb:dash:reporting:2014":E},ye=this.context,Le=(C=C||{}).debug?C.debug.getLogger(void 0):{},ke=C.metricsConstants,Ce=C.mediaPlayerModel||{};return{create:function(Ve,Ke){var nt;try{(nt=V[Ve.schemeIdUri](ye).create({metricsConstants:ke,mediaPlayerModel:Ce})).initialize(Ve,Ke)}catch(ht){nt=null,Le.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(Ve.schemeIdUri," (").concat(ht.message,")"))}return nt},register:function(Ve,Ke){V[Ve]=Ke},unregister:function(Ve){delete V[Ve]}}}b.__dashjs_factory_name="ReportingFactory";const x=dashjs.FactoryMaker.getSingletonFactory(b);function A(C){var z=[],V=x(this.context).getInstance(C);return{initialize:function(ye,Le){ye.some(function(ke){var Ce=V.create(ke,Le);if(Ce)return z.push(Ce),!0})},reset:function(){z.forEach(function(ye){return ye.reset()}),z=[]},report:function(ye,Le){z.forEach(function(ke){return ke.report(ye,Le)})}}}A.__dashjs_factory_name="ReportingController";const _=dashjs.FactoryMaker.getClassFactory(A);function O(){return{reconstructFullMetricName:function(C,z,V){var ye=C;return z&&(ye+="("+z,V&&V.length&&(ye+=","+V),ye+=")"),ye},validateN:function(C){if(!C)throw new Error("missing n");if(isNaN(C))throw new Error("n is NaN");if(C<0)throw new Error("n must be positive");return C}}}O.__dashjs_factory_name="HandlerHelpers";const G=dashjs.FactoryMaker.getSingletonFactory(O);function j(C){var z,V,ye,Le,ke;C=C||{};var Ve=G(this.context).getInstance(),Ke=[],nt=C.metricsConstants;function ht(){var ft=function(){try{return Object.keys(Ke).map(function(Ct){return Ke[Ct]}).reduce(function(Ct,Lt){return Ct.level<Lt.level?Ct:Lt})}catch{return}}();ft&&ke!==ft.t&&(ke=ft.t,z.report(ye,ft))}return{initialize:function(ft,Ct,Lt){Ct&&(V=Ve.validateN(Lt),z=Ct,ye=Ve.reconstructFullMetricName(ft,Lt),Le=setInterval(ht,V))},reset:function(){clearInterval(Le),Le=null,V=0,z=null,ke=null},handleNewMetric:function(ft,Ct,Lt){ft===nt.BUFFER_LEVEL&&(Ke[Lt]=Ct)}}}j.__dashjs_factory_name="BufferLevelHandler";const ae=dashjs.FactoryMaker.getClassFactory(j),pe=dashjs.FactoryMaker.getClassFactory(function(C){var z,V=(C=C||{}).eventBus,ye=C.metricsConstants;function Le(){V.off(r.Z.METRICS_INITIALISATION_COMPLETE,Le,this),V.trigger(r.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(ke,Ce){Ce&&(z=Ce,V.on(r.Z.METRICS_INITIALISATION_COMPLETE,Le,this))},reset:function(){z=null},handleNewMetric:function(ke,Ce){ke===ye.DVB_ERRORS&&z&&z.report(ke,Ce)}}});function g(C){var z,V,ye,Le,ke;C=C||{};var Ce=[],Ve=G(this.context).getInstance(),Ke=C.metricsConstants;function nt(){Ce.length&&z&&z.report(Le,Ce),Ce=[]}return{initialize:function(ht,ft,Ct,Lt){ft&&(V=Ve.validateN(Ct),z=ft,Lt&&Lt.length&&(ye=Lt),Le=Ve.reconstructFullMetricName(ht,Ct,Lt),ke=setInterval(nt,V))},reset:function(){clearInterval(ke),ke=null,V=null,ye=null,Ce=[],z=null},handleNewMetric:function(ht,ft){ht===Ke.HTTP_REQUEST&&(ye&&ye!==ft.type||Ce.push(ft))}}}g.__dashjs_factory_name="HttpListHandler";const ue=dashjs.FactoryMaker.getClassFactory(g);function w(){var C,z;return{initialize:function(V,ye){C=V,z=ye},reset:function(){z=null,C=void 0},handleNewMetric:function(V,ye){V===C&&z&&z.report(C,ye)}}}w.__dashjs_factory_name="GenericMetricHandler";const ie=dashjs.FactoryMaker.getClassFactory(w);function ee(C){var V=(C=C||{}).debug?C.debug.getLogger(void 0):{},ye=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,Le=this.context,ke={BufferLevel:ae,DVBErrors:pe,HttpList:ue,PlayList:ie,RepSwitchList:ie,TcpList:ie};return{create:function(Ce,Ve){var Ke,nt=Ce.match(ye);if(nt){try{(Ke=ke[nt[1]](Le).create({eventBus:C.eventBus,metricsConstants:C.metricsConstants})).initialize(nt[1],Ve,nt[3],nt[5])}catch(ht){Ke=null,V.error("MetricsHandlerFactory: Could not create handler for type ".concat(nt[1]," with args ").concat(nt[3],", ").concat(nt[5]," (").concat(ht.message,")"))}return Ke}},register:function(Ce,Ve){ke[Ce]=Ve},unregister:function(Ce){delete ke[Ce]}}}ee.__dashjs_factory_name="MetricsHandlerFactory";const le=dashjs.FactoryMaker.getSingletonFactory(ee);function be(C){var z,V=[],Le=(C=C||{}).eventBus,ke=C.events,Ce=le(this.context).getInstance({debug:C.debug,eventBus:C.eventBus,metricsConstants:C.metricsConstants});function Ve(Ke){V.forEach(function(nt){nt.handleNewMetric(Ke.metric,Ke.value,Ke.mediaType)})}return z={initialize:function(Ke,nt){Ke.split(",").forEach(function(ht,ft,Ct){var Lt;if(-1!==ht.indexOf("(")&&-1===ht.indexOf(")")){var kt=Ct[ft+1];kt&&-1===kt.indexOf("(")&&-1!==kt.indexOf(")")&&(ht+=","+kt,delete Ct[ft+1])}(Lt=Ce.create(ht,nt))&&V.push(Lt)}),Le.on(ke.METRIC_ADDED,Ve,z),Le.on(ke.METRIC_UPDATED,Ve,z)},reset:function(){Le.off(ke.METRIC_ADDED,Ve,z),Le.off(ke.METRIC_UPDATED,Ve,z),V.forEach(function(Ke){return Ke.reset()}),V=[]}}}be.__dashjs_factory_name="MetricsHandlersController";const Re=dashjs.FactoryMaker.getClassFactory(be);function we(C){var z,V,ye;C=C||{};var Le=this.context;function ke(){z&&z.reset(),V&&V.reset(),ye&&ye.reset()}return{initialize:function(Ce){try{(ye=o(Le).create({mediaElement:C.mediaElement})).initialize(Ce.Range),(V=_(Le).create({debug:C.debug,metricsConstants:C.metricsConstants,mediaPlayerModel:C.mediaPlayerModel})).initialize(Ce.Reporting,ye),(z=Re(Le).create({debug:C.debug,eventBus:C.eventBus,metricsConstants:C.metricsConstants,events:C.events})).initialize(Ce.metrics,V)}catch(Ve){throw ke(),Ve}},reset:ke}}we.__dashjs_factory_name="MetricsController";const ce=dashjs.FactoryMaker.getClassFactory(we),Oe=function C(){(function(z,V){if(!(z instanceof V))throw new TypeError("Cannot call a class as a function")})(this,C),this.metrics="",this.Range=[],this.Reporting=[]},qe=function C(){(function(z,V){if(!(z instanceof V))throw new TypeError("Cannot call a class as a function")})(this,C),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},Ne=function C(){(function(z,V){if(!(z instanceof V))throw new TypeError("Cannot call a class as a function")})(this,C),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3};function Be(C){var z=(C=C||{}).adapter,V=C.constants;return{getMetrics:function(ye){var Le=[];return ye&&ye.Metrics_asArray&&ye.Metrics_asArray.forEach(function(ke){var Ce=new Oe,Ve=z.getIsDynamic(ye);ke.hasOwnProperty("metrics")&&(Ce.metrics=ke.metrics,ke.Range_asArray&&ke.Range_asArray.forEach(function(Ke){var ht,Ct,Lt,kt,En,nt=new qe;nt.starttime=(ht=ye,Ct=Ke,En=0,Ve?En=z.getAvailabilityStartTime(ht)/1e3:(Lt=z.getRegularPeriods(ht)).length&&(En=Lt[0].start),kt=En,Ct&&Ct.hasOwnProperty(V.START_TIME)&&(kt+=Ct.starttime),kt),nt.duration=Ke.hasOwnProperty("duration")?Ke.duration:z.getDuration(ye),nt._useWallClockTime=Ve,Ce.Range.push(nt)}),ke.Reporting_asArray&&(ke.Reporting_asArray.forEach(function(Ke){var nt=new Ne;Ke.hasOwnProperty(V.SCHEME_ID_URI)&&(nt.schemeIdUri=Ke.schemeIdUri,Ke.hasOwnProperty("value")&&(nt.value=Ke.value),Ke.hasOwnProperty(V.DVB_REPORTING_URL)&&(nt.dvb_reportingUrl=Ke[V.DVB_REPORTING_URL]),Ke.hasOwnProperty(V.DVB_PROBABILITY)&&(nt.dvb_probability=Ke[V.DVB_PROBABILITY]),Ce.Reporting.push(nt))}),Le.push(Ce)))}),Le}}}Be.__dashjs_factory_name="ManifestParsing";const se=dashjs.FactoryMaker.getSingletonFactory(Be);function fe(C){var z,V={},ye=this.context,Le=(C=C||{}).eventBus,ke=C.events;function Ce(Ke){if(!Ke.error){var nt=Object.keys(V);se(ye).getInstance({adapter:C.adapter,constants:C.constants}).getMetrics(Ke.manifest).forEach(function(ht){var ft=JSON.stringify(ht);if(V.hasOwnProperty(ft))nt.splice(ft,1);else try{var Ct=ce(ye).create(C);Ct.initialize(ht),V[ft]=Ct}catch{}}),nt.forEach(function(ht){V[ht].reset(),delete V[ht]}),Le.trigger(r.Z.METRICS_INITIALISATION_COMPLETE)}}function Ve(){Object.keys(V).forEach(function(Ke){V[Ke].reset()}),V={}}return z={reset:function(){Le.off(ke.MANIFEST_UPDATED,Ce,z),Le.off(ke.STREAM_TEARDOWN_COMPLETE,Ve,z)}},Le.on(ke.MANIFEST_UPDATED,Ce,z),Le.on(ke.STREAM_TEARDOWN_COMPLETE,Ve,z),z}fe.__dashjs_factory_name="MetricsCollectionController";const Ge=dashjs.FactoryMaker.getClassFactory(fe);function m(){var C=this.context;return{createMetricsReporting:function(z){return d(C).getInstance({eventBus:z.eventBus,dashMetrics:z.dashMetrics,metricsConstants:z.metricsConstants,events:z.events}).initialize(),Ge(C).create(z)},getReportingFactory:function(){return x(C).getInstance()},getMetricsHandlerFactory:function(){return le(C).getInstance()}}}m.__dashjs_factory_name="MetricsReporting";var u=dashjs.FactoryMaker.getClassFactory(m);u.events=r.Z,dashjs.FactoryMaker.updateClassFactory(m.__dashjs_factory_name,u);const I=u},1180:(Pe,Ie,D)=>{"use strict";function J(c){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}function S(c,i){return(S=Object.setPrototypeOf||function(o,y){return o.__proto__=y,o})(c,i)}function n(c){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)})(c)}D.d(Ie,{Z:()=>d});const d=new(function(c){!function(t,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(l&&l.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),l&&S(t,l)}(e,c);var i,o,y=(i=e,o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var t,l=n(i);if(o){var T=n(this).constructor;t=Reflect.construct(l,arguments,T)}else t=l.apply(this,arguments);return function r(c,i){return!i||"object"!==J(i)&&"function"!=typeof i?function(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(c):i}(this,t)});function e(){var t;return function(l,T){if(!(l instanceof T))throw new TypeError("Cannot call a class as a function")}(this,e),(t=y.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",t.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",t.CMCD_DATA_GENERATED="cmcdDataGenerated",t}return e}(D(8342).Z))},5717:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>o});var J=D(2610),S=D(5448),r=D(1264),n=D(3106),d=D(1767),c=D(3393);function i(){var y,e,t,l,T,p,E,b,A=(0,r.Z)(this.context).getInstance();function _(){l=[],T=[],p=[],b=[],E=null,e=[]}function O(pe,g){var ue=-1;pe.some(function(w,ie){if(w===g)return ue=ie,!0}),ue<0||pe.splice(ue,1)}function G(pe){var g;for(g=0;g<b.length;g++)if(b[g].rulename===pe)return g;return-1}function j(pe,g){ae(pe,g);var ue=new J.Z;ue.schemeIdUri=pe,ue.value=g,e.push(ue)}function ae(pe,g){(0,n.PS)(pe,"string"),(0,n.PS)(g,"string"),e.forEach(function(ue,w){ue.schemeIdUri===pe&&ue.value===g&&e.splice(w,1)})}return y={getCustomInitialTrackSelectionFunction:function(){return E},setCustomInitialTrackSelectionFunction:function(pe){E=pe},resetCustomInitialTrackSelectionFunction:function(){E=null},getLicenseResponseFilters:function(){return T},getLicenseRequestFilters:function(){return l},getCustomCapabilitiesFilters:function(){return p},registerCustomCapabilitiesFilter:function(pe){p.push(pe)},registerLicenseResponseFilter:function(pe){T.push(pe)},registerLicenseRequestFilter:function(pe){l.push(pe)},unregisterCustomCapabilitiesFilter:function(pe){O(p,pe)},unregisterLicenseResponseFilter:function(pe){O(T,pe)},unregisterLicenseRequestFilter:function(pe){O(l,pe)},addAbrCustomRule:function(pe,g,ue){if("string"!=typeof pe||pe!==d.Z.ABANDON_FRAGMENT_RULES&&pe!==d.Z.QUALITY_SWITCH_RULES||"string"!=typeof g)throw c.Z.BAD_ARGUMENT_ERROR;var w=G(g);-1===w?b.push({type:pe,rulename:g,rule:ue}):(b[w].type=pe,b[w].rule=ue)},removeAllAbrCustomRule:function(){b=[]},removeAbrCustomRule:function(pe){if(pe){var g=G(pe);-1!==g&&b.splice(g,1)}else b=[]},getAbrCustomRules:function(){return b},addUTCTimingSource:j,removeUTCTimingSource:ae,getUTCTimingSources:function(){return e},clearDefaultUTCTimingSources:function(){e=[]},restoreDefaultUTCTimingSources:function(){var pe=A.get().streaming.utcSynchronization.defaultTimingSource;j(pe.scheme,pe.value)},setXHRWithCredentialsForType:function pe(g,ue){g?t[g]=!!ue:Object.keys(t).forEach(function(w){pe(w,ue)})},getXHRWithCredentialsForType:function(pe){var g=t[pe];return void 0===g?t.default:g},setConfig:function(){},reset:function(){_()}},t={default:!1},_(),y}i.__dashjs_factory_name="CustomParametersModel";const o=S.Z.getSingletonFactory(i)},9032:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>n});var J=D(5448),S=D(7473);function r(d){var c=(d=d||{}).requestModifier;function i(o){var y=new Date,e=o.request,t=new XMLHttpRequest;if(t.open(o.method,o.url,!0),e.responseType&&(t.responseType=e.responseType),e.range&&t.setRequestHeader("Range","bytes="+e.range),e.requestStartDate||(e.requestStartDate=y),c&&c.modifyRequestHeader&&(t=c.modifyRequestHeader(t,{url:o.url})),o.headers)for(var l in o.headers){var T=o.headers[l];T&&t.setRequestHeader(l,T)}t.withCredentials=o.withCredentials,t.onload=o.onload,t.onloadend=o.onend,t.onerror=o.onerror,t.onprogress=o.progress,t.onabort=o.onabort,t.ontimeout=o.ontimeout,t.timeout=o.timeout,t.send(),o.response=t}return{load:function(o){c&&c.modifyRequest?(0,S.k)(o,c).then(function(){return i(o)}):i(o)},abort:function(o){var y=o.response;y.onloadend=y.onerror=y.onprogress=void 0,y.abort()}}}r.__dashjs_factory_name="XHRLoader";const n=J.Z.getClassFactory(r)},1737:(Pe,Ie,D)=>{"use strict";D.d(Ie,{default:()=>wr});var S={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};const r=function(){function Tt(){!function(Qe,ct){if(!(Qe instanceof ct))throw new TypeError("Cannot call a class as a function")}(this,Tt)}var vt;return(vt=[{key:"findCencContentProtection",value:function(Qe){for(var ct=null,tt=0;tt<Qe.length;++tt){var st=Qe[tt];"urn:mpeg:dash:mp4protection:2011"!==st.schemeIdUri.toLowerCase()||"cenc"!==st.value.toLowerCase()&&"cbcs"!==st.value.toLowerCase()||(ct=st)}return ct}},{key:"getPSSHData",value:function(Qe){var ct=8,tt=new DataView(Qe),st=tt.getUint8(ct);return ct+=20,st>0&&(ct+=4+16*tt.getUint32(ct)),Qe.slice(ct+=4)}},{key:"getPSSHForKeySystem",value:function(Qe,ct){var tt=Tt.parsePSSHList(ct);return Qe&&tt.hasOwnProperty(Qe.uuid.toLowerCase())?tt[Qe.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(Qe,ct){return"pssh"in Qe?(Qe.pssh.__text=Qe.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),ct.decodeArray(Qe.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(Qe){if(null==Qe)return[];for(var ct=new DataView(Qe.buffer||Qe),tt={},st=0;;){var Rt,Dt,Gt=void 0,Yt=st;if(st>=ct.buffer.byteLength)break;if(Rt=st+ct.getUint32(st),1886614376===ct.getUint32(st+=4))if(0===(Dt=ct.getUint8(st+=4))||1===Dt){st++,st+=3,Gt="";var Mt=void 0,mt=void 0;for(Mt=0;Mt<4;Mt++)Gt+=1===(mt=ct.getUint8(st+Mt).toString(16)).length?"0"+mt:mt;for(st+=4,Gt+="-",Mt=0;Mt<2;Mt++)Gt+=1===(mt=ct.getUint8(st+Mt).toString(16)).length?"0"+mt:mt;for(st+=2,Gt+="-",Mt=0;Mt<2;Mt++)Gt+=1===(mt=ct.getUint8(st+Mt).toString(16)).length?"0"+mt:mt;for(st+=2,Gt+="-",Mt=0;Mt<2;Mt++)Gt+=1===(mt=ct.getUint8(st+Mt).toString(16)).length?"0"+mt:mt;for(st+=2,Gt+="-",Mt=0;Mt<6;Mt++)Gt+=1===(mt=ct.getUint8(st+Mt).toString(16)).length?"0"+mt:mt;st+=6,st+=4,tt[Gt=Gt.toLowerCase()]=ct.buffer.slice(Yt,Rt),st=Rt}else st=Rt;else st=Rt}return tt}},{key:"getLicenseServerUrlFromMediaInfo",value:function(Qe,ct){try{if(!Qe||0===Qe.length)return null;for(var tt=0,st=null;tt<Qe.length&&!st;){var Rt=Qe[tt];if(Rt&&Rt.contentProtection&&Rt.contentProtection.length>0){var Dt=Rt.contentProtection.filter(function(en){return en.schemeIdUri&&en.schemeIdUri===ct});if(Dt&&Dt.length>0)for(var Gt=0;Gt<Dt.length&&!st;){for(var Yt=Dt[Gt],Mt=0;Mt<S.attributes.length&&!st;){for(var mt=0,Ut=S.attributes[Mt];mt<S.prefixes.length&&!st;)Yt[Ut]&&Yt[Ut].__prefix&&Yt[Ut].__prefix===S.prefixes[mt]&&Yt[Ut].__text&&(st=Yt[Ut].__text),mt+=1;Mt+=1}Gt+=1}}tt+=1}return st}catch{return null}}}])&&function J(Tt,yt){for(var vt=0;vt<yt.length;vt++){var Qe=yt[vt];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(Tt,Qe.key,Qe)}}(Tt,vt),Tt}(),n=function Tt(yt,vt){(function(Qe,ct){if(!(Qe instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,Tt),this.contentType=yt,this.robustness=vt},d=function Tt(yt,vt,Qe,ct,tt){(function(st,Rt){if(!(st instanceof Rt))throw new TypeError("Cannot call a class as a function")})(this,Tt),this.initDataTypes=["cenc"],yt&&yt.length&&(this.audioCapabilities=yt),vt&&vt.length&&(this.videoCapabilities=vt),this.distinctiveIdentifier=Qe,this.persistentState=ct,this.sessionTypes=tt};function c(Tt){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(yt){return typeof yt}:function(yt){return yt&&"function"==typeof Symbol&&yt.constructor===Symbol&&yt!==Symbol.prototype?"symbol":typeof yt})(Tt)}function i(Tt,yt){return(i=Object.setPrototypeOf||function(vt,Qe){return vt.__proto__=Qe,vt})(Tt,yt)}function y(Tt){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(yt){return yt.__proto__||Object.getPrototypeOf(yt)})(Tt)}const e=new(function(Tt){!function(tt,st){if("function"!=typeof st&&null!==st)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(st&&st.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),st&&i(tt,st)}(ct,Tt);var yt,vt,Qe=(yt=ct,vt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var tt,st=y(yt);if(vt){var Rt=y(this).constructor;tt=Reflect.construct(st,arguments,Rt)}else tt=st.apply(this,arguments);return function o(Tt,yt){return!yt||"object"!==c(yt)&&"function"!=typeof yt?function(vt){if(void 0===vt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vt}(Tt):yt}(this,tt)});function ct(){var tt;return function(st,Rt){if(!(st instanceof Rt))throw new TypeError("Cannot call a class as a function")}(this,ct),(tt=Qe.call(this)).MEDIA_KEYERR_CODE=100,tt.MEDIA_KEYERR_UNKNOWN_CODE=101,tt.MEDIA_KEYERR_CLIENT_CODE=102,tt.MEDIA_KEYERR_SERVICE_CODE=103,tt.MEDIA_KEYERR_OUTPUT_CODE=104,tt.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,tt.MEDIA_KEYERR_DOMAIN_CODE=106,tt.MEDIA_KEY_MESSAGE_ERROR_CODE=107,tt.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,tt.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,tt.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,tt.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,tt.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,tt.KEY_SESSION_CREATED_ERROR_CODE=113,tt.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,tt.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",tt.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",tt.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",tt.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",tt.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",tt.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",tt.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",tt.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",tt.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",tt.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",tt.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",tt.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",tt.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",tt.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",tt}return ct}(D(2230).Z));var t=D(5459);const l=function Tt(yt,vt,Qe,ct,tt,st,Rt,Dt){(function(Gt,Yt){if(!(Gt instanceof Yt))throw new TypeError("Cannot call a class as a function")})(this,Tt),this.url=yt,this.method=vt,this.responseType=Qe,this.headers=ct,this.withCredentials=tt,this.messageType=st,this.sessionId=Rt,this.data=Dt},T=function Tt(yt,vt,Qe){(function(ct,tt){if(!(ct instanceof tt))throw new TypeError("Cannot call a class as a function")})(this,Tt),this.url=yt,this.headers=vt,this.data=Qe};var p=D(7855),E=D(703),b=D(3393),x=D(5448);function A(Tt){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(yt){return typeof yt}:function(yt){return yt&&"function"==typeof Symbol&&yt.constructor===Symbol&&yt!==Symbol.prototype?"symbol":typeof yt})(Tt)}function _(Tt){var yt,vt,Qe,ct,tt,st,Rt,Dt,Gt,Yt,Mt,mt=(Tt=Tt||{}).protectionKeyController,Ut=Tt.protectionModel,xt=Tt.eventBus,en=Tt.events,Sn=Tt.BASE64,Jt=Tt.constants,_t=[],St=Tt.cmcdModel,Ot=Tt.settings,$t=Tt.customParametersModel;function nn(){if(!(xt&&xt.hasOwnProperty("on")&&mt&&mt.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function yn(wt,Qt){Dt||Gt?Dt&&Tn():function(fn,Un){if(!Gt){Gt=!0;var xn,Hn=[];fn=fn.sort(function(Bn,Nn){return(tt&&tt[Bn.ks.systemString]&&tt[Bn.ks.systemString].priority>=0?tt[Bn.ks.systemString].priority:fn.length)-(tt&&tt[Nn.ks.systemString]&&tt[Nn.ks.systemString].priority>=0?tt[Nn.ks.systemString].priority:fn.length)});for(var In=0;In<fn.length;In++){var Jn=Rr(fn[In]);Hn.push({ks:fn[In].ks,configs:[Jn],protData:fn[In].protData})}Ut.requestKeySystemAccess(Hn).then(function(Bn){var Nn=(xn=Bn.data).mksa&&xn.mksa.selectedSystemString?xn.mksa.selectedSystemString:xn.keySystem.systemString;return vt.info("DRM: KeySystem Access Granted for system string ("+Nn+")!  Selecting key system..."),Ut.selectKeySystem(xn)}).then(function(Bn){if(Dt=Bn,Gt=!1,Ut){xt.trigger(en.KEY_SYSTEM_SELECTED,{data:xn});var Nn=Zn(Dt);Nn&&Nn.serverCertificate&&Nn.serverCertificate.length>0&&Ut.setServerCertificate(Sn.decodeArray(Nn.serverCertificate).buffer),Tn()}}).catch(function(Bn){Dt=null,Gt=!1,Un||xt.trigger(en.KEY_SYSTEM_SELECTED,{data:null,error:new t.Z(e.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,e.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+Bn.error)})})}}(wt,Qt)}function Tn(){for(var wt,Qt=0;Qt<Qe.length;Qt++)for(wt=0;wt<Qe[Qt].length;wt++)if(Dt===Qe[Qt][wt].ks){zn(Qe[Qt][wt]);break}Qe=[]}function zn(wt){if(mt.isClearKey(Dt)&&wt.protData&&wt.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(wt.protData.clearkeys).length){var Qt={kids:Object.keys(wt.protData.clearkeys)};wt.initData=(new TextEncoder).encode(JSON.stringify(Qt))}wt.sessionId?qn(wt):null!==wt.initData&&Dn(wt)}function qn(wt){nn(),Ut.loadKeySession(wt)}function Dn(wt){var Qt=r.getPSSHForKeySystem(Dt,wt?wt.initData:null);if(Qt){if(function(fn){if(!fn)return!1;try{for(var Un=Ut.getSessions(),xn=0;xn<Un.length;xn++)if(Un[xn].getKeyId()===fn)return!0;return!1}catch{return!1}}(wt.keyId)||kn(Qt))return;try{wt.initData=Qt,Ut.createKeySession(wt)}catch(fn){xt.trigger(en.KEY_SESSION_CREATED,{data:null,error:new t.Z(e.KEY_SESSION_CREATED_ERROR_CODE,e.KEY_SESSION_CREATED_ERROR_MESSAGE+fn.message)})}}else wt&&wt.initData?Ut.createKeySession(wt):xt.trigger(en.KEY_SESSION_CREATED,{data:null,error:new t.Z(e.KEY_SESSION_CREATED_ERROR_CODE,e.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Dt?Dt.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function Zn(wt){if(wt){var Qt=wt.systemString;if(tt)return Qt in tt?tt[Qt]:null}return null}function kn(wt){if(!wt)return!1;try{for(var Qt=Ut.getAllInitData(),fn=0;fn<Qt.length;fn++)if(mt.initDataEquals(wt,Qt[fn]))return vt.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Qn(wt){nn(),wt?(Ut.setMediaElement(wt),xt.on(en.NEED_KEY,Zr,yt)):null===wt&&(Ut.setMediaElement(wt),xt.off(en.NEED_KEY,Zr,yt))}function Rr(wt){var Qt=wt.protData,fn=[],Un=[],xn=Qt&&Qt.audioRobustness&&Qt.audioRobustness.length>0?Qt.audioRobustness:Rt,Hn=Qt&&Qt.videoRobustness&&Qt.videoRobustness.length>0?Qt.videoRobustness:Rt,In=wt.sessionType,Jn=Qt&&Qt.distinctiveIdentifier?Qt.distinctiveIdentifier:"optional",Bn=Qt&&Qt.persistentState?Qt.persistentState:"temporary"===In?"optional":"required";return ct.forEach(function(Nn){Nn.type===Jt.AUDIO?fn.push(new n(Nn.codec,xn)):Nn.type===Jt.VIDEO&&Un.push(new n(Nn.codec,Hn))}),new d(fn,Un,Jn,Bn,[In])}function vr(wt){wt.error?xt.trigger(en.KEY_STATUSES_CHANGED,{data:null,error:wt.error}):vt.debug("DRM: key status = "+wt.status)}function sr(wt){vt.debug("DRM: onKeyMessage");var Qt=wt.data;xt.trigger(en.KEY_MESSAGE,{data:Qt});var fn=Qt.messageType?Qt.messageType:"license-request",Un=Qt.message,xn=Qt.sessionToken,Hn=Zn(Dt),In=mt.getLicenseServerModelInstance(Dt,Hn,fn),Jn={sessionToken:xn,messageType:fn};if(Un&&0!==Un.byteLength){if(!In)return vt.debug("DRM: License server request not required for this message (type = "+wt.data.messageType+").  Session ID = "+xn.getSessionId()),void tr(Jn);if(mt.isClearKey(Dt)){var Bn=mt.processClearKeyLicenseRequest(Dt,Hn,Un);if(Bn&&Bn.keyPairs&&Bn.keyPairs.length>0)return vt.debug("DRM: ClearKey license request handled by application!"),tr(Jn),void Ut.updateKeySession(xn,Bn)}!function(Nn,lr,$n){var dr=Nn.sessionToken,ar=Nn.messageType?Nn.messageType:"license-request",Er={sessionToken:dr,messageType:ar},gr=Dt?Dt.systemString:null,$r=function(On,_r,Tr,Sr,Ii){var ur=null,oi=Sr.message;if(On&&On.serverURL){var fr=On.serverURL;"string"==typeof fr&&""!==fr?ur=fr:"object"===A(fr)&&fr.hasOwnProperty(_r)&&(ur=fr[_r])}else if(On&&On.laURL&&""!==On.laURL)ur=On.laURL;else if(!(ur=r.getLicenseServerUrlFromMediaInfo(ct,Dt.schemeIdURI))&&!mt.isClearKey(Dt)){var qr=r.getPSSHData(Tr.initData);(ur=Dt.getLicenseServerURLFromInitData(qr))||(ur=Sr.laURL)}return Ii.getServerURLFromMessage(ur,oi,_r)}($n,ar,dr,Nn,lr);if($r){var Nr={},Gr=!1;$n&&kr(Nr,$n.httpRequestHeaders);var ei=Nn.message;kr(Nr,Dt.getRequestHeadersFromMessage(ei)),Object.keys(Nr).forEach(function(On){"authorization"===On.toLowerCase()&&(Gr=!0)}),$n&&"boolean"==typeof $n.withCredentials&&(Gr=$n.withCredentials);var ti=function(On){if(Ut)if(On.status>=200&&On.status<=299){var _r=E.Z.parseHttpHeaders(On.getAllResponseHeaders?On.getAllResponseHeaders():null),Tr=new T(On.responseURL,_r,On.response);Br($t.getLicenseResponseFilters(),Tr).then(function(){var Sr=lr.getLicenseMessage(Tr.data,gr,ar);null!==Sr?(tr(Er),Ut.updateKeySession(dr,Sr)):Ur(On,Er,gr,ar,lr)})}else Ur(On,Er,gr,ar,lr)},ni=function(On){tr(Er,new t.Z(e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+gr+' update, XHR aborted. status is "'+On.statusText+'" ('+On.status+"), readyState is "+On.readyState))},Si=function(On){tr(Er,new t.Z(e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+gr+' update, XHR error. status is "'+On.statusText+'" ('+On.status+"), readyState is "+On.readyState))},jr=Dt.getLicenseRequestFromMessage(ei),ri=lr.getHTTPMethod(ar),Hr=lr.getResponseType(gr,ar),bi=$n&&!isNaN($n.httpTimeout)?$n.httpTimeout:8e3,ii=dr.getSessionId()||null,ai=new l($r,ri,Hr,Nr,Gr,ar,ii,jr),Ai=isNaN(Ot.get().streaming.retryAttempts[p.w.LICENSE])?3:Ot.get().streaming.retryAttempts[p.w.LICENSE];Br($t.getLicenseRequestFilters(),ai).then(function(){Qr(ai,Ai,bi,ti,ni,Si)})}else tr(Er,new t.Z(e.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,e.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(Qt,In,Hn)}else tr(Jn,new t.Z(e.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,e.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function tr(wt,Qt){xt.trigger(en.LICENSE_REQUEST_COMPLETE,{data:wt,error:Qt})}function Qr(wt,Qt,fn,Un,xn,Hn){var In=new XMLHttpRequest;if(Ot.get().streaming.cmcd&&Ot.get().streaming.cmcd.enabled&&Ot.get().streaming.cmcd.mode===b.Z.CMCD_MODE_QUERY){var Jn=St.getQueryParameter({url:wt.url,type:p.w.LICENSE});Jn&&(wt.url=E.Z.addAditionalQueryParameterToUrl(wt.url,[Jn]))}for(var Bn in In.open(wt.method,wt.url,!0),In.responseType=wt.responseType,In.withCredentials=wt.withCredentials,fn>0&&(In.timeout=fn),wt.headers)In.setRequestHeader(Bn,wt.headers[Bn]);if(Ot.get().streaming.cmcd&&Ot.get().streaming.cmcd.enabled&&Ot.get().streaming.cmcd.mode===b.Z.CMCD_MODE_HEADER){var Nn=St.getHeaderParameters({url:wt.url,type:p.w.LICENSE});if(Nn)for(var lr in Nn){var $n=Nn[lr];$n&&In.setRequestHeader(lr,$n)}}var dr=function(){Qt--;var ar=isNaN(Ot.get().streaming.retryIntervals[p.w.LICENSE])?1e3:Ot.get().streaming.retryIntervals[p.w.LICENSE];Mt=setTimeout(function(){Qr(wt,Qt,fn,Un,xn,Hn)},ar)};In.onload=function(){Yt=null,this.status>=200&&this.status<=299||Qt<=0?Un(this):(vt.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Qt),dr())},In.ontimeout=In.onerror=function(){Yt=null,Qt<=0?Hn(this):(vt.warn("License request network request failed . Retrying it... Pending retries: "+Qt),dr())},In.onabort=function(){xn(this)},xt.trigger(en.LICENSE_REQUEST_SENDING,{url:wt.url,headers:wt.headers,payload:wt.data,sessionId:wt.sessionId}),Yt=In,In.send(wt.data)}function Jr(){Yt&&(Yt.onloadend=Yt.onerror=Yt.onprogress=void 0,Yt.abort(),Yt=null),Mt&&(clearTimeout(Mt),Mt=null)}function kr(wt,Qt){if(Qt)for(var fn in Qt)wt[fn]=Qt[fn]}function Ur(wt,Qt,fn,Un,xn){var Hn="NONE",In=null;wt.response&&(Hn=xn.getErrorResponse(wt.response,fn,Un),In={serverResponse:wt.response||null,responseCode:wt.status||null,responseText:wt.statusText||null}),tr(Qt,new t.Z(e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+fn+' update, XHR complete. status is "'+wt.statusText+'" ('+wt.status+"), readyState is "+wt.readyState+".  Response is "+Hn,In))}function Br(wt,Qt){return wt?wt.reduce(function(fn,Un){return fn.then(function(){return Un(Qt)})},Promise.resolve()):Promise.resolve()}function Zr(wt,Qt){if(!Ot.get().streaming.protection.ignoreEmeEncryptedEvent){if(vt.debug("DRM: onNeedKey"),"cenc"!==wt.key.initDataType)return void vt.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+wt.key.initDataType);if(0===ct.length&&(vt.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Qt=void 0===Qt?1:Qt+1)<5))return void _t.push(setTimeout(function(){Zr(wt,Qt)},500));var fn=wt.key.initData;if(ArrayBuffer.isView(fn)&&(fn=fn.buffer),Dt){var Un=r.getPSSHForKeySystem(Dt,fn);if(Un&&kn(Un))return}vt.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(fn)));var xn=mt.getSupportedKeySystemsFromSegmentPssh(fn,tt,st);if(0===xn.length)return void vt.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");Qe.push(Hn=xn),yn(Hn,!1)}var Hn}return vt=Tt.debug.getLogger(yt={initializeForMedia:function(wt){if(!wt)throw new Error("mediaInfo can not be null or undefined");nn(),ct.push(wt)},clearMediaInfoArray:function(){ct=[]},handleKeySystemFromManifest:function(){if(ct&&0!==ct.length){var wt=[];ct.forEach(function(Qt){var fn=mt.getSupportedKeySystemsFromContentProtection(Qt.contentProtection,tt,st);fn.length>0&&(0===wt.length&&(wt=fn),Qe.push(fn))}),wt&&wt.length>0&&yn(wt,!0)}},createKeySession:Dn,loadKeySession:qn,removeKeySession:function(wt){nn(),Ut.removeKeySession(wt)},closeKeySession:function(wt){nn(),Ut.closeKeySession(wt)},setServerCertificate:function(wt){nn(),Ut.setServerCertificate(wt)},setMediaElement:Qn,setSessionType:function(wt){st=wt},setRobustnessLevel:function(wt){Rt=wt},setProtectionData:function(wt){tt=wt,mt.setProtectionData(wt)},getSupportedKeySystemsFromContentProtection:function(wt){return nn(),mt.getSupportedKeySystemsFromContentProtection(wt,tt,st)},getKeySystems:function(){return mt?mt.getKeySystems():[]},setKeySystems:function(wt){mt&&mt.setKeySystems(wt)},stop:function(){Jr(),Ut&&Ut.stop()},reset:function(){xt.off(en.INTERNAL_KEY_MESSAGE,sr,yt),xt.off(en.INTERNAL_KEY_STATUS_CHANGED,vr,yt),nn(),Jr(),Qn(null),Dt=null,Gt=!1,Ut&&(Ut.reset(),Ut=null),_t.forEach(function(wt){return clearTimeout(wt)}),_t=[],ct=[],Qe=[]}}),Qe=[],ct=[],st="temporary",Rt="",Yt=null,Mt=null,xt.on(en.INTERNAL_KEY_MESSAGE,sr,yt),xt.on(en.INTERNAL_KEY_STATUS_CHANGED,vr,yt),yt}_.__dashjs_factory_name="ProtectionController";const O=x.Z.getClassFactory(_),G=function Tt(yt,vt){(function(Qe,ct){if(!(Qe instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,Tt),this.keyID=yt,this.key=vt},ae=function(){function Tt(Qe,ct){if(function(tt,st){if(!(tt instanceof st))throw new TypeError("Cannot call a class as a function")}(this,Tt),ct&&"persistent"!==ct&&"temporary"!==ct)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=Qe,this.type=ct}var vt;return(vt=[{key:"toJWK",value:function(){var Qe,ct=this.keyPairs.length,tt={keys:[]};for(Qe=0;Qe<ct;Qe++)tt.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[Qe].keyID,k:this.keyPairs[Qe].key});this.type&&(tt.type=this.type);var Rt=JSON.stringify(tt),Dt=Rt.length,Gt=new ArrayBuffer(Dt),Yt=new Uint8Array(Gt);for(Qe=0;Qe<Dt;Qe++)Yt[Qe]=Rt.charCodeAt(Qe);return Gt}}])&&function j(Tt,yt){for(var vt=0;vt<yt.length;vt++){var Qe=yt[vt];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(Tt,Qe.key,Qe)}}(Tt.prototype,vt),Tt}(),g=new(function(){function Tt(){(function(Qe,ct){if(!(Qe instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,Tt),this.init()}var vt;return(vt=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&function pe(Tt,yt){for(var vt=0;vt<yt.length;vt++){var Qe=yt[vt];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(Tt,Qe.key,Qe)}}(Tt.prototype,vt),Tt}());var ue="e2719d58-a985-b3c9-781a-b030af78d30e",w=g.CLEARKEY_KEYSTEM_STRING,ie="urn:uuid:"+ue;function ee(Tt){var yt=(Tt=Tt||{}).BASE64;return{uuid:ue,schemeIdURI:ie,systemString:w,getInitData:function(vt,Qe){try{var ct=r.parseInitDataFromContentProtection(vt,yt);if(!ct&&Qe){var tt={kids:[function(st){try{var Rt=st.replace(/-/g,"");return(Rt=btoa(Rt.match(/\w{2}/g).map(function(Dt){return String.fromCharCode(parseInt(Dt,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(Qe["cenc:default_KID"])]};ct=(new TextEncoder).encode(JSON.stringify(tt))}return ct}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(vt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(vt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(vt,Qe){var ct=null;if(vt){for(var tt=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Qe))),st=[],Rt=0;Rt<tt.kids.length;Rt++){var Dt=tt.kids[Rt],Gt=vt.clearkeys&&vt.clearkeys.hasOwnProperty(Dt)?vt.clearkeys[Dt]:null;if(!Gt)throw new Error("DRM: ClearKey keyID ("+Dt+") is not known!");st.push(new G(Dt,Gt))}ct=new ae(st)}return ct}}}ee.__dashjs_factory_name="KeySystemClearKey";const le=dashjs.FactoryMaker.getSingletonFactory(ee);var be="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Re=g.CLEARKEY_KEYSTEM_STRING,we="urn:uuid:"+be;function ce(Tt){var vt=Tt.BASE64,Qe=Tt.debug.getLogger(void 0);return{uuid:be,schemeIdURI:we,systemString:Re,getInitData:function(ct){return r.parseInitDataFromContentProtection(ct,vt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(ct){return new Uint8Array(ct)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(ct,tt){var st=null;if(ct){for(var Rt=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(tt))),Dt=[],Gt=0;Gt<Rt.kids.length;Gt++){var Yt=Rt.kids[Gt],Mt=ct.clearkeys&&ct.clearkeys.hasOwnProperty(Yt)?ct.clearkeys[Yt]:null;if(!Mt)throw new Error("DRM: ClearKey keyID ("+Yt+") is not known!");Dt.push(new G(Yt,Mt))}st=new ae(Dt),Qe.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return st}}}ce.__dashjs_factory_name="KeySystemW3CClearKey";const Oe=dashjs.FactoryMaker.getSingletonFactory(ce);var qe="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Ne=g.WIDEVINE_KEYSTEM_STRING,Be="urn:uuid:"+qe;function se(Tt){var yt=(Tt=Tt||{}).BASE64;return{uuid:qe,schemeIdURI:Be,systemString:Ne,getInitData:function(vt){return r.parseInitDataFromContentProtection(vt,yt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(vt){return new Uint8Array(vt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}se.__dashjs_factory_name="KeySystemWidevine";const fe=dashjs.FactoryMaker.getSingletonFactory(se);var Ge="9a04f079-9840-4286-ab92-e65be0885f95",m=g.PLAYREADY_KEYSTEM_STRING,u="urn:uuid:"+Ge;function I(Tt){var yt="utf-16",vt=(Tt=Tt||{}).BASE64,Qe=Tt.settings;function ct(){if(!vt||!vt.hasOwnProperty("decodeArray")||!vt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:Ge,schemeIdURI:u,systemString:m,getInitData:function(tt){var st,Rt,Dt,Gt,Yt,Mt=new Uint8Array([112,115,115,104,0,0,0,0]),mt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),Ut=0,xt=null;if(ct(),!tt)return null;if("pssh"in tt)return r.parseInitDataFromContentProtection(tt,vt);if("pro"in tt)xt=vt.decodeArray(tt.pro.__text);else{if(!("prheader"in tt))return null;xt=vt.decodeArray(tt.prheader.__text)}return Rt=4+Mt.length+mt.length+4+(st=xt.length),Dt=new ArrayBuffer(Rt),Gt=new Uint8Array(Dt),(Yt=new DataView(Dt)).setUint32(Ut,Rt),Gt.set(Mt,Ut+=4),Gt.set(mt,Ut+=Mt.length),Yt.setUint32(Ut+=mt.length,st),Gt.set(xt,Ut+=4),Ut+=st,Gt.buffer},getRequestHeadersFromMessage:function(tt){var st,Rt,Dt={},Gt=new DOMParser;if(Qe&&Qe.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===yt&&tt&&tt.byteLength%2==1)return Dt["Content-Type"]="text/xml; charset=utf-8",Dt;var Yt="utf-16"===yt?new Uint16Array(tt):new Uint8Array(tt);st=String.fromCharCode.apply(null,Yt);for(var Mt=(Rt=Gt.parseFromString(st,"application/xml")).getElementsByTagName("name"),mt=Rt.getElementsByTagName("value"),Ut=0;Ut<Mt.length;Ut++)Dt[Mt[Ut].childNodes[0].nodeValue]=mt[Ut].childNodes[0].nodeValue;return Dt.hasOwnProperty("Content")&&(Dt["Content-Type"]=Dt.Content,delete Dt.Content),Dt.hasOwnProperty("Content-Type")||(Dt["Content-Type"]="text/xml; charset=utf-8"),Dt},getLicenseRequestFromMessage:function(tt){var st=null,Rt=new DOMParser;if(Qe&&Qe.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===yt&&tt&&tt.byteLength%2==1)return tt;var Dt="utf-16"===yt?new Uint16Array(tt):new Uint8Array(tt);ct();var Gt=String.fromCharCode.apply(null,Dt),Yt=Rt.parseFromString(Gt,"application/xml");if(!Yt.getElementsByTagName("PlayReadyKeyMessage")[0])return tt;var Mt=Yt.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return Mt&&(st=vt.decode(Mt)),st},getLicenseServerURLFromInitData:function(tt){if(tt)for(var st=new DataView(tt),Rt=st.getUint16(4,!0),Dt=6,Gt=new DOMParser,Yt=0;Yt<Rt;Yt++){var Mt=st.getUint16(Dt,!0),mt=st.getUint16(Dt+=2,!0);if(Dt+=2,1===Mt){var Ut=tt.slice(Dt,Dt+mt),xt=String.fromCharCode.apply(null,new Uint16Array(Ut)),en=Gt.parseFromString(xt,"application/xml");if(en.getElementsByTagName("LA_URL")[0]){var cn=en.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(cn)return cn}if(en.getElementsByTagName("LUI_URL")[0]){var Sn=en.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(Sn)return Sn}}else Dt+=mt}return null},getCDMData:function(tt){var st,Rt,Dt,Gt;if(ct(),!tt)return null;for(st=[],Gt=0;Gt<tt.length;++Gt)st.push(tt.charCodeAt(Gt)),st.push(0);for(st=String.fromCharCode.apply(null,st),st=vt.encode(st),Rt='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",st),Dt=[],Gt=0;Gt<Rt.length;++Gt)Dt.push(Rt.charCodeAt(Gt)),Dt.push(0);return new Uint8Array(Dt).buffer},setPlayReadyMessageFormat:function(tt){if("utf-8"!==tt&&"utf-16"!==tt)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');yt=tt}}}I.__dashjs_factory_name="KeySystemPlayReady";const C=dashjs.FactoryMaker.getSingletonFactory(I);function z(Tt){var yt=(Tt=Tt||{}).BASE64,vt={};return vt[g.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(Qe){return yt.decodeArray(Qe.license)},getErrorResponse:function(Qe){return Qe}},vt[g.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(Qe){return Qe},getErrorResponse:function(Qe){return String.fromCharCode.apply(null,new Uint8Array(Qe))}},{getServerURLFromMessage:function(Qe){return Qe},getHTTPMethod:function(){return"POST"},getResponseType:function(Qe){return vt[Qe].responseType},getLicenseMessage:function(Qe,ct){return function(){if(!yt||!yt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),vt[ct].getLicenseMessage(Qe)},getErrorResponse:function(Qe,ct){return vt[ct].getErrorResponse(Qe)}}}z.__dashjs_factory_name="DRMToday";const V=dashjs.FactoryMaker.getSingletonFactory(z);function ye(){var Tt="http://schemas.xmlsoap.org/soap/envelope/";function yt(ct){var tt=String.fromCharCode.apply(null,new Uint8Array(ct));return decodeURIComponent(escape(tt))}function vt(ct){if(window.DOMParser){var tt=yt(ct),st=(new window.DOMParser).parseFromString(tt,"text/xml"),Rt=st?st.getElementsByTagNameNS(Tt,"Envelope")[0]:null,Dt=Rt?Rt.getElementsByTagNameNS(Tt,"Body")[0]:null;if(Dt&&Dt.getElementsByTagNameNS(Tt,"Fault")[0])return null}return ct}function Qe(ct){var tt="",st="",Rt="",Dt=-1,Gt=-1;if(window.DOMParser){var Yt=yt(ct),Mt=(new window.DOMParser).parseFromString(Yt,"text/xml"),mt=Mt?Mt.getElementsByTagNameNS(Tt,"Envelope")[0]:null,Ut=mt?mt.getElementsByTagNameNS(Tt,"Body")[0]:null,xt=Ut?Ut.getElementsByTagNameNS(Tt,"Fault")[0]:null,en=xt?xt.getElementsByTagName("detail")[0]:null,cn=en?en.getElementsByTagName("Exception")[0]:null,Sn=null;if(null===xt)return Yt;tt=(Sn=xt.getElementsByTagName("faultstring")[0].firstChild)?Sn.nodeValue:null,null!==cn&&(st=(Sn=cn.getElementsByTagName("StatusCode")[0])?Sn.firstChild.nodeValue:null,Dt=(Rt=(Sn=cn.getElementsByTagName("Message")[0])?Sn.firstChild.nodeValue:null)?Rt.lastIndexOf("[")+1:-1,Gt=Rt?Rt.indexOf("]"):-1,Rt=Rt?Rt.substring(Dt,Gt):"")}var Jt="code: ".concat(st,", name: ").concat(tt);return Rt&&(Jt+=", message: ".concat(Rt)),Jt}return{getServerURLFromMessage:function(ct){return ct},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(ct){return vt.call(this,ct)},getErrorResponse:function(ct){return Qe.call(this,ct)}}}ye.__dashjs_factory_name="PlayReady";const Le=x.Z.getSingletonFactory(ye);function ke(){return{getServerURLFromMessage:function(Tt){return Tt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Tt){return Tt},getErrorResponse:function(Tt){return String.fromCharCode.apply(null,new Uint8Array(Tt))}}}ke.__dashjs_factory_name="Widevine";const Ce=dashjs.FactoryMaker.getSingletonFactory(ke);function Ve(){return{getServerURLFromMessage:function(Tt){return Tt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(Tt){if(!Tt.hasOwnProperty("keys"))return null;for(var yt=[],vt=0;vt<Tt.keys.length;vt++){var Qe=Tt.keys[vt],ct=Qe.kid.replace(/=/g,""),tt=Qe.k.replace(/=/g,"");yt.push(new G(ct,tt))}return new ae(yt)},getErrorResponse:function(Tt){return String.fromCharCode.apply(null,new Uint8Array(Tt))}}}Ve.__dashjs_factory_name="ClearKey";const Ke=dashjs.FactoryMaker.getSingletonFactory(Ve);function nt(){var Tt,yt,vt,Qe,ct,tt,st,Rt,Dt=this.context;function Gt(mt,Ut){return Ut&&mt in Ut?Ut[mt]:null}function Yt(mt,Ut){return mt&&mt.sessionId?mt.sessionId:Ut&&Ut.sessionId?Ut.sessionId:null}function Mt(mt,Ut){return mt&&mt.sessionType?mt.sessionType:Ut}return Tt={initialize:function(){var mt;Qe=[],mt=C(Dt).getInstance({BASE64:ct,settings:tt}),Qe.push(mt),mt=fe(Dt).getInstance({BASE64:ct}),Qe.push(mt),mt=le(Dt).getInstance({BASE64:ct}),Qe.push(mt),st=mt,mt=Oe(Dt).getInstance({BASE64:ct,debug:yt}),Qe.push(mt),Rt=mt},setProtectionData:function(mt){for(var Ut,xt,en=0;en<Qe.length;en++){var cn=Qe[en];cn.hasOwnProperty("init")&&cn.init((Ut=cn.systemString,xt=void 0,xt=null,mt&&(xt=Ut in mt?mt[Ut]:null),xt))}},isClearKey:function(mt){return mt===st||mt===Rt},initDataEquals:function(mt,Ut){if(mt.byteLength===Ut.byteLength){for(var xt=new Uint8Array(mt),en=new Uint8Array(Ut),cn=0;cn<xt.length;cn++)if(xt[cn]!==en[cn])return!1;return!0}return!1},getKeySystems:function(){return Qe},setKeySystems:function(mt){Qe=mt},getKeySystemBySystemString:function(mt){for(var Ut=0;Ut<Qe.length;Ut++)if(Qe[Ut].systemString===mt)return Qe[Ut];return null},getSupportedKeySystemsFromContentProtection:function(mt,Ut,xt){var en,cn,Sn,Jt,_t=[];if(mt){var St=r.findCencContentProtection(mt);for(Sn=0;Sn<Qe.length;++Sn){var Ot=Gt((cn=Qe[Sn]).systemString,Ut);for(Jt=0;Jt<mt.length;++Jt)if((en=mt[Jt]).schemeIdUri.toLowerCase()===cn.schemeIdURI){var $t=cn.getInitData(en,St);_t.push({ks:Qe[Sn],keyId:en.keyId,initData:$t,protData:Ot,cdmData:cn.getCDMData(Ot?Ot.cdmData:null),sessionId:Yt(Ot,en),sessionType:Mt(Ot,xt)})}}}return _t},getSupportedKeySystemsFromSegmentPssh:function(mt,Ut,xt){for(var en,cn=[],Sn=r.parsePSSHList(mt),Jt=0;Jt<Qe.length;++Jt){var _t=Gt((en=Qe[Jt]).systemString,Ut);en.uuid in Sn&&cn.push({ks:en,initData:Sn[en.uuid],protData:_t,cdmData:en.getCDMData(_t?_t.cdmData:null),sessionId:Yt(_t),sessionType:Mt(_t,xt)})}return cn},getLicenseServerModelInstance:function(mt,Ut,xt){if("license-release"===xt||"individualization-request"===xt)return null;var en=null;return Ut&&Ut.hasOwnProperty("drmtoday")?en=V(Dt).getInstance({BASE64:ct}):mt.systemString===g.WIDEVINE_KEYSTEM_STRING?en=Ce(Dt).getInstance():mt.systemString===g.PLAYREADY_KEYSTEM_STRING?en=Le(Dt).getInstance():mt.systemString===g.CLEARKEY_KEYSTEM_STRING&&(en=Ke(Dt).getInstance()),en},processClearKeyLicenseRequest:function(mt,Ut,xt){try{return mt.getClearKeysFromProtectionData(Ut,xt)}catch{return vt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(mt){mt&&(mt.debug&&(vt=(yt=mt.debug).getLogger(Tt)),mt.BASE64&&(ct=mt.BASE64),mt.settings&&(tt=mt.settings))}}}nt.__dashjs_factory_name="ProtectionKeyController";const ht=dashjs.FactoryMaker.getSingletonFactory(nt);function ft(Tt){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(yt){return typeof yt}:function(yt){return yt&&"function"==typeof Symbol&&yt.constructor===Symbol&&yt!==Symbol.prototype?"symbol":typeof yt})(Tt)}function Ct(Tt,yt){return(Ct=Object.setPrototypeOf||function(vt,Qe){return vt.__proto__=Qe,vt})(Tt,yt)}function kt(Tt){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(yt){return yt.__proto__||Object.getPrototypeOf(yt)})(Tt)}const En=new(function(Tt){!function(tt,st){if("function"!=typeof st&&null!==st)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(st&&st.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),st&&Ct(tt,st)}(ct,Tt);var yt,vt,Qe=(yt=ct,vt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var tt,st=kt(yt);if(vt){var Rt=kt(this).constructor;tt=Reflect.construct(st,arguments,Rt)}else tt=st.apply(this,arguments);return function Lt(Tt,yt){return!yt||"object"!==ft(yt)&&"function"!=typeof yt?function(vt){if(void 0===vt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vt}(Tt):yt}(this,tt)});function ct(){var tt;return function(st,Rt){if(!(st instanceof Rt))throw new TypeError("Cannot call a class as a function")}(this,ct),(tt=Qe.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",tt.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",tt.KEY_ADDED="public_keyAdded",tt.KEY_ERROR="public_keyError",tt.KEY_MESSAGE="public_keyMessage",tt.KEY_SESSION_CLOSED="public_keySessionClosed",tt.KEY_SESSION_CREATED="public_keySessionCreated",tt.KEY_SESSION_REMOVED="public_keySessionRemoved",tt.KEY_STATUSES_CHANGED="public_keyStatusesChanged",tt.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",tt.KEY_SYSTEM_SELECTED="public_keySystemSelected",tt.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",tt.LICENSE_REQUEST_SENDING="public_licenseRequestSending",tt.NEED_KEY="needkey",tt.PROTECTION_CREATED="public_protectioncreated",tt.PROTECTION_DESTROYED="public_protectiondestroyed",tt.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",tt.TEARDOWN_COMPLETE="protectionTeardownComplete",tt.VIDEO_ELEMENT_SELECTED="videoElementSelected",tt.KEY_SESSION_UPDATED="public_keySessionUpdated",tt}return ct}(D(8342).Z)),_n=function Tt(yt,vt){(function(Qe,ct){if(!(Qe instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,Tt),this.initData=yt,this.initDataType=vt},vn=function Tt(yt,vt,Qe,ct){(function(tt,st){if(!(tt instanceof st))throw new TypeError("Cannot call a class as a function")})(this,Tt),this.sessionToken=yt,this.message=vt,this.defaultURL=Qe,this.messageType=ct||"license-request"},Fn=function Tt(yt,vt){(function(Qe,ct){if(!(Qe instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,Tt),this.keySystem=yt,this.ksConfiguration=vt};var Ln={};function bn(Tt){var yt,vt,Qe,ct,tt,st,Rt,Dt,Gt=this.context,Yt=(Tt=Tt||{}).eventBus,Mt=Tt.events;function Ut(_t,St,Ot,$t){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var nn="Insecure origins are not allowed";return Yt.trigger(Mt.KEY_SYSTEM_ACCESS_COMPLETE,{error:nn}),void $t({error:nn})}var Dn,Zn,zn=_t[St].ks,qn=zn.systemString;(Dn=(_t[St].protData&&_t[St].protData.systemStringPriority?_t[St].protData.systemStringPriority:null)||(Ln[qn]?Ln[qn]:[qn]),Zn=_t[St].configs,new Promise(function(kn,Qn){xt(Dn,Zn,0,kn,Qn)})).then(function(Dn){var Zn="function"==typeof Dn.getConfiguration?Dn.getConfiguration():null,kn=new Fn(zn,Zn);kn.mksa=Dn,Yt.trigger(Mt.KEY_SYSTEM_ACCESS_COMPLETE,{data:kn}),Ot({data:kn})}).catch(function(Dn){if(St+1<_t.length)Ut(_t,St+1,Ot,$t);else{var Zn="Key system access denied! ";Yt.trigger(Mt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Zn+Dn.message}),$t({error:Zn+Dn.message})}})}function xt(_t,St,Ot,$t,nn){var yn=_t[Ot];vt.debug("Requesting key system access for system string ".concat(yn)),navigator.requestMediaKeySystemAccess(yn,St).then(function(Tn){Tn.selectedSystemString=yn,$t(Tn)}).catch(function(Tn){Ot+1<_t.length?xt(_t,St,Ot+1,$t,nn):nn(Tn)})}function en(_t){var St=_t.session;return St.removeEventListener("keystatuseschange",_t),St.removeEventListener("message",_t),St.close()}function cn(_t){for(var St=0;St<st.length;St++)if(st[St]===_t){st.splice(St,1);break}}function Sn(_t){var St,Ot;return _t&&_t.length>0&&(_t[0]&&("string"==typeof _t[0]?St=_t[0]:Ot=_t[0]),_t[1]&&("string"==typeof _t[1]?St=_t[1]:Ot=_t[1])),{status:St,keyId:Ot}}function Jt(_t,St){var Ot={session:_t,keyId:St.keyId,initData:St.initData,sessionId:St.sessionId,sessionType:St.sessionType,handleEvent:function($t){switch($t.type){case"keystatuseschange":Yt.trigger(Mt.KEY_STATUSES_CHANGED,{data:this}),$t.target.keyStatuses.forEach(function(){var yn=Sn(arguments);Yt.trigger(Mt.INTERNAL_KEY_STATUS_CHANGED,"expired"===yn.status?{error:new t.Z(e.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,e.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:yn)});break;case"message":var nn=ArrayBuffer.isView($t.message)?$t.message.buffer:$t.message;Yt.trigger(Mt.INTERNAL_KEY_MESSAGE,{data:new vn(this,nn,void 0,$t.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return _t.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return _t.expiration},getKeyStatuses:function(){return _t.keyStatuses},getUsable:function(){var $t=!1;return _t.keyStatuses.forEach(function(){"usable"===Sn(arguments).status&&($t=!0)}),$t}};return _t.addEventListener("keystatuseschange",Ot),_t.addEventListener("message",Ot),_t.closed.then(function(){cn(Ot),vt.debug("DRM: Session closed.  SessionID = "+Ot.getSessionId()),Yt.trigger(Mt.KEY_SESSION_CLOSED,{data:Ot.getSessionId()})}),st.push(Ot),Ot}return yt={getAllInitData:function(){for(var _t=[],St=0;St<st.length;St++)st[St].initData&&_t.push(st[St].initData);return _t},getSessions:function(){return st},requestKeySystemAccess:function(_t){return new Promise(function(St,Ot){Ut(_t,0,St,Ot)})},selectKeySystem:function(_t){return new Promise(function(St,Ot){_t.mksa.createMediaKeys().then(function($t){return Qe=_t.keySystem,tt=$t,ct?ct.setMediaKeys(tt):Promise.resolve()}).then(function(){St(Qe)}).catch(function(){Ot({error:"Error selecting keys system ("+_t.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(_t){ct!==_t&&(ct&&(ct.removeEventListener("encrypted",Rt),ct.setMediaKeys&&ct.setMediaKeys(null)),(ct=_t)&&(ct.addEventListener("encrypted",Rt),ct.setMediaKeys&&tt&&ct.setMediaKeys(tt)))},setServerCertificate:function(_t){if(!Qe||!tt)throw new Error("Can not set server certificate until you have selected a key system");tt.setServerCertificate(_t).then(function(){vt.info("DRM: License server certificate successfully updated."),Yt.trigger(Mt.SERVER_CERTIFICATE_UPDATED)}).catch(function(St){Yt.trigger(Mt.SERVER_CERTIFICATE_UPDATED,{error:new t.Z(e.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,e.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+St.name)})})},createKeySession:function(_t){if(!Qe||!tt)throw new Error("Can not create sessions until you have selected a key system");var St=tt.createSession(_t.sessionType),Ot=Jt(St,_t);St.generateRequest(Qe.systemString===g.CLEARKEY_KEYSTEM_STRING&&(_t.initData||_t.protData&&_t.protData.clearkeys)?g.INITIALIZATION_DATA_TYPE_KEYIDS:g.INITIALIZATION_DATA_TYPE_CENC,_t.initData).then(function(){vt.debug("DRM: Session created.  SessionID = "+Ot.getSessionId()),Yt.trigger(Mt.KEY_SESSION_CREATED,{data:Ot})}).catch(function(nn){cn(Ot),Yt.trigger(Mt.KEY_SESSION_CREATED,{data:null,error:new t.Z(e.KEY_SESSION_CREATED_ERROR_CODE,e.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+nn.name)})})},updateKeySession:function(_t,St){var Ot=_t.session;Dt.isClearKey(Qe)&&(St=St.toJWK()),Ot.update(St).then(function(){Yt.trigger(Mt.KEY_SESSION_UPDATED)}).catch(function($t){Yt.trigger(Mt.KEY_ERROR,{error:new t.Z(e.MEDIA_KEYERR_CODE,"Error sending update() message! "+$t.name,_t)})})},loadKeySession:function(_t){if(!Qe||!tt)throw new Error("Can not load sessions until you have selected a key system");for(var St=_t.sessionId,Ot=0;Ot<st.length;Ot++)if(St===st[Ot].sessionId)return void vt.warn("DRM: Ignoring session ID because we have already seen it!");var $t=tt.createSession(_t.sessionType),nn=Jt($t,_t);$t.load(St).then(function(yn){yn?(vt.debug("DRM: Session loaded.  SessionID = "+nn.getSessionId()),Yt.trigger(Mt.KEY_SESSION_CREATED,{data:nn})):(cn(nn),Yt.trigger(Mt.KEY_SESSION_CREATED,{data:null,error:new t.Z(e.KEY_SESSION_CREATED_ERROR_CODE,e.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+St+")")}))}).catch(function(yn){cn(nn),Yt.trigger(Mt.KEY_SESSION_CREATED,{data:null,error:new t.Z(e.KEY_SESSION_CREATED_ERROR_CODE,e.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+St+")! "+yn.name)})})},removeKeySession:function(_t){_t.session.remove().then(function(){vt.debug("DRM: Session removed.  SessionID = "+_t.getSessionId()),Yt.trigger(Mt.KEY_SESSION_REMOVED,{data:_t.getSessionId()})},function(St){Yt.trigger(Mt.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+_t.getSessionId()+"). "+St.name})})},closeKeySession:function(_t){en(_t).catch(function(St){cn(_t),Yt.trigger(Mt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+_t.getSessionId()+") "+St.name})})},stop:function(){for(var _t,St=0;St<st.length;St++)(_t=st[St]).getUsable()||en(_t).catch(function(){cn(_t)})},reset:function(){var _t,St=st.length;0!==St?function(){for(var Ot=function(nn){cn(nn),0===st.length&&(ct?(ct.removeEventListener("encrypted",Rt),ct.setMediaKeys(null).then(function(){Yt.trigger(Mt.TEARDOWN_COMPLETE)})):Yt.trigger(Mt.TEARDOWN_COMPLETE))},$t=0;$t<St;$t++)!function(nn){_t.session.closed.then(function(){Ot(nn)}),en(_t).catch(function(){Ot(nn)})}(_t=st[$t])}():Yt.trigger(Mt.TEARDOWN_COMPLETE)}},vt=Tt.debug.getLogger(yt),Qe=null,ct=null,tt=null,st=[],Dt=ht(Gt).getInstance(),Rt={handleEvent:function(_t){if("encrypted"===_t.type&&_t.initData){var St=ArrayBuffer.isView(_t.initData)?_t.initData.buffer:_t.initData;Yt.trigger(Mt.NEED_KEY,{key:new _n(St,_t.initDataType)})}}},yt}Ln[g.PLAYREADY_KEYSTEM_STRING]=[g.PLAYREADY_KEYSTEM_STRING,g.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],Ln[g.WIDEVINE_KEYSTEM_STRING]=[g.WIDEVINE_KEYSTEM_STRING],Ln[g.CLEARKEY_KEYSTEM_STRING]=[g.CLEARKEY_KEYSTEM_STRING],bn.__dashjs_factory_name="ProtectionModel_21Jan2015";const Gn=dashjs.FactoryMaker.getClassFactory(bn);function jn(Tt){var yt,vt,Qe,ct,tt,st,Rt,Dt,Gt,Yt=this.context,Mt=(Tt=Tt||{}).eventBus,mt=Tt.events,xt=Tt.api;function en(){try{for(var Jt=0;Jt<Rt.length;Jt++)cn(Rt[Jt]);Qe&&Qe.removeEventListener(xt.needkey,Dt),Mt.trigger(mt.TEARDOWN_COMPLETE)}catch(_t){Mt.trigger(mt.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+_t.message})}}function cn(Jt){var _t=Jt.session;_t.removeEventListener(xt.error,Jt),_t.removeEventListener(xt.message,Jt),_t.removeEventListener(xt.ready,Jt),_t.removeEventListener(xt.close,Jt);for(var St=0;St<Rt.length;St++)if(Rt[St]===Jt){Rt.splice(St,1);break}_t[xt.release]()}function Sn(){var Jt=null,_t=function(){Qe.removeEventListener("loadedmetadata",Jt),Qe[xt.setMediaKeys](tt),Mt.trigger(mt.VIDEO_ELEMENT_SELECTED)};Qe.readyState>=1?_t():(Jt=_t.bind(this),Qe.addEventListener("loadedmetadata",Jt))}return yt={getAllInitData:function(){for(var Jt=[],_t=0;_t<Rt.length;_t++)Jt.push(Rt[_t].initData);return Jt},getSessions:function(){return Rt},requestKeySystemAccess:function(Jt){return new Promise(function(_t,St){for(var Ot=!1,$t=0;$t<Jt.length;$t++)for(var nn=Jt[$t].ks.systemString,yn=Jt[$t].configs,Tn=null,zn=null,qn=0;qn<yn.length;qn++){var Dn=yn[qn].audioCapabilities,Zn=yn[qn].videoCapabilities;if(Dn&&0!==Dn.length){Tn=[];for(var kn=0;kn<Dn.length;kn++)window[xt.MediaKeys].isTypeSupported(nn,Dn[kn].contentType)&&Tn.push(Dn[kn])}if(Zn&&0!==Zn.length){zn=[];for(var Qn=0;Qn<Zn.length;Qn++)window[xt.MediaKeys].isTypeSupported(nn,Zn[Qn].contentType)&&zn.push(Zn[Qn])}if(!(!Tn&&!zn||Tn&&0===Tn.length||zn&&0===zn.length)){Ot=!0;var Rr=new d(Tn,zn),vr=Gt.getKeySystemBySystemString(nn),sr=new Fn(vr,Rr);Mt.trigger(mt.KEY_SYSTEM_ACCESS_COMPLETE,{data:sr}),_t({data:sr});break}}if(!Ot){var tr="Key system access denied! -- No valid audio/video content configurations detected!";Mt.trigger(mt.KEY_SYSTEM_ACCESS_COMPLETE,{error:tr}),St({error:tr})}})},selectKeySystem:function(Jt){return new Promise(function(_t,St){try{tt=Jt.mediaKeys=new window[xt.MediaKeys](Jt.keySystem.systemString),ct=Jt.keySystem,st=Jt,Qe&&Sn(),_t(ct)}catch{St({error:"Error selecting keys system ("+ct.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(Jt){Qe!==Jt&&(Qe&&Qe.removeEventListener(xt.needkey,Dt),(Qe=Jt)&&(Qe.addEventListener(xt.needkey,Dt),tt&&Sn()))},createKeySession:function(Jt){if(!ct||!tt||!st)throw new Error("Can not create sessions until you have selected a key system");var _t=null;if(st.ksConfiguration.videoCapabilities&&st.ksConfiguration.videoCapabilities.length>0&&(_t=st.ksConfiguration.videoCapabilities[0]),null===_t&&st.ksConfiguration.audioCapabilities&&st.ksConfiguration.audioCapabilities.length>0&&(_t=st.ksConfiguration.audioCapabilities[0]),null===_t)throw new Error("Can not create sessions for unknown content types.");var yn,Ot=tt.createSession(_t.contentType,new Uint8Array(Jt.initData),Jt.cdmData?new Uint8Array(Jt.cdmData):null),$t={session:Ot,keyId:(yn=Jt).keyId,initData:yn.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Tn){switch(Tn.type){case xt.error:Mt.trigger(mt.KEY_ERROR,{error:new t.Z(e.MEDIA_KEYERR_CODE,"KeyError",this)});break;case xt.message:var zn=ArrayBuffer.isView(Tn.message)?Tn.message.buffer:Tn.message;Mt.trigger(mt.INTERNAL_KEY_MESSAGE,{data:new vn(this,zn,Tn.destinationURL)});break;case xt.ready:vt.debug("DRM: Key added."),Mt.trigger(mt.KEY_ADDED);break;case xt.close:vt.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),Mt.trigger(mt.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}};Ot.addEventListener(xt.error,$t),Ot.addEventListener(xt.message,$t),Ot.addEventListener(xt.ready,$t),Ot.addEventListener(xt.close,$t),Rt.push($t),vt.debug("DRM: Session created.  SessionID = "+$t.getSessionId()),Mt.trigger(mt.KEY_SESSION_CREATED,{data:$t})},updateKeySession:function(Jt,_t){var St=Jt.session;Gt.isClearKey(ct)?St.update(new Uint8Array(_t.toJWK())):St.update(new Uint8Array(_t)),Mt.trigger(mt.KEY_SESSION_UPDATED)},closeKeySession:cn,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:en,reset:en},vt=Tt.debug.getLogger(yt),Qe=null,ct=null,tt=null,st=null,Rt=[],Gt=ht(Yt).getInstance(),Dt={handleEvent:function(Jt){if(Jt.type===xt.needkey&&Jt.initData){var _t=ArrayBuffer.isView(Jt.initData)?Jt.initData.buffer:Jt.initData;Mt.trigger(mt.NEED_KEY,{key:new _n(_t,"cenc")})}}},yt}jn.__dashjs_factory_name="ProtectionModel_3Feb2014";const An=dashjs.FactoryMaker.getClassFactory(jn);function Vn(Tt){var yt,vt,Qe,ct,tt,st,Rt,Dt,Gt,Yt=this.context,Mt=(Tt=Tt||{}).eventBus,mt=Tt.events,xt=Tt.api,en=Tt.errHandler;function cn(){Qe&&_t();for(var St=0;St<Rt.length;St++)Sn(Rt[St]);Mt.trigger(mt.TEARDOWN_COMPLETE)}function Sn(St){try{Qe[xt.cancelKeyRequest](ct.systemString,St.sessionId)}catch(Ot){Mt.trigger(mt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+St.sessionId+") "+Ot.message})}}function Jt(St,Ot){if(Ot&&St){for(var $t=St.length,nn=0;nn<$t;nn++)if(St[nn].sessionId==Ot)return St[nn];return null}return null}function _t(){Qe.removeEventListener(xt.keyerror,Gt),Qe.removeEventListener(xt.needkey,Gt),Qe.removeEventListener(xt.keymessage,Gt),Qe.removeEventListener(xt.keyadded,Gt)}return vt=Tt.debug.getLogger(yt={getAllInitData:function(){for(var St=[],Ot=0;Ot<st.length;Ot++)St.push(st[Ot].initData);for(var $t=0;$t<Rt.length;$t++)St.push(Rt[$t].initData);return St},getSessions:function(){return Rt.concat(st)},requestKeySystemAccess:function(St){return new Promise(function(Ot,$t){var nn=Qe;nn||(nn=document.createElement("video"));for(var yn=!1,Tn=0;Tn<St.length;Tn++)for(var zn=St[Tn].ks.systemString,qn=St[Tn].configs,Dn=null,Zn=0;Zn<qn.length;Zn++){var kn=qn[Zn].videoCapabilities;if(kn&&0!==kn.length){Dn=[];for(var Qn=0;Qn<kn.length;Qn++)""!==nn.canPlayType(kn[Qn].contentType,zn)&&Dn.push(kn[Qn])}if(Dn&&(!Dn||0!==Dn.length)){yn=!0;var Rr=new d(null,Dn),vr=tt.getKeySystemBySystemString(zn),sr=new Fn(vr,Rr);Mt.trigger(mt.KEY_SYSTEM_ACCESS_COMPLETE,{data:sr}),Ot({data:sr});break}}if(!yn){var tr="Key system access denied! -- No valid audio/video content configurations detected!";Mt.trigger(mt.KEY_SYSTEM_ACCESS_COMPLETE,{error:tr}),$t({error:tr})}})},selectKeySystem:function(St){return ct=St.keySystem,Promise.resolve(ct)},setMediaElement:function(St){if(Qe!==St){if(Qe){_t();for(var Ot=0;Ot<Rt.length;Ot++)Sn(Rt[Ot]);Rt=[]}(Qe=St)&&(Qe.addEventListener(xt.keyerror,Gt),Qe.addEventListener(xt.needkey,Gt),Qe.addEventListener(xt.keymessage,Gt),Qe.addEventListener(xt.keyadded,Gt),Mt.trigger(mt.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(St){if(!ct)throw new Error("Can not create sessions until you have selected a key system");if(Dt||0===Rt.length){var Ot={sessionId:null,keyId:St.keyId,initData:St.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return st.push(Ot),Qe[xt.generateKeyRequest](ct.systemString,new Uint8Array(St.initData)),Ot}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(St,Ot){var $t=St.sessionId;if(tt.isClearKey(ct))for(var nn=0;nn<Ot.keyPairs.length;nn++)Qe[xt.addKey](ct.systemString,Ot.keyPairs[nn].key,Ot.keyPairs[nn].keyID,$t);else Qe[xt.addKey](ct.systemString,new Uint8Array(Ot),new Uint8Array(St.initData),$t);Mt.trigger(mt.KEY_SESSION_UPDATED)},closeKeySession:Sn,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:cn,reset:cn}),Qe=null,ct=null,st=[],Rt=[],tt=ht(Yt).getInstance(),Gt={handleEvent:function(St){var Ot=null;switch(St.type){case xt.needkey:var $t=ArrayBuffer.isView(St.initData)?St.initData.buffer:St.initData;Mt.trigger(mt.NEED_KEY,{key:new _n($t,"cenc")});break;case xt.keyerror:if((Ot=Jt(Rt,St.sessionId))||(Ot=Jt(st,St.sessionId)),Ot){var nn=e.MEDIA_KEYERR_CODE,yn="";switch(St.errorCode.code){case 1:nn=e.MEDIA_KEYERR_UNKNOWN_CODE,yn+="MEDIA_KEYERR_UNKNOWN - "+e.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:nn=e.MEDIA_KEYERR_CLIENT_CODE,yn+="MEDIA_KEYERR_CLIENT - "+e.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:nn=e.MEDIA_KEYERR_SERVICE_CODE,yn+="MEDIA_KEYERR_SERVICE - "+e.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:nn=e.MEDIA_KEYERR_OUTPUT_CODE,yn+="MEDIA_KEYERR_OUTPUT - "+e.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:nn=e.MEDIA_KEYERR_HARDWARECHANGE_CODE,yn+="MEDIA_KEYERR_HARDWARECHANGE - "+e.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:nn=e.MEDIA_KEYERR_DOMAIN_CODE,yn+="MEDIA_KEYERR_DOMAIN - "+e.MEDIA_KEYERR_DOMAIN_MESSAGE}Mt.trigger(mt.KEY_ERROR,{error:new t.Z(nn,yn+="  System Code = "+St.systemCode,Ot)})}else vt.error("No session token found for key error");break;case xt.keyadded:(Ot=Jt(Rt,St.sessionId))||(Ot=Jt(st,St.sessionId)),Ot?(vt.debug("DRM: Key added."),Mt.trigger(mt.KEY_ADDED,{data:Ot})):vt.debug("No session token found for key added");break;case xt.keymessage:if((Dt=null!=St.sessionId)?!(Ot=Jt(Rt,St.sessionId))&&st.length>0&&(Ot=st.shift(),Rt.push(Ot),Ot.sessionId=St.sessionId,Mt.trigger(mt.KEY_SESSION_CREATED,{data:Ot})):st.length>0&&(Ot=st.shift(),Rt.push(Ot),0!==st.length&&en.error(new t.Z(e.MEDIA_KEY_MESSAGE_ERROR_CODE,e.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Ot){var Tn=ArrayBuffer.isView(St.message)?St.message.buffer:St.message;Ot.keyMessage=Tn,Mt.trigger(mt.INTERNAL_KEY_MESSAGE,{data:new vn(Ot,Tn,St.defaultURL)})}else vt.warn("No session token found for key message")}}},yt}Vn.__dashjs_factory_name="ProtectionModel_01b";const Yn=dashjs.FactoryMaker.getClassFactory(Vn);var Wn=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Xn=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function ir(){var Tt,yt=this.context;function vt(Qe,ct){for(var tt=0;tt<ct.length;tt++){var st=ct[tt];if("function"==typeof Qe[st[Object.keys(st)[0]]])return st}return null}return Tt={createProtectionSystem:function(Qe){var ct=null,tt=ht(yt).getInstance();tt.setConfig({debug:Qe.debug,BASE64:Qe.BASE64,settings:Qe.settings}),tt.initialize();var Rt,Dt,Gt,Yt,Mt,mt,st=(Gt=(Dt=(Rt=Qe).debug).getLogger(Tt),Yt=Rt.eventBus,Mt=Rt.errHandler,(mt=Rt.videoModel?Rt.videoModel.getElement():null)&&void 0===mt.onencrypted||mt&&void 0===mt.mediaKeys?vt(mt,Xn)?(Gt.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),An(yt).create({debug:Dt,eventBus:Yt,events:Rt.events,api:vt(mt,Xn)})):vt(mt,Wn)?(Gt.info("EME detected on this user agent! (ProtectionModel_01b)"),Yn(yt).create({debug:Dt,eventBus:Yt,errHandler:Mt,events:Rt.events,api:vt(mt,Wn)})):(Gt.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(Gt.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Gn(yt).create({debug:Dt,eventBus:Yt,events:Rt.events})));return!ct&&st&&(ct=O(yt).create({protectionModel:st,protectionKeyController:tt,eventBus:Qe.eventBus,debug:Qe.debug,events:Qe.events,BASE64:Qe.BASE64,constants:Qe.constants,cmcdModel:Qe.cmcdModel,customParametersModel:Qe.customParametersModel,settings:Qe.settings}),Qe.capabilities.setEncryptedMediaSupported(!0)),ct}}}ir.__dashjs_factory_name="Protection";var rr=dashjs.FactoryMaker.getClassFactory(ir);rr.events=En,rr.errors=e,dashjs.FactoryMaker.updateClassFactory(ir.__dashjs_factory_name,rr);const wr=rr},2068:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>d});var J=D(5448),S={DEFAULT:.5,STRONG:1,WEAK:0};function r(c,i,o){var t,l;return l=S.DEFAULT,(t=o)!==S.DEFAULT&&t!==S.STRONG&&t!==S.WEAK||(l=t),{quality:void 0===c?-1:c,reason:void 0===i?null:i,priority:l}}r.__dashjs_factory_name="SwitchRequest";var n=J.Z.getClassFactory(r);n.NO_CHANGE=-1,n.PRIORITY=S,J.Z.updateClassFactory(r.__dashjs_factory_name,n);const d=n},1767:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>b});var J=D(5628),S=D(6535),r=D(7423),n=D(895),d=D(6070),c=D(3112),i=D(1914),o=D(5435),y=D(5448),e=D(2068),t=D(3393),l="qualitySwitchRules",T="abandonFragmentRules";function p(x){var A,_,O=this.context,G=(x=x||{}).mediaPlayerModel,j=x.customParametersModel,ae=x.dashMetrics,pe=x.settings;function g(w){return w.filter(function(ie){return ie.quality>e.Z.NO_CHANGE})}function ue(w){var ie,ee,le,be,Re,we={},ce=null;if(0!==w.length){for(we[e.Z.PRIORITY.STRONG]={quality:e.Z.NO_CHANGE,reason:null},we[e.Z.PRIORITY.WEAK]={quality:e.Z.NO_CHANGE,reason:null},we[e.Z.PRIORITY.DEFAULT]={quality:e.Z.NO_CHANGE,reason:null},ie=0,ee=w.length;ie<ee;ie+=1)(le=w[ie]).quality!==e.Z.NO_CHANGE&&(we[le.priority].quality===e.Z.NO_CHANGE||we[le.priority].quality>le.quality)&&(we[le.priority].quality=le.quality,we[le.priority].reason=le.reason||null);return we[e.Z.PRIORITY.WEAK].quality!==e.Z.NO_CHANGE&&(ce=we[e.Z.PRIORITY.WEAK]),we[e.Z.PRIORITY.DEFAULT].quality!==e.Z.NO_CHANGE&&(ce=we[e.Z.PRIORITY.DEFAULT]),we[e.Z.PRIORITY.STRONG].quality!==e.Z.NO_CHANGE&&(ce=we[e.Z.PRIORITY.STRONG]),ce&&(be=ce.quality,Re=ce.reason),(0,e.Z)(O).create(be,Re)}}return{initialize:function(){A=[],_=[],pe.get().streaming.abr.useDefaultABRRules&&(pe.get().streaming.abr.ABRStrategy===t.Z.ABR_STRATEGY_L2A?A.push((0,i.Z)(O).create({dashMetrics:ae,settings:pe})):pe.get().streaming.abr.ABRStrategy===t.Z.ABR_STRATEGY_LoLP?A.push((0,o.Z)(O).create({dashMetrics:ae})):(A.push((0,c.Z)(O).create({dashMetrics:ae,mediaPlayerModel:G,settings:pe})),A.push((0,J.Z)(O).create({dashMetrics:ae})),pe.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&A.push((0,S.Z)(O).create({dashMetrics:ae,settings:pe})),pe.get().streaming.abr.additionalAbrRules.switchHistoryRule&&A.push((0,d.Z)(O).create()),pe.get().streaming.abr.additionalAbrRules.droppedFramesRule&&A.push((0,n.Z)(O).create()),pe.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&_.push((0,r.Z)(O).create({dashMetrics:ae,mediaPlayerModel:G,settings:pe})))),j.getAbrCustomRules().forEach(function(w){w.type===l&&A.push(w.rule(O).create()),w.type===T&&_.push(w.rule(O).create())})},reset:function(){[A,_].forEach(function(w){w&&w.length&&w.forEach(function(ie){return ie.reset&&ie.reset()})}),A=[],_=[]},getMaxQuality:function(w){return ue(g(A.map(function(ie){return ie.getMaxIndex(w)})))||(0,e.Z)(O).create()},getMinSwitchRequest:ue,shouldAbandonFragment:function(w,ie){return ue(g(_.map(function(ee){return ee.shouldAbandon(w,ie)})))||(0,e.Z)(O).create()},getQualitySwitchRules:function(){return A}}}p.__dashjs_factory_name="ABRRulesCollection";var E=y.Z.getClassFactory(p);E.QUALITY_SWITCH_RULES=l,E.ABANDON_FRAGMENT_RULES=T,y.Z.updateSingletonFactory(p.__dashjs_factory_name,E);const b=E},7423:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>d});var J=D(2068),S=D(5448),r=D(6398);function n(c){var i,o,y,e,t,l=this.context,T=(c=c||{}).mediaPlayerModel,p=c.dashMetrics,E=c.settings;function b(){y={},e={},t=[]}return i={shouldAbandon:function(x){var A=(0,J.Z)(l).create(J.Z.NO_CHANGE,{name:n.__dashjs_factory_name});if(!(x&&x.hasOwnProperty("getMediaInfo")&&x.hasOwnProperty("getMediaType")&&x.hasOwnProperty("getCurrentRequest")&&x.hasOwnProperty("getRepresentationInfo")&&x.hasOwnProperty("getAbrController")))return A;var _,O,Oe,qe,G=x.getMediaInfo(),j=x.getMediaType(),ae=x.getStreamInfo(),pe=ae?ae.id:null,g=x.getCurrentRequest();if(!isNaN(g.index)){O=g.index,y[_=j]=y[_]||{},y[_][O]=y[_][O]||{};var ue=T.getStableBufferTime();if(p.getCurrentBufferLevel(j)>ue)return A;var w=y[j][g.index];if(null===w||null===g.firstByteDate||e.hasOwnProperty(w.id))return A;if(void 0===w.firstByteTime&&(t[j]=[],w.firstByteTime=g.firstByteDate.getTime(),w.segmentDuration=g.duration,w.bytesTotal=g.bytesTotal,w.id=g.index),w.bytesLoaded=g.bytesLoaded,w.elapsedTime=(new Date).getTime()-w.firstByteTime,w.bytesLoaded>0&&w.elapsedTime>0&&(Oe=j,qe=Math.round(8*w.bytesLoaded/w.elapsedTime),t[Oe]=t[Oe]||[],t[Oe].push(qe)),t[j].length>=5&&w.elapsedTime>500&&w.bytesLoaded<w.bytesTotal){var ie=t[j].reduce(function(Oe,qe){return Oe+qe},0);if(w.measuredBandwidthInKbps=Math.round(ie/t[j].length),w.estimatedTimeOfDownload=+(8*w.bytesTotal/w.measuredBandwidthInKbps/1e3).toFixed(2),w.estimatedTimeOfDownload<1.8*w.segmentDuration||0===x.getRepresentationInfo().quality)return A;if(!e.hasOwnProperty(w.id)){var ee=x.getAbrController(),le=w.bytesTotal-w.bytesLoaded,be=ee.getBitrateList(G),Re=ee.getQualityForBitrate(G,w.measuredBandwidthInKbps*E.get().streaming.abr.bandwidthSafetyFactor,pe),we=ee.getMinAllowedIndexFor(j,pe),ce=void 0!==we?Math.max(we,Re):Re;le>w.bytesTotal*be[ce].bitrate/be[ee.getQualityFor(j,pe)].bitrate&&(A.quality=ce,A.reason.throughput=w.measuredBandwidthInKbps,A.reason.fragmentID=w.id,A.reason.rule=this.getClassName(),e[w.id]=w,o.debug("["+j+"] frag id",w.id," is asking to abandon and switch to quality to ",ce," measured bandwidth was",w.measuredBandwidthInKbps),delete y[j][w.id])}}else w.bytesLoaded===w.bytesTotal&&delete y[j][w.id]}return A},reset:b},o=(0,r.Z)(l).getInstance().getLogger(i),b(),i}n.__dashjs_factory_name="AbandonRequestsRule";const d=S.Z.getClassFactory(n)},3112:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>l});var J=D(3860),S=D(2068),r=D(5448),n=D(7855),d=D(5595),c=D(8512),i=D(6398),o=D(8825),y=D(3393),e=10;function t(T){var p,E,b,x=this.context,A=(T=T||{}).dashMetrics,_=T.mediaPlayerModel,O=(0,d.Z)(x).getInstance();function G(ce,Oe,qe){var Ne=qe.reduce(function(fe,Ge,m){return Ge>qe[fe]?m:fe},0);if(0===Ne)return null;var Be=Math.max(ce,e+2*Oe.length),se=(qe[Ne]-1)/(Be/e-1);return{gp:se,Vp:e/se}}function j(ce){ce.placeholderBuffer=0,ce.mostAdvancedSegmentStart=NaN,ce.lastSegmentWasReplacement=!1,ce.lastSegmentStart=NaN,ce.lastSegmentDurationS=NaN,ce.lastSegmentRequestTimeMs=NaN,ce.lastSegmentFinishTimeMs=NaN}function ae(ce,Oe){var qe=_.getStableBufferTime();if(ce.stableBufferTime!==qe){var Ne=G(qe,ce.bitrates,ce.utilities);if(Ne.Vp!==ce.Vp||Ne.gp!==ce.gp){var Be=A.getCurrentBufferLevel(Oe),se=Be+ce.placeholderBuffer;se-=e,se*=Ne.Vp/ce.Vp,se+=e,ce.stableBufferTime=qe,ce.Vp=Ne.Vp,ce.gp=Ne.gp,ce.placeholderBuffer=Math.max(0,se-Be)}}}function pe(ce,Oe){return ce.Vp*(ce.utilities[Oe]+ce.gp)}function g(ce,Oe){for(var qe=ce.bitrates[Oe],Ne=ce.utilities[Oe],Be=0,se=Oe-1;se>=0;--se)if(ce.utilities[se]<ce.utilities[Oe]){var fe=ce.bitrates[se];Be=Math.max(Be,ce.Vp*(ce.gp+(qe*ce.utilities[se]-fe*Ne)/(qe-fe)))}return Be}function ue(ce){var Oe=ce.mediaType===y.Z.AUDIO?[y.Z.AUDIO]:b;for(var qe in Oe)b.hasOwnProperty(qe)&&2===b[qe].state&&(b[qe].placeholderBuffer=0)}function w(){for(var ce in b)if(b.hasOwnProperty(ce)){var Oe=b[ce];0!==Oe.state&&(Oe.state=1,j(Oe))}}function ie(ce){if(ce&&ce.chunk&&ce.chunk.mediaInfo){var Oe=b[ce.chunk.mediaInfo.type];if(Oe&&0!==Oe.state){var qe=ce.chunk.start;isNaN(Oe.mostAdvancedSegmentStart)||qe>Oe.mostAdvancedSegmentStart?(Oe.mostAdvancedSegmentStart=qe,Oe.lastSegmentWasReplacement=!1):Oe.lastSegmentWasReplacement=!0,Oe.lastSegmentStart=qe,Oe.lastSegmentDurationS=ce.chunk.duration,Oe.lastQuality=ce.chunk.quality,le(Oe,ce.chunk.mediaInfo.type)}}}function ee(ce){if(ce&&ce.metric===J.Z.HTTP_REQUEST&&ce.value&&ce.value.type===n.w.MEDIA_SEGMENT_TYPE&&ce.value.trace&&ce.value.trace.length){var Oe=b[ce.mediaType];Oe&&0!==Oe.state&&(Oe.lastSegmentRequestTimeMs=ce.value.trequest.getTime(),Oe.lastSegmentFinishTimeMs=ce.value._tfinish.getTime(),le(Oe,ce.mediaType))}}function le(ce,Oe){if(!isNaN(ce.lastSegmentStart)&&!isNaN(ce.lastSegmentRequestTimeMs)&&!isNaN(ce.placeholderBuffer)){if(ce.placeholderBuffer*=.99,!isNaN(ce.lastSegmentFinishTimeMs)){var qe=A.getCurrentBufferLevel(Oe)+.001*(ce.lastSegmentFinishTimeMs-ce.lastSegmentRequestTimeMs),Ne=pe(ce,ce.lastQuality),Be=Math.max(0,Ne-qe);ce.placeholderBuffer=Math.min(Be,ce.placeholderBuffer)}ce.lastSegmentWasReplacement&&!isNaN(ce.lastSegmentDurationS)&&(ce.placeholderBuffer+=ce.lastSegmentDurationS),ce.lastSegmentStart=NaN,ce.lastSegmentRequestTimeMs=NaN}}function be(ce){if(ce){var Oe=b[ce.mediaType];Oe&&0!==Oe.state&&(Oe.abrQuality=ce.newQuality)}}function Re(ce){if(ce){var Oe=b[ce.mediaType];if(Oe&&0!==Oe.state){var qe,Ne=A.getCurrentBufferLevel(ce.mediaType);qe=Oe.abrQuality>0?g(Oe,Oe.abrQuality):e;var Be=Math.max(0,qe-Ne);Oe.placeholderBuffer=Math.min(Oe.placeholderBuffer,Be)}}}function we(){b={}}return p={getMaxIndex:function(ce){var Oe=(0,S.Z)(x).create();if(!(ce&&ce.hasOwnProperty("getMediaInfo")&&ce.hasOwnProperty("getMediaType")&&ce.hasOwnProperty("getScheduleController")&&ce.hasOwnProperty("getStreamInfo")&&ce.hasOwnProperty("getAbrController")&&ce.hasOwnProperty("useBufferOccupancyABR")))return Oe;var qe=ce.getMediaInfo(),Ne=ce.getMediaType(),Be=ce.getScheduleController(),se=ce.getStreamInfo(),fe=ce.getAbrController(),Ge=fe.getThroughputHistory(),m=se?se.id:null,u=se&&se.manifestInfo&&se.manifestInfo.isDynamic,I=ce.useBufferOccupancyABR();if(Oe.reason=Oe.reason||{},!I)return Oe;Be.setTimeToLoadDelay(0);var Ke,nt,ht,C=(nt=(Ke=ce).getMediaType(),(ht=b[nt])?0!==ht.state&&ae(ht,nt):(ht=function(ft){var Ct={},Lt=ft.getMediaInfo().bitrateList.map(function(vn){return vn.bandwidth}),kt=Lt.map(function(Fn){return Math.log(Fn)});kt=kt.map(function(vn){return vn-kt[0]+1});var En=_.getStableBufferTime(),_n=G(En,Lt,kt);return _n?(Ct.state=1,Ct.bitrates=Lt,Ct.utilities=kt,Ct.stableBufferTime=En,Ct.Vp=_n.Vp,Ct.gp=_n.gp,Ct.lastQuality=0,j(Ct)):Ct.state=0,Ct}(Ke),b[nt]=ht),ht);if(0===C.state)return Oe;var z,V=A.getCurrentBufferLevel(Ne),ye=Ge.getAverageThroughput(Ne,u),Le=Ge.getSafeAverageThroughput(Ne,u),ke=Ge.getAverageLatency(Ne);if(Oe.reason.state=C.state,Oe.reason.throughput=ye,Oe.reason.latency=ke,isNaN(ye))return Oe;switch(C.state){case 1:z=fe.getQualityForBitrate(qe,Le,m,ke),Oe.quality=z,Oe.reason.throughput=Le,C.placeholderBuffer=Math.max(0,g(C,z)-V),C.lastQuality=z,!isNaN(C.lastSegmentDurationS)&&V>=C.lastSegmentDurationS&&(C.state=2);break;case 2:(function(Ke,nt){var ht=Date.now();isNaN(Ke.lastSegmentFinishTimeMs)?isNaN(Ke.lastCallTimeMs)||(Ke.placeholderBuffer+=Math.max(0,.001*(ht-Ke.lastCallTimeMs))):Ke.placeholderBuffer+=Math.max(0,.001*(ht-Ke.lastSegmentFinishTimeMs)),Ke.lastCallTimeMs=ht,Ke.lastSegmentStart=NaN,Ke.lastSegmentRequestTimeMs=NaN,Ke.lastSegmentFinishTimeMs=NaN,ae(Ke,nt)})(C,Ne),z=function(Ke,nt){for(var ht=Ke.bitrates.length,ft=NaN,Ct=NaN,Lt=0;Lt<ht;++Lt){var kt=(Ke.Vp*(Ke.utilities[Lt]+Ke.gp)-nt)/Ke.bitrates[Lt];(isNaN(Ct)||kt>=Ct)&&(Ct=kt,ft=Lt)}return ft}(C,V+C.placeholderBuffer);var Ce=fe.getQualityForBitrate(qe,Le,m,ke);z>C.lastQuality&&z>Ce&&(z=Math.max(Ce,C.lastQuality));var Ve=Math.max(0,V+C.placeholderBuffer-pe(C,z));Ve<=C.placeholderBuffer?(C.placeholderBuffer-=Ve,Ve=0):(Ve-=C.placeholderBuffer,C.placeholderBuffer=0,z<fe.getMaxAllowedIndexFor(Ne,m)?Be.setTimeToLoadDelay(1e3*Ve):Ve=0),Oe.quality=z,Oe.reason.throughput=ye,Oe.reason.latency=ke,Oe.reason.bufferLevel=V,Oe.reason.placeholderBuffer=C.placeholderBuffer,Oe.reason.delay=Ve,C.lastQuality=z;break;default:E.debug("BOLA ABR rule invoked in bad state."),Oe.quality=fe.getQualityForBitrate(qe,Le,m,ke),Oe.reason.state=C.state,Oe.reason.throughput=Le,Oe.reason.latency=ke,C.state=1,j(C)}return Oe},reset:function(){we(),O.off(o.Z.BUFFER_EMPTY,ue,p),O.off(o.Z.PLAYBACK_SEEKING,w,p),O.off(o.Z.METRIC_ADDED,ee,p),O.off(o.Z.QUALITY_CHANGE_REQUESTED,be,p),O.off(o.Z.FRAGMENT_LOADING_ABANDONED,Re,p),O.off(c.Z.MEDIA_FRAGMENT_LOADED,ie,p)}},E=(0,i.Z)(x).getInstance().getLogger(p),we(),O.on(o.Z.BUFFER_EMPTY,ue,p),O.on(o.Z.PLAYBACK_SEEKING,w,p),O.on(o.Z.METRIC_ADDED,ee,p),O.on(o.Z.QUALITY_CHANGE_REQUESTED,be,p),O.on(o.Z.FRAGMENT_LOADING_ABANDONED,Re,p),O.on(c.Z.MEDIA_FRAGMENT_LOADED,ie,p),p}t.__dashjs_factory_name="BolaRule";const l=r.Z.getClassFactory(t)},895:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>d});var J=D(5448),S=D(2068),r=D(6398);function n(){var c,i,o=this.context;return c={getMaxIndex:function(y){var e=(0,S.Z)(o).create();if(!y||!y.hasOwnProperty("getDroppedFramesHistory"))return e;var t=y.getDroppedFramesHistory(),l=y.getStreamInfo().id;if(t){var T=t.getFrameHistory(l);if(!T||0===T.length)return e;for(var p=0,E=0,b=S.Z.NO_CHANGE,x=1;x<T.length;x++)if(T[x]&&(p=T[x].droppedVideoFrames,(E=T[x].totalVideoFrames)>375&&p/E>.15)){i.debug("index: "+(b=x-1)+" Dropped Frames: "+p+" Total Frames: "+E);break}return(0,S.Z)(o).create(b,{droppedFrames:p})}return e}},i=(0,r.Z)(o).getInstance().getLogger(c),c}n.__dashjs_factory_name="DroppedFramesRule";const d=J.Z.getClassFactory(n)},6535:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>e});var J=D(5595),S=D(8512),r=D(5448),n=D(6398),d=D(2068),c=D(3393),i=D(3860),o=D(8825);function y(t){t=t||{};var l,T,p,E=this.context,b=(0,J.Z)(E).getInstance(),x=t.dashMetrics;function A(){(p={})[c.Z.VIDEO]={ignoreCount:2},p[c.Z.AUDIO]={ignoreCount:2}}function _(){A()}function O(G){isNaN(G.startTime)||G.mediaType!==c.Z.AUDIO&&G.mediaType!==c.Z.VIDEO||p[G.mediaType].ignoreCount>0&&p[G.mediaType].ignoreCount--}return l={getMaxIndex:function(G){var j=(0,d.Z)(E).create();if(!G||!G.hasOwnProperty("getMediaType"))return j;!function(){if(!x||!x.hasOwnProperty("getCurrentBufferLevel")||!x.hasOwnProperty("getCurrentBufferState"))throw new Error(c.Z.MISSING_CONFIG_ERROR)}();var ae=G.getMediaType(),pe=x.getCurrentBufferState(ae),g=G.getRepresentationInfo().fragmentDuration,ue=G.getStreamInfo(),w=ue?ue.id:null,ie=G.getScheduleController(),ee=ue&&ue.manifestInfo&&ue.manifestInfo.isDynamic;if(!ie.getPlaybackController().getLowLatencyModeEnabled()&&p[ae].ignoreCount>0||!g)return j;if(pe&&pe.state===i.Z.BUFFER_EMPTY)T.debug("["+ae+"] Switch to index 0; buffer is empty."),j.quality=0,j.reason="InsufficientBufferRule: Buffer is empty";else{var le=G.getMediaInfo(),be=G.getAbrController(),Re=be.getThroughputHistory(),we=x.getCurrentBufferLevel(ae),ce=Re.getAverageThroughput(ae,ee),Oe=Re.getAverageLatency(ae);j.quality=be.getQualityForBitrate(le,ce*(we/g)*.5,w,Oe),j.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return j},reset:function(){A(),b.off(o.Z.PLAYBACK_SEEKING,_,l),b.off(S.Z.BYTES_APPENDED_END_FRAGMENT,O,l)}},T=(0,n.Z)(E).getInstance().getLogger(l),A(),b.on(o.Z.PLAYBACK_SEEKING,_,l),b.on(S.Z.BYTES_APPENDED_END_FRAGMENT,O,l),l}y.__dashjs_factory_name="InsufficientBufferRule";const e=r.Z.getClassFactory(y)},1914:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>e});var J=D(3860),S=D(2068),r=D(5448),n=D(7855),d=D(5595),c=D(8512),i=D(6398),o=D(3393);function y(t){var l,T,p,E,b=this.context,x=(t=t||{}).dashMetrics,A=(0,d.Z)(b).getInstance();function _(w){w.placeholderBuffer=0,w.mostAdvancedSegmentStart=NaN,w.lastSegmentWasReplacement=!1,w.lastSegmentStart=NaN,w.lastSegmentDurationS=NaN,w.lastSegmentRequestTimeMs=NaN,w.lastSegmentFinishTimeMs=NaN,w.lastSegmentUrl=""}function O(){for(var w in T)if(T.hasOwnProperty(w)){var ie=T[w];0!==ie.state&&(ie.state=1,_(ie))}}function G(w){if(w&&w.chunk&&w.chunk.mediaInfo){var ie=T[w.chunk.mediaInfo.type],ee=p[w.chunk.mediaInfo.type];if(ie&&0!==ie.state){var le=w.chunk.start;isNaN(ie.mostAdvancedSegmentStart)||le>ie.mostAdvancedSegmentStart?(ie.mostAdvancedSegmentStart=le,ie.lastSegmentWasReplacement=!1):ie.lastSegmentWasReplacement=!0,ie.lastSegmentStart=le,ie.lastSegmentDurationS=w.chunk.duration,ie.lastQuality=w.chunk.quality,ae(ie,ee)}}}function j(w){if(w&&w.metric===J.Z.HTTP_REQUEST&&w.value&&w.value.type===n.w.MEDIA_SEGMENT_TYPE&&w.value.trace&&w.value.trace.length){var ie=T[w.mediaType],ee=p[w.mediaType];ie&&0!==ie.state&&(ie.lastSegmentRequestTimeMs=w.value.trequest.getTime(),ie.lastSegmentFinishTimeMs=w.value._tfinish.getTime(),ae(ie,ee))}}function ae(w,ie){isNaN(w.lastSegmentStart)||isNaN(w.lastSegmentRequestTimeMs)||(ie.segment_request_start_s=.001*w.lastSegmentRequestTimeMs,ie.segment_download_finish_s=.001*w.lastSegmentFinishTimeMs,w.lastSegmentStart=NaN,w.lastSegmentRequestTimeMs=NaN)}function pe(w){if(w&&w.mediaType){var ie=T[w.mediaType];ie&&0!==ie.state&&(ie.abrQuality=w.newQuality)}}function g(w,ie){if(w.length!==ie.length)return-1;for(var ee=0,le=0;le<w.length;le++)ee+=w[le]*ie[le];return ee}function ue(){T={},p={}}return l={getMaxIndex:function(w){var ie,ee=(0,S.Z)(b).create(),le=Math.pow(4,.99),be=Math.max(Math.pow(4,1),le*Math.sqrt(4)),Re=w.getMediaInfo(),we=w.getMediaType(),ce=Re.bitrateList.map(function(_n){return _n.bandwidth}),Oe=ce.length,qe=w.getScheduleController(),Ne=w.getStreamInfo(),Be=w.getAbrController(),se=Be.getThroughputHistory(),fe=Ne&&Ne.manifestInfo&&Ne.manifestInfo.isDynamic,Ge=w.useL2AABR(),m=x.getCurrentBufferLevel(we,!0),u=se.getSafeAverageThroughput(we,fe),I=se.getAverageThroughput(we,fe),C=se.getAverageLatency(we),z=w.getVideoModel().getPlaybackRate();if(!(w&&w.hasOwnProperty("getMediaInfo")&&w.hasOwnProperty("getMediaType")&&w.hasOwnProperty("getScheduleController")&&w.hasOwnProperty("getStreamInfo")&&w.hasOwnProperty("getAbrController")&&w.hasOwnProperty("useL2AABR")&&(ee.reason=ee.reason||{},Ge&&we!==o.Z.AUDIO)))return ee;qe.setTimeToLoadDelay(0);var _n,An,bn,Gn,jn,vn,Fn,V=(vn=(_n=w).getMediaType(),(Fn=T[vn])||(bn={},jn=(Gn=_n.getMediaInfo()).bitrateList.map(function(An){return An.bandwidth/1e3}),bn.state=1,bn.bitrates=jn,bn.lastQuality=0,(An=Gn)&&An.type&&(p[An.type]={},p[An.type].w=[],p[An.type].prev_w=[],p[An.type].Q=0,p[An.type].segment_request_start_s=0,p[An.type].segment_download_finish_s=0,p[An.type].B_target=1.5),_(bn),T[vn]=Fn=bn),Fn);if(0===V.state)return ee;var ye=p[we];if(!ye||(ee.reason.state=V.state,ee.reason.throughput=I,ee.reason.latency=C,isNaN(I)))return ee;switch(V.state){case 1:if(ie=Be.getQualityForBitrate(Re,u,Ne.id,C),ee.quality=ie,ee.reason.throughput=u,V.lastQuality=ie,!isNaN(V.lastSegmentDurationS)&&m>=ye.B_target){V.state=2,ye.Q=le;for(var Le=0;Le<Oe;++Le)ye.prev_w[Le]=Le===V.lastQuality?1:0}break;case 2:var ke=[],Ce=x.getCurrentHttpRequest(we).trace.reduce(function(_n,vn){return _n+vn.d},0),Ve=x.getCurrentHttpRequest(we).trace.reduce(function(_n,vn){return _n+vn.b[0]},0),Ke=Math.round(8*Ve/Ce),nt=x.getCurrentHttpRequest(we);if(Ke<1&&(Ke=1),nt.url===V.lastSegmentUrl||nt.type===n.w.INIT_SEGMENT_TYPE)ie=V.lastQuality;else{for(var ht=V.lastSegmentDurationS,ft=1,Ct=0;Ct<Oe;++Ct)ce[Ct]=ce[Ct]/1e3,z*ce[Ct]>Ke&&(ft=-1),ye.w[Ct]=ye.prev_w[Ct]+ft*(ht/(2*be))*((ye.Q+le)*(z*ce[Ct]/Ke));ye.w=function(_n){for(var vn=_n.length,Fn=!1,Ln=[],bn=0;bn<vn;++bn)Ln[bn]=_n[bn];for(var Gn=_n.sort(function(Xn,ir){return ir-Xn}),jn=0,An=0,Vn=[],Yn=0;Yn<vn-1;++Yn)if((An=((jn+=Gn[Yn])-1)/(Yn+1))>=Gn[Yn+1]){Fn=!0;break}Fn||(An=(jn+Gn[vn-1]-1)/vn);for(var Wn=0;Wn<vn;++Wn)Vn[Wn]=Math.max(Ln[Wn]-An,0);return Vn}(ye.w);for(var Lt=0;Lt<Oe;++Lt)ke[Lt]=ye.w[Lt]-ye.prev_w[Lt],ye.prev_w[Lt]=ye.w[Lt];ye.Q=Math.max(0,ye.Q-ht+ht*z*((g(ce,ye.prev_w)+g(ce,ke))/Ke));for(var kt=[],En=0;En<Oe;++En)kt[En]=Math.abs(ce[En]-g(ye.w,ce));(ie=kt.indexOf(Math.min.apply(Math,kt)))>V.lastQuality&&ce[V.lastQuality+1]<=Ke&&(ie=V.lastQuality+1),ce[ie]>=Ke&&(ye.Q=2*Math.max(le,ye.Q)),V.lastSegment.url=nt.url}ee.quality=ie,ee.reason.throughput=I,ee.reason.latency=C,ee.reason.bufferLevel=m,V.lastQuality=ee.quality;break;default:E.debug("L2A ABR rule invoked in bad state."),ee.quality=Be.getQualityForBitrate(Re,u,Ne.id,C),ee.reason.state=V.state,ee.reason.throughput=u,ee.reason.latency=C,V.state=1,_(V)}return ee},reset:function(){ue(),A.off(c.Z.PLAYBACK_SEEKING,O,l),A.off(c.Z.MEDIA_FRAGMENT_LOADED,G,l),A.off(c.Z.METRIC_ADDED,j,l),A.off(c.Z.QUALITY_CHANGE_REQUESTED,pe,l)}},E=(0,i.Z)(b).getInstance().getLogger(l),ue(),A.on(c.Z.PLAYBACK_SEEKING,O,l),A.on(c.Z.MEDIA_FRAGMENT_LOADED,G,l),A.on(c.Z.METRIC_ADDED,j,l),A.on(c.Z.QUALITY_CHANGE_REQUESTED,pe,l),l}y.__dashjs_factory_name="L2ARule";const e=r.Z.getClassFactory(y)},6070:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>d});var J=D(5448),S=D(6398),r=D(2068);function n(){var c,i,o=this.context;return c={getMaxIndex:function(y){for(var e=y?y.getSwitchHistory():null,t=e?e.getSwitchRequests():[],l=0,T=0,p=0,E=(0,r.Z)(o).create(),b=0;b<t.length;b++)if(void 0!==t[b]&&(p+=t[b].dropSize,(l+=t[b].drops)+(T+=t[b].noDrops)>=6&&l/T>.075)){E.quality=b>0&&t[b].drops>0?b-1:b,E.reason={index:E.quality,drops:l,noDrops:T,dropSize:p},i.debug("Switch history rule index: "+E.quality+" samples: "+(l+T)+" drops: "+l);break}return E}},i=(0,S.Z)(o).getInstance().getLogger(c),c}n.__dashjs_factory_name="SwitchHistoryRule";const d=J.Z.getClassFactory(n)},5628:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>c});var J=D(5448),S=D(2068),r=D(3393),n=D(3860);function d(i){var o=this.context,y=(i=i||{}).dashMetrics;return{getMaxIndex:function(e){var t=(0,S.Z)(o).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("useBufferOccupancyABR")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("getScheduleController")))return t;!function(){if(!y||!y.hasOwnProperty("getCurrentBufferState"))throw new Error(r.Z.MISSING_CONFIG_ERROR)}();var l=e.getMediaInfo(),T=e.getMediaType(),p=y.getCurrentBufferState(T),E=e.getScheduleController(),b=e.getAbrController(),x=e.getStreamInfo(),A=x?x.id:null,_=x&&x.manifestInfo?x.manifestInfo.isDynamic:null,O=b.getThroughputHistory(),G=O.getSafeAverageThroughput(T,_),j=O.getAverageLatency(T),ae=e.useBufferOccupancyABR();return isNaN(G)||!p||ae||b.getAbandonmentStateFor(A,T)!==n.Z.ABANDON_LOAD&&(p.state===n.Z.BUFFER_LOADED||_)&&(t.quality=b.getQualityForBitrate(l,G,A,j),E.setTimeToLoadDelay(0),t.reason={throughput:G,latency:j}),t},reset:function(){}}}d.__dashjs_factory_name="ThroughputRule";const c=J.Z.getClassFactory(d)},4722:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>n});var J=D(5448),S=D(6398);function r(){var d,c,i,o,y,e,t,l,T;function E(){i=null,o=1,y=100,e=0,t=null,l=null,T="dynamic_weight_selection"}function b(){var G=0;if(i)for(var j=0;j<i.length;j++){var ae=i[j];ae.state.throughput>G&&(G=ae.state.throughput)}return G}function x(G,j,ae){var pe=G.map(function(g,ue){return ae[ue]*Math.pow(g-j[ue],2)}).reduce(function(g,ue){return g+ue});return(pe<0?-1:1)*Math.sqrt(Math.abs(pe))}function A(G,j){return x([G.state.throughput,G.state.latency,G.state.rebuffer,G.state.switch],[j.state.throughput,j.state.latency,j.state.rebuffer,j.state.switch],[1,1,1,1])}function _(G,j,ae){for(var pe=0;pe<j.length;pe++){var g=j[pe],ue=A(g,G);O(g,ae,Math.exp(-1*Math.pow(ue,2)/(2*Math.pow(.1,2))))}}function O(G,j,ae){var pe=G.state,g=[.01,.01,.01,.01];pe.throughput=pe.throughput+(j[0]-pe.throughput)*g[0]*ae,pe.latency=pe.latency+(j[1]-pe.latency)*g[1]*ae,pe.rebuffer=pe.rebuffer+(j[2]-pe.rebuffer)*g[2]*ae,pe.switch=pe.switch+(j[3]-pe.switch)*g[3]*ae}return d={getNextQuality:function(G,j,ae,pe,g,ue,w){var ie=ae,ee=pe,le=j,be=function(ye){if(!i){i=[];var Le=ye.bitrateList,ke=[];e=Le[0].bandwidth,Le.forEach(function(nt){ke.push(nt.bandwidth),nt.bandwidth<e&&(e=nt.bandwidth)}),Ke=ke.map(function(nt){return Math.pow(nt,2)}).reduce(function(nt,ht){return nt+ht}),o=Math.sqrt(Ke);for(var Ce=0;Ce<Le.length;Ce++)i.push({qualityIndex:Ce,bitrate:Le[Ce].bandwidth,state:{throughput:Le[Ce].bandwidth/o,latency:0,rebuffer:0,switch:0}});l=function(nt){var ht=[],ft=function(Tt){for(var yt=[],vt=0;vt<Tt;vt++){var Qe=[Math.random()*b(),Math.random(),Math.random(),Math.random()];yt.push(Qe)}return yt}(Math.pow(nt.length,2));ht.push(ft[0]);for(var Ct=[1,1,1,1],Lt=1;Lt<nt.length;Lt++){for(var kt=null,En=null,_n=0;_n<ft.length;_n++){for(var vn=ft[_n],Fn=null,Ln=0;Ln<ht.length;Ln++){var bn=x(vn,ht[Ln],Ct);(null===Fn||bn<Fn)&&(Fn=bn)}(null===En||Fn>En)&&(kt=vn,En=Fn)}ht.push(kt)}for(var Gn=null,jn=null,An=0;An<ht.length;An++){for(var Vn=0,Yn=0;Yn<ht.length;Yn++)An!==Yn&&(Vn+=x(ht[An],ht[Yn],Ct));(null===Gn||Vn>Gn)&&(Gn=Vn,jn=An)}var Wn=[];for(Wn.push(ht[jn]),ht.splice(jn,1);ht.length>0;){for(var Xn=null,ir=null,rr=0;rr<ht.length;rr++){var wr=x(Wn[0],ht[rr],Ct);(null===Xn||wr<Xn)&&(Xn=wr,ir=rr)}Wn.push(ht[ir]),ht.splice(ir,1)}return Wn}(i)}var Ke;return i}(G),Re=j/o;Re>1&&(Re=b()),ae/=y,c.debug("getNextQuality called throughput:".concat(Re," latency:").concat(ae," bufferSize:").concat(pe," currentQualityIndex:").concat(ue," playbackRate:").concat(g));var we=be[ue],ce=we.bitrate*w.getSegmentDuration()/le,Oe=Math.max(0,ce-ee);if(ee-ce<w.getMinBuffer())return c.debug("Buffer is low for bitrate= ".concat(we.bitrate," downloadTime=").concat(ce," currentBuffer=").concat(ee," rebuffer=").concat(Oe)),function(ye,Le){var ke=0,Ce=ye;if(i)for(var Ve=0;Ve<i.length;Ve++){var Ke=i[Ve];Ke.bitrate<ye.bitrate&&Ke.bitrate>ke&&Le>Ke.bitrate&&(ke=Ke.bitrate,Ce=Ke)}return Ce}(we,le).qualityIndex;switch(T){case"manual_weight_selection":t=[.4,.4,.4,.4];break;case"random_weight_selection":t=function(Le,ke){for(var Ce=[],Ve=Math.sqrt(2/Le),Ke=0;Ke<4;Ke++)Ce.push(Math.random()*Ve);return t=Ce}(be.length);break;default:!function(ye,Le,ke,Ce,Ve,Ke,nt){t||(t=l[l.length-1]);var ht=ye.findWeightVector(Le,ke,Ce,Ve,Ke,nt);null!==ht&&-1!==ht&&(t=ht)}(w,be,ie,ee,Oe,le,g)}for(var qe=null,Ne=null,Be=null,se=0;se<be.length;se++){var fe=be[se],Ge=fe.state,m=[Ge.throughput,Ge.latency,Ge.rebuffer,Ge.switch],u=t.slice(),I=w.getNextBufferWithBitrate(fe.bitrate,ee,le),C=I<w.getMinBuffer();C&&c.debug("Buffer is low for bitrate=".concat(fe.bitrate," downloadTime=").concat(ce," currentBuffer=").concat(ee," nextBuffer=").concat(I)),(fe.bitrate>j-1e4||C)&&fe.bitrate!==e&&(u[0]=100);var z=x(m,[Re,0,0,0],u);(null===qe||z<qe)&&(qe=z,Ne=fe.qualityIndex,Be=fe)}var V=Math.abs(we.bitrate-Be.bitrate)/o;return _(we,be,[Re,ae,Oe,V]),_(Be,be,[Re,0,0,V]),Ne},reset:function(){E()}},c=(0,S.Z)(this.context).getInstance().getLogger(d),E(),d}r.__dashjs_factory_name="LearningAbrController";const n=J.Z.getClassFactory(r)},5317:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>n});var J=D(5448),S=D(2298);function r(){var d,c,i,o,y;function e(){c=null,i=null,o=null,y=null}function t(T,p,E,b){var x=new S.Z;return x.type=T,x.weights.bitrateReward=p||1,x.weights.bitrateSwitchPenalty=1,x.weights.rebufferPenalty=E||1e3,x.weights.latencyPenalty=[],x.weights.latencyPenalty.push({threshold:1.1,penalty:.05*b}),x.weights.latencyPenalty.push({threshold:1e8,penalty:.1*E}),x.weights.playbackSpeedPenalty=b||200,x}function l(T,p,E,b,x){x.bitrateWSum+=x.weights.bitrateReward*T,x.lastBitrate&&(x.bitrateSwitchWSum+=x.weights.bitrateSwitchPenalty*Math.abs(T-x.lastBitrate)),x.lastBitrate=T,x.rebufferWSum+=x.weights.rebufferPenalty*p;for(var A=0;A<x.weights.latencyPenalty.length;A++){var _=x.weights.latencyPenalty[A];if(E<=_.threshold){x.latencyWSum+=_.penalty*E;break}}x.playbackSpeedWSum+=x.weights.playbackSpeedPenalty*Math.abs(1-b),x.totalQoe=x.bitrateWSum-x.bitrateSwitchWSum-x.rebufferWSum-x.latencyWSum-x.playbackSpeedWSum}return d={setupPerSegmentQoe:function(T,p,E){c=t("segment",T,p,E),i=T,o=p,y=E},logSegmentMetrics:function(T,p,E,b){c&&l(T,p,E,b,c)},getPerSegmentQoe:function(){return c},calculateSingleUseQoe:function(T,p,E,b){var x=null;return i&&o&&y&&(x=t("segment",i,o,y)),x?(l(T,p,E,b,x),x.totalQoe):0},reset:function(){e()}},e(),d}r.__dashjs_factory_name="LoLpQoeEvaluator";const n=J.Z.getClassFactory(r)},5435:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>e});var J=D(6398),S=D(5448),r=D(4722),n=D(5317),d=D(2068),c=D(3860),i=D(6523),o=D(3393);function y(t){var l,T,p,E,b=(t=t||{}).dashMetrics,x=this.context;return T={getMaxIndex:function(A){try{var _=(0,d.Z)(x).create(),O=A.getMediaInfo().type,G=A.getAbrController(),j=A.getStreamInfo(),ae=G.getQualityFor(O,j.id),pe=A.getMediaInfo(),g=b.getCurrentBufferState(O),ue=A.getScheduleController(),w=b.getCurrentBufferLevel(O,!0),ie=j&&j.manifestInfo?j.manifestInfo.isDynamic:null,ee=ue.getPlaybackController(),le=ee.getCurrentLiveLatency();if(!A.useLoLPABR()||O===o.Z.AUDIO)return _;le||(le=0);var be=ee.getPlaybackRate(),Re=G.getThroughputHistory().getSafeAverageThroughput(O,ie);if(l.debug("Throughput ".concat(Math.round(Re)," kbps")),isNaN(Re)||!g||G.getAbandonmentStateFor(j.id,O)===c.Z.ABANDON_LOAD)return _;for(var we=pe.bitrateList,ce=A.getRepresentationInfo().fragmentDuration,Oe=we[0].bandwidth/1e3,qe=we[we.length-1].bandwidth/1e3,Ne=0;Ne<we.length;Ne++){var Be=we[Ne].bandwidth/1e3;Be>qe?qe=Be:Be<Oe&&(Oe=Be)}var se=we[ae].bandwidth/1e3,fe=b.getCurrentHttpRequest(O,!0),Ge=(fe.tresponse.getTime()-fe.trequest.getTime())/1e3,m=Ge>ce?Ge-ce:0;E.setupPerSegmentQoe(ce,qe,Oe),E.logSegmentMetrics(se,m,le,be);var u=(0,i.Z)(x).create({targetLatency:1.5,bufferMin:.3,segmentDuration:ce,qoeEvaluator:E});return _.quality=p.getNextQuality(pe,1e3*Re,le,w,be,ae,u),_.reason={throughput:Re,latency:le},_.priority=d.Z.PRIORITY.STRONG,ue.setTimeToLoadDelay(0),_.quality!==ae&&l.debug("[TgcLearningRule]["+O+"] requesting switch to index: ",_.quality,"Average throughput",Math.round(Re),"kbps"),_}catch(I){throw I}},reset:function(){p.reset(),E.reset()}},l=(0,J.Z)(x).getInstance().getLogger(T),p=(0,r.Z)(x).create(),E=(0,n.Z)(x).create(),T}y.__dashjs_factory_name="LoLPRule";const e=S.Z.getClassFactory(y)},6523:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>r});var J=D(5448);function S(n){var d,c,i,o,y=n.targetLatency,e=n.bufferMin,t=n.segmentDuration,l=n.qoeEvaluator;function T(){return t}function p(E,b){var x=T();return b>x?E-x:E+x-b}return d={getMinBuffer:function(){return e},getSegmentDuration:T,getNextBufferWithBitrate:function(E,b,x){return p(b,E*t/x)},getNextBuffer:p,findWeightVector:function(E,b,x,A,_,O){var G=null,j=null,ae=null,pe=Math.abs(b-i);return E.forEach(function(g){c.forEach(function(ue){var w=ue[1],ie=ue[2],ee=g.bitrate*t/_,le=p(x,ee),be=(0===ie?10:1/ie)*Math.max(1e-5,ee-le),we=l.calculateSingleUseQoe(g.bitrate,be,(0===w?10:1/w)*g.state.latency,O);(null===G||we>G)&&(!(b>y+pe)&&le>=e)&&(G=we,j=ue,ae=g.bitrate)})}),null===j&&null===ae&&(j=-1),i=b,j}},c=function E(b,x,A){if(A===x)return b;for(var _=b.length,O=0;O<_;O++)for(var G=b.shift(),j=0;j<o.length;j++)b.push(G.concat(o[j]));return E(b,x,A+1)}((o=[.2,.4,.6,.8,1]).map(function(E){return[E]}),4,1),i=0,d}S.__dashjs_factory_name="LoLpWeightSelector";const r=J.Z.getClassFactory(S)},2298:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>J});const J=function S(){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,S),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Y:()=>t,Z:()=>T});var J=D(3393),S=D(1553),r=D(5448),n=D(2128),d=D(2594),c=D(7387),i=D(7417),o=D(9032),y=D(9326),e=D(7802),t=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function l(p){var E,b,x,A,_,O,G,j,ae=this.context,pe=p.adapter,g=p.baseURLController,ue=p.streamInfo,w=p.timelineConverter,ie=p.debug,ee=p.eventBus,le=p.events,be=p.dashConstants,Re=(0,d.Z)(ae).getInstance();function we(Oe,qe){var Be,se,Ne=new n.Z;Ne.id=Oe.id,Ne.bitrate=Oe.bandwidth,Ne.width=Oe.width,Ne.height=Oe.height,Ne.tilesHor=1,Ne.tilesVert=1,Oe.essentialProperties&&Oe.essentialProperties.forEach(function(Be){if(t.indexOf(Be.schemeIdUri)>=0&&Be.value){var se=Be.value.split("x");2!==se.length||isNaN(se[0])||isNaN(se[1])||(Ne.tilesHor=parseInt(se[0],10),Ne.tilesVert=parseInt(se[1],10))}}),qe?O.updateSegmentData(Oe).then(function(Be){var se,fe,m,u;se=Ne,m=[],u=function(I,C){var z,V,ye,Le,ke=[],Ce=0;for(z=0,V=I.segments.length;z<V;z++)ye=I.segments[z],(Le=(0,c.TJ)(w,pe.getIsDynamic(),C,ye.startTime,ye.duration,ye.timescale,ye.media,ye.mediaRange,Ce))&&(ke.push(Le),Le=null,Ce++);return ke}(Be,fe=Oe),fe.segments=u,se.segmentDuration=fe.segments[0].duration,se.readThumbnail=function(I,C){var z=null;m.some(function(V){if(V.start<=I&&V.end>I)return z=V.url,!0}),z?C(z):fe.segments.some(function(V){if(V.mediaStartTime<=I&&V.mediaStartTime+V.duration>I){var ye=g.resolve(fe.path);return G.load({method:"get",url:ye.url,request:{range:V.mediaRange,responseType:"arraybuffer"},onload:function(Le){var ke=j.getSamplesInfo(Le.target.response),Ce=new Blob([Le.target.response.slice(ke.sampleList[0].offset,ke.sampleList[0].offset+ke.sampleList[0].size)],{type:"image/jpeg"}),Ve=window.URL.createObjectURL(Ce);m.push({start:V.mediaStartTime,end:V.mediaStartTime+V.duration,url:Ve}),C&&C(Ve)}}),!0}})}}):(Ne.startNumber=Oe.startNumber,Ne.segmentDuration=Oe.segmentDuration,Ne.timescale=Oe.timescale,Ne.templateUrl=(se=Re.isRelative((Be=Oe).media)?Re.resolve(Be.media,g.resolve(Be.path).url):Be.media)?(0,c.Aj)(se,Be.id):""),Ne.tilesHor>0&&Ne.tilesVert>0&&(Ne.widthPerTile=Ne.width/Ne.tilesHor,Ne.heightPerTile=Ne.height/Ne.tilesVert,b.push(Ne))}function ce(){b=[],A=-1,_=null}return E={getTracks:function(){return b},addTracks:function(){if(ue&&pe&&(_=pe.getMediaInfoForType(ue,J.Z.IMAGE))){var Oe=pe.getVoRepresentations(_);Oe&&Oe.length>0&&Oe.forEach(function(qe){(qe.segmentInfoType===S.Z.SEGMENT_TEMPLATE&&qe.segmentDuration>0&&qe.media||qe.segmentInfoType===S.Z.SEGMENT_TIMELINE)&&we(qe),qe.segmentInfoType===S.Z.SEGMENT_BASE&&we(qe,!0)}),b.length>0&&b.sort(function(qe,Ne){return qe.bitrate-Ne.bitrate})}},reset:ce,setTrackByIndex:function(Oe){b&&0!==b.length&&(Oe>=b.length&&(Oe=b.length-1),A=Oe)},getCurrentTrack:function(){return A<0?null:b[A]},getCurrentTrackIndex:function(){return A},getThumbnailRequestForTime:function(Oe){for(var qe,Ne=pe.getVoRepresentations(_),Be=0;Be<Ne.length;Be++)if(b[A].id===Ne[Be].id){qe=Ne[Be];break}return x.getSegmentRequestForTime(_,qe,Oe)}},ce(),G=(0,o.Z)(ae).create({}),j=(0,i.Z)(ae).getInstance(),O=(0,e.Z)(ae).create({events:le,eventBus:ee,streamInfo:ue,timelineConverter:w,dashConstants:be,dashMetrics:p.dashMetrics,segmentBaseController:p.segmentBaseController,type:J.Z.IMAGE}),(x=(0,y.Z)(ae).create({streamInfo:ue,type:J.Z.IMAGE,timelineConverter:w,segmentsController:O,baseURLController:g,debug:ie,eventBus:ee,events:le,dashConstants:be,urlUtils:Re})).initialize(!!pe&&pe.getIsDynamic()),E}l.__dashjs_factory_name="ThumbnailTracks";const T=r.Z.getClassFactory(l)},7417:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>i});var J=D(6398),S=D(8260),r=D(5448),n=D(6934),d=D(9597);function c(){var o,y,e=this.context;function t(p){if(!p)return null;void 0===p.fileStart&&(p.fileStart=0);var E=n.parseBuffer(p),b=(0,S.Z)(e).create();return b.setData(E),b}function l(p,E){return p[E+3]>>>0|p[E+2]<<8>>>0|p[E+1]<<16>>>0|p[E]<<24>>>0}function T(p,E){return String.fromCharCode(p[E++])+String.fromCharCode(p[E++])+String.fromCharCode(p[E++])+String.fromCharCode(p[E])}return y={parse:t,findLastTopIsoBoxCompleted:function(p,E,b){if(void 0===b&&(b=0),!E||b+8>=E.byteLength)return new d.Z(0,!1);for(var x,A=E instanceof ArrayBuffer?new Uint8Array(E):E,_=0;b<A.byteLength;){var O=l(A,b),G=T(A,b+4);if(0===O)break;b+O<=A.byteLength&&(p.indexOf(G)>=0?x=new d.Z(b,!0,O):_=b+O),b+=O}return x||new d.Z(_,!1)},getMediaTimescaleFromMoov:function(p){var E=t(p),b=E?E.getBox("mdhd"):void 0;return b?b.timescale:NaN},getSamplesInfo:function(p){if(!p||0===p.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var E,b,x,A,_,O,G,j,ae,pe,g,ue,w,ie,ee,le,be=t(p),Re=be.getBoxes("moof"),we=be.getBoxes("mfhd");ee=be.getBoxes("moof").length,ie=we[we.length-1].sequence_number,b=0,_=[];var ce=-1,Oe=-1;for(pe=0;pe<Re.length;pe++){var qe=Re[pe],Ne=qe.getChildBoxes("traf");for(j=0;j<Ne.length;j++){var Be=Ne[j],se=Be.getChildBox("tfhd"),fe=Be.getChildBox("tfdt");A=fe.baseMediaDecodeTime;var Ge=Be.getChildBoxes("trun"),m=Be.getChildBoxes("subs");for(ae=0;ae<Ge.length;ae++){var u=Ge[ae];for(b=u.sample_count,w=(se.base_data_offset||0)+(u.data_offset||0),G=0;G<b;G++){E=void 0!==(O=u.samples[G]).sample_duration?O.sample_duration:se.default_sample_duration;var I={dts:A,cts:A+(void 0!==O.sample_composition_time_offset?O.sample_composition_time_offset:0),duration:E,offset:qe.offset+w,size:x=void 0!==O.sample_size?O.sample_size:se.default_sample_size,subSizes:[x]};if(m)for(g=0;g<m.length;g++){var C=m[g];if(ce<C.entry_count-1&&G>Oe&&(ce++,Oe+=C.entries[ce].sample_delta),G==Oe){I.subSizes=[];var z=C.entries[ce];for(ue=0;ue<z.subsample_count;ue++)I.subSizes.push(z.subsamples[ue].subsample_size)}}_.push(I),w+=x,A+=E}}le=A-fe.baseMediaDecodeTime}}return{sampleList:_,lastSequenceNumber:ie,totalDuration:le,numSequences:ee}},findInitRange:function(p){var E=null,b=t(p);if(!b)return E;var x=b.getBox("ftyp"),A=b.getBox("moov");return o.debug("Searching for initialization."),A&&A.isComplete&&o.debug("Found the initialization.  Range: "+(E=(x?x.offset:A.offset)+"-"+(A.offset+A.size-1))),E},parsePayload:function(p,E,b){if(void 0===b&&(b=0),!E||b+8>=E.byteLength)return new d.Z(0,!1);for(var x,A=E instanceof ArrayBuffer?new Uint8Array(E):E,_=0;b<A.byteLength;){var O=l(A,b),G=T(A,b+4);if(0===O)break;b+O<=A.byteLength&&(p.indexOf(G)>=0?x=new d.Z(b,!0,O,G):_=b+O),b+=O}return x||new d.Z(_,!1)}},o=(0,J.Z)(e).getInstance().getLogger(y),y}c.__dashjs_factory_name="BoxParser";const i=r.Z.getSingletonFactory(c)},1715:(Pe,Ie,D)=>{"use strict";D.d(Ie,{B:()=>d,Z:()=>i});var J=D(5448),S=D(7803),r=D(3393),n=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function d(){var o="WebKitMediaSource"in window,y="MediaSource"in window;return o||y}function c(){var o,y,e;return o={setConfig:function(t){t&&t.settings&&(y=t.settings)},supportsMediaSource:d,supportsEncryptedMedia:function(){return e},supportsCodec:function(t,l){return l!==r.Z.AUDIO&&l!==r.Z.VIDEO?Promise.resolve(!0):(T=t,p=l,y.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(T.codec&&p===r.Z.AUDIO||p===r.Z.VIDEO&&T.codec&&T.width&&T.height&&T.bitrate&&T.framerate)?function(T,p){return new Promise(function(E){if(T&&T.codec){var b={type:"media-source"};b[p]={},b[p].contentType=T.codec,b[p].width=T.width,b[p].height=T.height,b[p].bitrate=parseInt(T.bitrate),b[p].framerate=parseFloat(T.framerate),navigator.mediaCapabilities.decodingInfo(b).then(function(x){E(x.supported)}).catch(function(){E(!1)})}else E(!1)})}(t,l):function(T){return new Promise(function(p){if(T&&T.codec){var E=T.codec;T.width&&T.height&&(E+=';width="'+T.width+'";height="'+T.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(E)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(E)?p(!0):p(!1)}else p(!1)})}(t));var T,p},setEncryptedMediaSupported:function(t){e=t},supportsEssentialProperty:function(t){try{return-1!==S.Y.indexOf(t.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function(t,l){for(var T,p=t.split(".")[0],E=0===l.indexOf(p),b=0;b<n.length;b++)if(n[b].codec===p){T=n[b];break}return T?E||T.compatibleCodecs.some(function(x){return 0===l.indexOf(x)}):E}},e=!1,o}c.__dashjs_factory_name="Capabilities";const i=J.Z.getSingletonFactory(c)},2295:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>n});var J=D(5448),S=D(3106);function r(){return{customTimeRangeArray:[],length:0,add:function(d,c){var i;for(i=0;i<this.customTimeRangeArray.length&&d>this.customTimeRangeArray[i].start;i++);for(this.customTimeRangeArray.splice(i,0,{start:d,end:c}),i=0;i<this.customTimeRangeArray.length-1;i++)this.mergeRanges(i,i+1)&&i--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(d,c){for(var i=0;i<this.customTimeRangeArray.length;i++)if(d<=this.customTimeRangeArray[i].start&&c>=this.customTimeRangeArray[i].end)this.customTimeRangeArray.splice(i,1),i--;else{if(d>this.customTimeRangeArray[i].start&&c<this.customTimeRangeArray[i].end){this.customTimeRangeArray.splice(i+1,0,{start:c,end:this.customTimeRangeArray[i].end}),this.customTimeRangeArray[i].end=d;break}d>this.customTimeRangeArray[i].start&&d<this.customTimeRangeArray[i].end?this.customTimeRangeArray[i].end=d:c>this.customTimeRangeArray[i].start&&c<this.customTimeRangeArray[i].end&&(this.customTimeRangeArray[i].start=c)}this.length=this.customTimeRangeArray.length},mergeRanges:function(d,c){var i=this.customTimeRangeArray[d],o=this.customTimeRangeArray[c];return i.start<=o.start&&o.start<=i.end&&i.end<=o.end?(i.end=o.end,this.customTimeRangeArray.splice(c,1),!0):o.start<=i.start&&i.start<=o.end&&o.end<=i.end?(i.start=o.start,this.customTimeRangeArray.splice(c,1),!0):o.start<=i.start&&i.start<=o.end&&i.end<=o.end?(this.customTimeRangeArray.splice(d,1),!0):i.start<=o.start&&o.start<=i.end&&o.end<=i.end&&(this.customTimeRangeArray.splice(c,1),!0)},start:function(d){return(0,S.SE)(d),d>=this.customTimeRangeArray.length||d<0?NaN:this.customTimeRangeArray[d].start},end:function(d){return(0,S.SE)(d),d>=this.customTimeRangeArray.length||d<0?NaN:this.customTimeRangeArray[d].end}}}r.__dashjs_factory_name="CustomTimeRanges";const n=J.Z.getClassFactory(r)},5:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>r});var J=D(5448);function S(){var n,d=/^[a-z][a-z0-9+\-_.]*:/i,c=/^https?:\/\//i,i=/^https:\/\//i,o=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,y=function(x,A){try{return new window.URL(x,A).toString()}catch{return x}},e=function(x,A){var _=t;if(!A||!p(x))return x;E(x)&&(_=l),b(x)&&(_=T);var O=_(A),G="/"!==O.charAt(O.length-1)&&"/"!==x.charAt(0)?"/":"";return[O,x].join(G)};function t(x){var A=x.indexOf("/"),_=x.lastIndexOf("/");return-1!==A?_===A+1?x:(-1!==x.indexOf("?")&&(x=x.substring(0,x.indexOf("?"))),x.substring(0,_+1)):""}function l(x){var A=x.match(o);return A?A[1]:""}function T(x){var A=x.match(d);return A?A[0]:""}function p(x){return!d.test(x)}function E(x){return p(x)&&"/"===x.charAt(0)}function b(x){return 0===x.indexOf("//")}return function(){try{new window.URL("x","http://y"),n=y}catch{}finally{n=n||e}}(),{parseBaseUrl:t,parseOrigin:l,parseScheme:T,isRelative:p,isPathAbsolute:E,isSchemeRelative:b,isHTTPURL:function(x){return c.test(x)},isHTTPS:function(x){return i.test(x)},removeHostname:function(x){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(x)[2].substring(1)},resolve:function(x,A){return n(x,A)}}}S.__dashjs_factory_name="DefaultURLUtils";const r=J.Z.getSingletonFactory(S)},8260:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>n});var J=D(2839),S=D(5448);function r(){var d;function c(o){var y=[];if(!o||!d||"function"!=typeof d.fetchAll)return y;for(var e,t=d.fetchAll(o),l=0,T=t.length;l<T;l++)(e=i(t[l]))&&y.push(e);return y}function i(o){if(!o)return null;var y=new J.Z(o);return o.hasOwnProperty("_incomplete")&&(y.isComplete=!o._incomplete),y}return{getBox:function(o){return o&&d&&d.boxes&&0!==d.boxes.length&&"function"==typeof d.fetch?i(d.fetch(o)):null},getBoxes:c,setData:function(o){d=o},getLastBox:function(){if(!d||!d.boxes||!d.boxes.length)return null;var o=c(d.boxes[d.boxes.length-1].type);return o.length>0?o[o.length-1]:null}}}r.__dashjs_factory_name="IsoFile";const n=S.Z.getClassFactory(r)},7473:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>n,k:()=>S});var J=D(5448);function S(d,c){var i={url:d.url,method:d.method,headers:Object.assign({},d.headers),credentials:d.withCredentials?"include":void 0};return Promise.resolve(c.modifyRequest(i)).then(function(){return Object.assign(d,i,{withCredentials:"include"===i.credentials})})}function r(){return{modifyRequest:null,modifyRequestURL:function(d){return d},modifyRequestHeader:function(d,c){return d}}}r.__dashjs_factory_name="RequestModifier";const n=J.Z.getSingletonFactory(r)},3106:(Pe,Ie,D)=>{"use strict";D.d(Ie,{PS:()=>r,SE:()=>n});var J=D(3393);function S(d){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(d)}function r(d,c){if(S(d)!==c)throw J.Z.BAD_ARGUMENT_ERROR}function n(d){if(null===d||isNaN(d)||d%1!=0)throw J.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>n});var J=D(5448),S=D(5);function r(){var d,c=[];function o(y,e,t){var l=function(T){var p;for(p=0;p<c.length;p++)if(c[p].regex.test(T))return c[p].utils;return d}(t||e);return l&&"function"==typeof l[y]?l[y](e,t):d[y](e,t)}return d=(0,S.Z)(this.context).getInstance(),{registerUrlRegex:function(y,e){c.push({regex:y,utils:e})},parseBaseUrl:function(y){return o("parseBaseUrl",y)},parseOrigin:function(y){return o("parseOrigin",y)},parseScheme:function(y){return o("parseScheme",y)},isRelative:function(y){return o("isRelative",y)},isPathAbsolute:function(y){return o("isPathAbsolute",y)},isSchemeRelative:function(y){return o("isSchemeRelative",y)},isHTTPURL:function(y){return o("isHTTPURL",y)},isHTTPS:function(y){return o("isHTTPS",y)},removeHostname:function(y){return o("removeHostname",y)},resolve:function(y,e){return o("resolve",y,e)}}}r.__dashjs_factory_name="URLUtils";const n=J.Z.getSingletonFactory(r)},5459:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>J});const J=function S(r,n,d){(function(c,i){if(!(c instanceof i))throw new TypeError("Cannot call a class as a function")})(this,S),this.code=r||null,this.message=n||null,this.data=d||null}},3186:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>n});var J=D(7855),r=function(){function d(o){(function(y,e){if(!(y instanceof e))throw new TypeError("Cannot call a class as a function")})(this,d),this.action=d.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=o||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var i;return(i=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===J.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(o){this.type=o&&o.init?J.w.INIT_SEGMENT_TYPE:J.w.MEDIA_SEGMENT_TYPE,this.url=o&&o.url?o.url:null,this.range=o&&o.range?o.range.start+"-"+o.range.end:null,this.mediaType=o&&o.mediaType?o.mediaType:null}}])&&function S(d,c){for(var i=0;i<c.length;i++){var o=c[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(d,o.key,o)}}(d.prototype,i),d}();r.ACTION_DOWNLOAD="download",r.ACTION_COMPLETE="complete";const n=r},2839:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>S});const S=function(){function r(c){if(function(T,p){if(!(T instanceof p))throw new TypeError("Cannot call a class as a function")}(this,r),this.offset=c._offset,this.type=c.type,this.size=c.size,this.boxes=[],c.boxes)for(var i=0;i<c.boxes.length;i++)this.boxes.push(new r(c.boxes[i]));switch(this.isComplete=!0,c.type){case"sidx":if(this.timescale=c.timescale,this.earliest_presentation_time=c.earliest_presentation_time,this.first_offset=c.first_offset,this.references=c.references,c.references){this.references=[];for(var o=0;o<c.references.length;o++)this.references.push({reference_type:c.references[o].reference_type,referenced_size:c.references[o].referenced_size,subsegment_duration:c.references[o].subsegment_duration})}break;case"emsg":this.id=c.id,this.version=1===c.version?1:0,this.value=c.value,this.timescale=c.timescale,this.scheme_id_uri=c.scheme_id_uri,this.presentation_time_delta=1===c.version?c.presentation_time:c.presentation_time_delta,this.event_duration=c.event_duration,this.message_data=c.message_data;break;case"mdhd":this.timescale=c.timescale;break;case"mfhd":this.sequence_number=c.sequence_number;break;case"subs":this.entry_count=c.entry_count,this.entries=c.entries;break;case"tfhd":this.base_data_offset=c.base_data_offset,this.sample_description_index=c.sample_description_index,this.default_sample_duration=c.default_sample_duration,this.default_sample_size=c.default_sample_size,this.default_sample_flags=c.default_sample_flags,this.flags=c.flags;break;case"tfdt":this.version=c.version,this.baseMediaDecodeTime=c.baseMediaDecodeTime,this.flags=c.flags;break;case"trun":if(this.sample_count=c.sample_count,this.first_sample_flags=c.first_sample_flags,this.data_offset=c.data_offset,this.flags=c.flags,this.samples=c.samples,c.samples){this.samples=[];for(var e=0,t=c.samples.length;e<t;e++)this.samples.push({sample_size:c.samples[e].sample_size,sample_duration:c.samples[e].sample_duration,sample_composition_time_offset:c.samples[e].sample_composition_time_offset})}break;case"prft":this.version=c.version,this.reference_track_ID=c.reference_track_ID,this.ntp_timestamp_sec=c.ntp_timestamp_sec,this.ntp_timestamp_frac=c.ntp_timestamp_frac,this.media_time=c.media_time,this.flags=c.flags}}var d;return(d=[{key:"getChildBox",value:function(c){for(var i=0;i<this.boxes.length;i++)if(this.boxes[i].type===c)return this.boxes[i]}},{key:"getChildBoxes",value:function(c){for(var i=[],o=0;o<this.boxes.length;o++)this.boxes[o].type===c&&i.push(this.boxes[o]);return i}}])&&function J(r,n){for(var d=0;d<n.length;d++){var c=n[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(r,c.key,c)}}(r.prototype,d),r}()},9597:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>J});const J=function S(r,n,d){(function(c,i){if(!(c instanceof i))throw new TypeError("Cannot call a class as a function")})(this,S),this.lastCompletedOffset=r,this.found=n,this.size=d}},2128:(Pe,Ie,D)=>{"use strict";D.d(Ie,{Z:()=>J});const J=function S(){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,S),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:(Pe,Ie,D)=>{"use strict";function J(n,d){if(!(n instanceof d))throw new TypeError("Cannot call a class as a function")}D.d(Ie,{O:()=>r,w:()=>S});var S=function n(){J(this,n),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},r=function n(){J(this,n),this.s=null,this.d=null,this.b=[]};S.GET="GET",S.HEAD="HEAD",S.MPD_TYPE="MPD",S.XLINK_EXPANSION_TYPE="XLinkExpansion",S.INIT_SEGMENT_TYPE="InitializationSegment",S.INDEX_SEGMENT_TYPE="IndexSegment",S.MEDIA_SEGMENT_TYPE="MediaSegment",S.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",S.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",S.DVB_REPORTING_TYPE="DVBReporting",S.LICENSE="license",S.CONTENT_STEERING_TYPE="ContentSteering",S.OTHER_TYPE="other"},3039:(Pe,Ie)=>{"use strict";function D(S,r){return function(n,d){for(var c,i,o,y=J(n,"tag"),e=J(d??"*","range"),t=[],l=-1;++l<e.length;)if(c=e[l].toLowerCase(),r||"*"!==c){for(i=-1,o=[];++i<y.length;)if(S(y[i].toLowerCase(),c)){if(!r)return y[i];t.push(y[i])}else o.push(y[i]);y=o}return r?t:void 0}}function J(S,r){var n=S&&"string"==typeof S?[S]:S;if(!n||"object"!=typeof n||!("length"in n))throw new Error("Invalid "+r+" `"+n+"`, expected non-empty string");return n}Ie.basicFilter=D(function(S,r){return"*"===r||S===r||S.indexOf(r+"-")>-1},!0),Ie.extendedFilter=D(function(S,r){var n=S.split("-"),d=r.split("-"),c=0,i=0;if("*"!==d[i]&&n[c]!==d[i])return!1;for(c++,i++;i<d.length;)if("*"!==d[i]){if(!n[c])return!1;if(n[c]!==d[i]){if(1===n[c].length)return!1;c++}else c++,i++}else i++;return!0},!0),Ie.lookup=D(function(S,r){for(var n,d=r;;){if("*"===d||S===d)return!0;if((n=d.lastIndexOf("-"))<0)return!1;"-"===d.charAt(n-2)&&(n-=2),d=d.slice(0,n)}})},3973:(Pe,Ie,D)=>{"use strict";Pe.exports=D(3854)},3854:(Pe,Ie,D)=>{"use strict";var J=D(2415),S=D(3039),r=D(7778),n=D(5813),d=D(3165),c=D(9460);Pe.exports=function(p,E){var b,x=E||{},A=J.parse(String(p||"").toLowerCase(),x),_=J.stringify(A),O=-1;if(!_)return _;for(;++O<r.length;)S.extendedFilter(_,r[O].from).length&&(e(A,r[O].from,r[O].to),_=J.stringify(A));for(O=-1;++O<n.length;)t(A,n[O].from.field,n[O].from.value)&&l(A,n[O].to.field,n[O].to.value);for(_=J.stringify(Object.assign({},A,y)),O=-1;++O<d.length;)_===d[O]&&(e(A,d[O],d[O].split("-").slice(0,-1).join("-")),_=J.stringify(Object.assign({},A,y)));if(A.extensions.sort(T),x.warning)for(b in c)i.call(c[b],A[b])&&x.warning("Deprecated "+b+" `"+A[b]+"`, expected one of `"+c[b][A[b]].join("`, `")+"`",null,7);return A.script&&(A.script=A.script.charAt(0).toUpperCase()+A.script.slice(1)),A.region&&(A.region=A.region.toUpperCase()),J.stringify(A)};var i={}.hasOwnProperty,o=new Intl.Collator,y={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function e(p,E,b){var x,A=J.parse(E),_=J.parse(b),O=[];for(x in A)A[x]&&A[x].length&&t(p,x,A[x])&&O.push(x);for(x in _)_[x]&&_[x].length&&(O.indexOf(x)>-1||!p[x]||!p[x].length)&&l(p,x,_[x])}function t(p,E,b){var x,A,_,O,G=!1;if(b){if(A=x=p[E],x&&"object"==typeof x)for(A=[],_=-1;++_<x.length;)b.indexOf(O=x[_])<0?A.push(O):G=!0;else x===b&&(A=null,G=!0);p[E]=A}return G}function l(p,E,b){var x,A,_,O=p[E];if(O&&"object"==typeof O)for(x=[].concat(b),A=-1;++A<x.length;)O.indexOf(_=x[A])<0&&O.push(_);else p[E]=b}function T(p,E){return o.compare(p.singleton,E.singleton)}},2415:(Pe,Ie,D)=>{"use strict";Ie.parse=D(6903),Ie.stringify=D(6713)},6903:(Pe,Ie,D)=>{"use strict";var J=D(2219),S=D(3516),r=D(395),n=D(858),d=D(8589);Pe.exports=function i(o,y){var e,t,l,T=y||{},p={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},E=String(o),b=E.toLowerCase(),x=0;if(null==o)throw new Error("Expected string, got `"+o+"`");if(c.call(d,b))return(null==T.normalize||T.normalize)&&d[b]?i(d[b]):(p[-1===n.indexOf(b)?"irregular":"regular"]=E,p);for(;S(b.charCodeAt(x))&&x<9;)x++;if(x>1&&x<9){if(p.language=E.slice(0,x),x<4)for(t=0;45===b.charCodeAt(x)&&S(b.charCodeAt(x+1))&&S(b.charCodeAt(x+2))&&S(b.charCodeAt(x+3))&&!S(b.charCodeAt(x+4));){if(t>2)return A(x,3,"Too many extended language subtags, expected at most 3 subtags");p.extendedLanguageSubtags.push(E.slice(x+1,x+4)),x+=4,t++}for(45===b.charCodeAt(x)&&S(b.charCodeAt(x+1))&&S(b.charCodeAt(x+2))&&S(b.charCodeAt(x+3))&&S(b.charCodeAt(x+4))&&!S(b.charCodeAt(x+5))&&(p.script=E.slice(x+1,x+5),x+=5),45===b.charCodeAt(x)&&(S(b.charCodeAt(x+1))&&S(b.charCodeAt(x+2))&&!S(b.charCodeAt(x+3))?(p.region=E.slice(x+1,x+3),x+=3):r(b.charCodeAt(x+1))&&r(b.charCodeAt(x+2))&&r(b.charCodeAt(x+3))&&!r(b.charCodeAt(x+4))&&(p.region=E.slice(x+1,x+4),x+=4));45===b.charCodeAt(x);){for(l=e=x+1;J(b.charCodeAt(l));){if(l-e>7)return A(l,1,"Too long variant, expected at most 8 characters");l++}if(!(l-e>4||l-e>3&&r(b.charCodeAt(e))))break;p.variants.push(E.slice(e,l)),x=l}for(;45===b.charCodeAt(x)&&120!==b.charCodeAt(x+1)&&J(b.charCodeAt(x+1))&&45===b.charCodeAt(x+2)&&J(b.charCodeAt(x+3));){for(l=x+2,t=0;45===b.charCodeAt(l)&&J(b.charCodeAt(l+1))&&J(b.charCodeAt(l+2));)for(l=(e=l+1)+2,t++;J(b.charCodeAt(l));){if(l-e>7)return A(l,2,"Too long extension, expected at most 8 characters");l++}if(!t)return A(l,4,"Empty extension, extensions must have at least 2 characters of content");p.extensions.push({singleton:E.charAt(x+1),extensions:E.slice(x+3,l).split("-")}),x=l}}else x=0;if(0===x&&120===b.charCodeAt(x)||45===b.charCodeAt(x)&&120===b.charCodeAt(x+1))for(l=x=x?x+2:1;45===b.charCodeAt(l)&&J(b.charCodeAt(l+1));){for(l=e=x+1;J(b.charCodeAt(l));){if(l-e>7)return A(l,5,"Too long private-use area, expected at most 8 characters");l++}p.privateuse.push(E.slice(x+1,l)),x=l}return x!==E.length?A(x,6,"Found superfluous content after tag"):p;function A(_,O,G){return T.warning&&T.warning(G,O,_),T.forgiving?p:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var c={}.hasOwnProperty},6713:Pe=>{"use strict";Pe.exports=function(Ie){var D,J,S,r=Ie||{},n=[];if(r.irregular||r.regular)return r.irregular||r.regular;if(r.language)for(n=n.concat(r.language,r.extendedLanguageSubtags||[],r.script||[],r.region||[],r.variants||[]),D=r.extensions||[],J=-1;++J<D.length;)(S=D[J]).singleton&&S.extensions&&S.extensions.length&&(n=n.concat(S.singleton,S.extensions));return r.privateuse&&r.privateuse.length&&(n=n.concat("x",r.privateuse)),n.join("-")}},1549:(Pe,Ie,D)=>{"use strict";var J=D(6693),S=D(2165),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Ie.Buffer=c,Ie.SlowBuffer=function(m){return+m!=m&&(m=0),c.alloc(+m)},Ie.INSPECT_MAX_BYTES=50;var n=2147483647;function d(m){if(m>n)throw new RangeError('The value "'+m+'" is invalid for option "size"');var u=new Uint8Array(m);return Object.setPrototypeOf(u,c.prototype),u}function c(m,u,I){if("number"==typeof m){if("string"==typeof u)throw new TypeError('The "string" argument must be of type string. Received type number');return y(m)}return i(m,u,I)}function i(m,u,I){if("string"==typeof m)return function(V,ye){if("string"==typeof ye&&""!==ye||(ye="utf8"),!c.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);var Le=0|T(V,ye),ke=d(Le),Ce=ke.write(V,ye);return Ce!==Le&&(ke=ke.slice(0,Ce)),ke}(m,u);if(ArrayBuffer.isView(m))return function(V){if(se(V,Uint8Array)){var ye=new Uint8Array(V);return t(ye.buffer,ye.byteOffset,ye.byteLength)}return e(V)}(m);if(null==m)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(se(m,ArrayBuffer)||m&&se(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(m,SharedArrayBuffer)||m&&se(m.buffer,SharedArrayBuffer)))return t(m,u,I);if("number"==typeof m)throw new TypeError('The "value" argument must not be of type number. Received type number');var C=m.valueOf&&m.valueOf();if(null!=C&&C!==m)return c.from(C,u,I);var z=function(V){if(c.isBuffer(V)){var ye=0|l(V.length),Le=d(ye);return 0===Le.length||V.copy(Le,0,0,ye),Le}return void 0!==V.length?"number"!=typeof V.length||fe(V.length)?d(0):e(V):"Buffer"===V.type&&Array.isArray(V.data)?e(V.data):void 0}(m);if(z)return z;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof m[Symbol.toPrimitive])return c.from(m[Symbol.toPrimitive]("string"),u,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}function o(m){if("number"!=typeof m)throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function y(m){return o(m),d(m<0?0:0|l(m))}function e(m){for(var u=m.length<0?0:0|l(m.length),I=d(u),C=0;C<u;C+=1)I[C]=255&m[C];return I}function t(m,u,I){if(u<0||m.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<u+(I||0))throw new RangeError('"length" is outside of buffer bounds');var C;return C=void 0===u&&void 0===I?new Uint8Array(m):void 0===I?new Uint8Array(m,u):new Uint8Array(m,u,I),Object.setPrototypeOf(C,c.prototype),C}function l(m){if(m>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|m}function T(m,u){if(c.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||se(m,ArrayBuffer))return m.byteLength;if("string"!=typeof m)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);var I=m.length,C=arguments.length>2&&!0===arguments[2];if(!C&&0===I)return 0;for(var z=!1;;)switch(u){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return qe(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*I;case"hex":return I>>>1;case"base64":return Ne(m).length;default:if(z)return C?-1:qe(m).length;u=(""+u).toLowerCase(),z=!0}}function p(m,u,I){var C=!1;if((void 0===u||u<0)&&(u=0),u>this.length||((void 0===I||I>this.length)&&(I=this.length),I<=0)||(I>>>=0)<=(u>>>=0))return"";for(m||(m="utf8");;)switch(m){case"hex":return ie(this,u,I);case"utf8":case"utf-8":return pe(this,u,I);case"ascii":return ue(this,u,I);case"latin1":case"binary":return w(this,u,I);case"base64":return ae(this,u,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,u,I);default:if(C)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),C=!0}}function E(m,u,I){var C=m[u];m[u]=m[I],m[I]=C}function b(m,u,I,C,z){if(0===m.length)return-1;if("string"==typeof I?(C=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),fe(I=+I)&&(I=z?0:m.length-1),I<0&&(I=m.length+I),I>=m.length){if(z)return-1;I=m.length-1}else if(I<0){if(!z)return-1;I=0}if("string"==typeof u&&(u=c.from(u,C)),c.isBuffer(u))return 0===u.length?-1:x(m,u,I,C,z);if("number"==typeof u)return u&=255,"function"==typeof Uint8Array.prototype.indexOf?z?Uint8Array.prototype.indexOf.call(m,u,I):Uint8Array.prototype.lastIndexOf.call(m,u,I):x(m,[u],I,C,z);throw new TypeError("val must be string, number or Buffer")}function x(m,u,I,C,z){var V,ye=1,Le=m.length,ke=u.length;if(void 0!==C&&("ucs2"===(C=String(C).toLowerCase())||"ucs-2"===C||"utf16le"===C||"utf-16le"===C)){if(m.length<2||u.length<2)return-1;ye=2,Le/=2,ke/=2,I/=2}function Ce(ht,ft){return 1===ye?ht[ft]:ht.readUInt16BE(ft*ye)}if(z){var Ve=-1;for(V=I;V<Le;V++)if(Ce(m,V)===Ce(u,-1===Ve?0:V-Ve)){if(-1===Ve&&(Ve=V),V-Ve+1===ke)return Ve*ye}else-1!==Ve&&(V-=V-Ve),Ve=-1}else for(I+ke>Le&&(I=Le-ke),V=I;V>=0;V--){for(var Ke=!0,nt=0;nt<ke;nt++)if(Ce(m,V+nt)!==Ce(u,nt)){Ke=!1;break}if(Ke)return V}return-1}function A(m,u,I,C){I=Number(I)||0;var z=m.length-I;C?(C=Number(C))>z&&(C=z):C=z;var V=u.length;C>V/2&&(C=V/2);for(var ye=0;ye<C;++ye){var Le=parseInt(u.substr(2*ye,2),16);if(fe(Le))return ye;m[I+ye]=Le}return ye}function _(m,u,I,C){return Be(qe(u,m.length-I),m,I,C)}function O(m,u,I,C){return Be(function(z){for(var V=[],ye=0;ye<z.length;++ye)V.push(255&z.charCodeAt(ye));return V}(u),m,I,C)}function G(m,u,I,C){return Be(Ne(u),m,I,C)}function j(m,u,I,C){return Be(function(z,V){for(var ye,Le,Ce=[],Ve=0;Ve<z.length&&!((V-=2)<0);++Ve)Le=(ye=z.charCodeAt(Ve))>>8,Ce.push(ye%256),Ce.push(Le);return Ce}(u,m.length-I),m,I,C)}function ae(m,u,I){return J.fromByteArray(0===u&&I===m.length?m:m.slice(u,I))}function pe(m,u,I){I=Math.min(m.length,I);for(var C=[],z=u;z<I;){var V,ye,Le,ke,Ce=m[z],Ve=null,Ke=Ce>239?4:Ce>223?3:Ce>191?2:1;if(z+Ke<=I)switch(Ke){case 1:Ce<128&&(Ve=Ce);break;case 2:128==(192&(V=m[z+1]))&&(ke=(31&Ce)<<6|63&V)>127&&(Ve=ke);break;case 3:ye=m[z+2],128==(192&(V=m[z+1]))&&128==(192&ye)&&(ke=(15&Ce)<<12|(63&V)<<6|63&ye)>2047&&(ke<55296||ke>57343)&&(Ve=ke);break;case 4:ye=m[z+2],Le=m[z+3],128==(192&(V=m[z+1]))&&128==(192&ye)&&128==(192&Le)&&(ke=(15&Ce)<<18|(63&V)<<12|(63&ye)<<6|63&Le)>65535&&ke<1114112&&(Ve=ke)}null===Ve?(Ve=65533,Ke=1):Ve>65535&&(C.push((Ve-=65536)>>>10&1023|55296),Ve=56320|1023&Ve),C.push(Ve),z+=Ke}return function(nt){var ht=nt.length;if(ht<=g)return String.fromCharCode.apply(String,nt);for(var ft="",Ct=0;Ct<ht;)ft+=String.fromCharCode.apply(String,nt.slice(Ct,Ct+=g));return ft}(C)}Ie.kMaxLength=n,(c.TYPED_ARRAY_SUPPORT=function(){try{var m=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(m,u),42===m.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(m,u,I){return i(m,u,I)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(m,u,I){return z=u,V=I,o(C=m),C<=0?d(C):void 0!==z?"string"==typeof V?d(C).fill(z,V):d(C).fill(z):d(C);var C,z,V},c.allocUnsafe=function(m){return y(m)},c.allocUnsafeSlow=function(m){return y(m)},c.isBuffer=function(m){return null!=m&&!0===m._isBuffer&&m!==c.prototype},c.compare=function(m,u){if(se(m,Uint8Array)&&(m=c.from(m,m.offset,m.byteLength)),se(u,Uint8Array)&&(u=c.from(u,u.offset,u.byteLength)),!c.isBuffer(m)||!c.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===u)return 0;for(var I=m.length,C=u.length,z=0,V=Math.min(I,C);z<V;++z)if(m[z]!==u[z]){I=m[z],C=u[z];break}return I<C?-1:C<I?1:0},c.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(m,u){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(0===m.length)return c.alloc(0);var I;if(void 0===u)for(u=0,I=0;I<m.length;++I)u+=m[I].length;var C=c.allocUnsafe(u),z=0;for(I=0;I<m.length;++I){var V=m[I];if(se(V,Uint8Array))z+V.length>C.length?c.from(V).copy(C,z):Uint8Array.prototype.set.call(C,V,z);else{if(!c.isBuffer(V))throw new TypeError('"list" argument must be an Array of Buffers');V.copy(C,z)}z+=V.length}return C},c.byteLength=T,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var m=this.length;if(m%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var u=0;u<m;u+=2)E(this,u,u+1);return this},c.prototype.swap32=function(){var m=this.length;if(m%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var u=0;u<m;u+=4)E(this,u,u+3),E(this,u+1,u+2);return this},c.prototype.swap64=function(){var m=this.length;if(m%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var u=0;u<m;u+=8)E(this,u,u+7),E(this,u+1,u+6),E(this,u+2,u+5),E(this,u+3,u+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var m=this.length;return 0===m?"":0===arguments.length?pe(this,0,m):p.apply(this,arguments)},c.prototype.equals=function(m){if(!c.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m||0===c.compare(this,m)},c.prototype.inspect=function(){var m="",u=Ie.INSPECT_MAX_BYTES;return m=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(m+=" ... "),"<Buffer "+m+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(m,u,I,C,z){if(se(m,Uint8Array)&&(m=c.from(m,m.offset,m.byteLength)),!c.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(void 0===u&&(u=0),void 0===I&&(I=m?m.length:0),void 0===C&&(C=0),void 0===z&&(z=this.length),u<0||I>m.length||C<0||z>this.length)throw new RangeError("out of range index");if(C>=z&&u>=I)return 0;if(C>=z)return-1;if(u>=I)return 1;if(this===m)return 0;for(var V=(z>>>=0)-(C>>>=0),ye=(I>>>=0)-(u>>>=0),Le=Math.min(V,ye),ke=this.slice(C,z),Ce=m.slice(u,I),Ve=0;Ve<Le;++Ve)if(ke[Ve]!==Ce[Ve]){V=ke[Ve],ye=Ce[Ve];break}return V<ye?-1:ye<V?1:0},c.prototype.includes=function(m,u,I){return-1!==this.indexOf(m,u,I)},c.prototype.indexOf=function(m,u,I){return b(this,m,u,I,!0)},c.prototype.lastIndexOf=function(m,u,I){return b(this,m,u,I,!1)},c.prototype.write=function(m,u,I,C){if(void 0===u)C="utf8",I=this.length,u=0;else if(void 0===I&&"string"==typeof u)C=u,I=this.length,u=0;else{if(!isFinite(u))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");u>>>=0,isFinite(I)?(I>>>=0,void 0===C&&(C="utf8")):(C=I,I=void 0)}var z=this.length-u;if((void 0===I||I>z)&&(I=z),m.length>0&&(I<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");for(var V=!1;;)switch(C){case"hex":return A(this,m,u,I);case"utf8":case"utf-8":return _(this,m,u,I);case"ascii":case"latin1":case"binary":return O(this,m,u,I);case"base64":return G(this,m,u,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,m,u,I);default:if(V)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),V=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var g=4096;function ue(m,u,I){var C="";I=Math.min(m.length,I);for(var z=u;z<I;++z)C+=String.fromCharCode(127&m[z]);return C}function w(m,u,I){var C="";I=Math.min(m.length,I);for(var z=u;z<I;++z)C+=String.fromCharCode(m[z]);return C}function ie(m,u,I){var C=m.length;(!u||u<0)&&(u=0),(!I||I<0||I>C)&&(I=C);for(var z="",V=u;V<I;++V)z+=Ge[m[V]];return z}function ee(m,u,I){for(var C=m.slice(u,I),z="",V=0;V<C.length-1;V+=2)z+=String.fromCharCode(C[V]+256*C[V+1]);return z}function le(m,u,I){if(m%1!=0||m<0)throw new RangeError("offset is not uint");if(m+u>I)throw new RangeError("Trying to access beyond buffer length")}function be(m,u,I,C,z,V){if(!c.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>z||u<V)throw new RangeError('"value" argument is out of bounds');if(I+C>m.length)throw new RangeError("Index out of range")}function Re(m,u,I,C,z,V){if(I+C>m.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function we(m,u,I,C,z){return u=+u,I>>>=0,z||Re(m,0,I,4),S.write(m,u,I,C,23,4),I+4}function ce(m,u,I,C,z){return u=+u,I>>>=0,z||Re(m,0,I,8),S.write(m,u,I,C,52,8),I+8}c.prototype.slice=function(m,u){var I=this.length;(m=~~m)<0?(m+=I)<0&&(m=0):m>I&&(m=I),(u=void 0===u?I:~~u)<0?(u+=I)<0&&(u=0):u>I&&(u=I),u<m&&(u=m);var C=this.subarray(m,u);return Object.setPrototypeOf(C,c.prototype),C},c.prototype.readUintLE=c.prototype.readUIntLE=function(m,u,I){m>>>=0,u>>>=0,I||le(m,u,this.length);for(var C=this[m],z=1,V=0;++V<u&&(z*=256);)C+=this[m+V]*z;return C},c.prototype.readUintBE=c.prototype.readUIntBE=function(m,u,I){m>>>=0,u>>>=0,I||le(m,u,this.length);for(var C=this[m+--u],z=1;u>0&&(z*=256);)C+=this[m+--u]*z;return C},c.prototype.readUint8=c.prototype.readUInt8=function(m,u){return m>>>=0,u||le(m,1,this.length),this[m]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(m,u){return m>>>=0,u||le(m,2,this.length),this[m]|this[m+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(m,u){return m>>>=0,u||le(m,2,this.length),this[m]<<8|this[m+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(m,u){return m>>>=0,u||le(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(m,u){return m>>>=0,u||le(m,4,this.length),16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])},c.prototype.readIntLE=function(m,u,I){m>>>=0,u>>>=0,I||le(m,u,this.length);for(var C=this[m],z=1,V=0;++V<u&&(z*=256);)C+=this[m+V]*z;return C>=(z*=128)&&(C-=Math.pow(2,8*u)),C},c.prototype.readIntBE=function(m,u,I){m>>>=0,u>>>=0,I||le(m,u,this.length);for(var C=u,z=1,V=this[m+--C];C>0&&(z*=256);)V+=this[m+--C]*z;return V>=(z*=128)&&(V-=Math.pow(2,8*u)),V},c.prototype.readInt8=function(m,u){return m>>>=0,u||le(m,1,this.length),128&this[m]?-1*(255-this[m]+1):this[m]},c.prototype.readInt16LE=function(m,u){m>>>=0,u||le(m,2,this.length);var I=this[m]|this[m+1]<<8;return 32768&I?4294901760|I:I},c.prototype.readInt16BE=function(m,u){m>>>=0,u||le(m,2,this.length);var I=this[m+1]|this[m]<<8;return 32768&I?4294901760|I:I},c.prototype.readInt32LE=function(m,u){return m>>>=0,u||le(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},c.prototype.readInt32BE=function(m,u){return m>>>=0,u||le(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},c.prototype.readFloatLE=function(m,u){return m>>>=0,u||le(m,4,this.length),S.read(this,m,!0,23,4)},c.prototype.readFloatBE=function(m,u){return m>>>=0,u||le(m,4,this.length),S.read(this,m,!1,23,4)},c.prototype.readDoubleLE=function(m,u){return m>>>=0,u||le(m,8,this.length),S.read(this,m,!0,52,8)},c.prototype.readDoubleBE=function(m,u){return m>>>=0,u||le(m,8,this.length),S.read(this,m,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(m,u,I,C){m=+m,u>>>=0,I>>>=0,C||be(this,m,u,I,Math.pow(2,8*I)-1,0);var z=1,V=0;for(this[u]=255&m;++V<I&&(z*=256);)this[u+V]=m/z&255;return u+I},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(m,u,I,C){m=+m,u>>>=0,I>>>=0,C||be(this,m,u,I,Math.pow(2,8*I)-1,0);var z=I-1,V=1;for(this[u+z]=255&m;--z>=0&&(V*=256);)this[u+z]=m/V&255;return u+I},c.prototype.writeUint8=c.prototype.writeUInt8=function(m,u,I){return m=+m,u>>>=0,I||be(this,m,u,1,255,0),this[u]=255&m,u+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(m,u,I){return m=+m,u>>>=0,I||be(this,m,u,2,65535,0),this[u]=255&m,this[u+1]=m>>>8,u+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(m,u,I){return m=+m,u>>>=0,I||be(this,m,u,2,65535,0),this[u]=m>>>8,this[u+1]=255&m,u+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(m,u,I){return m=+m,u>>>=0,I||be(this,m,u,4,4294967295,0),this[u+3]=m>>>24,this[u+2]=m>>>16,this[u+1]=m>>>8,this[u]=255&m,u+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(m,u,I){return m=+m,u>>>=0,I||be(this,m,u,4,4294967295,0),this[u]=m>>>24,this[u+1]=m>>>16,this[u+2]=m>>>8,this[u+3]=255&m,u+4},c.prototype.writeIntLE=function(m,u,I,C){if(m=+m,u>>>=0,!C){var z=Math.pow(2,8*I-1);be(this,m,u,I,z-1,-z)}var V=0,ye=1,Le=0;for(this[u]=255&m;++V<I&&(ye*=256);)m<0&&0===Le&&0!==this[u+V-1]&&(Le=1),this[u+V]=(m/ye>>0)-Le&255;return u+I},c.prototype.writeIntBE=function(m,u,I,C){if(m=+m,u>>>=0,!C){var z=Math.pow(2,8*I-1);be(this,m,u,I,z-1,-z)}var V=I-1,ye=1,Le=0;for(this[u+V]=255&m;--V>=0&&(ye*=256);)m<0&&0===Le&&0!==this[u+V+1]&&(Le=1),this[u+V]=(m/ye>>0)-Le&255;return u+I},c.prototype.writeInt8=function(m,u,I){return m=+m,u>>>=0,I||be(this,m,u,1,127,-128),m<0&&(m=255+m+1),this[u]=255&m,u+1},c.prototype.writeInt16LE=function(m,u,I){return m=+m,u>>>=0,I||be(this,m,u,2,32767,-32768),this[u]=255&m,this[u+1]=m>>>8,u+2},c.prototype.writeInt16BE=function(m,u,I){return m=+m,u>>>=0,I||be(this,m,u,2,32767,-32768),this[u]=m>>>8,this[u+1]=255&m,u+2},c.prototype.writeInt32LE=function(m,u,I){return m=+m,u>>>=0,I||be(this,m,u,4,2147483647,-2147483648),this[u]=255&m,this[u+1]=m>>>8,this[u+2]=m>>>16,this[u+3]=m>>>24,u+4},c.prototype.writeInt32BE=function(m,u,I){return m=+m,u>>>=0,I||be(this,m,u,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[u]=m>>>24,this[u+1]=m>>>16,this[u+2]=m>>>8,this[u+3]=255&m,u+4},c.prototype.writeFloatLE=function(m,u,I){return we(this,m,u,!0,I)},c.prototype.writeFloatBE=function(m,u,I){return we(this,m,u,!1,I)},c.prototype.writeDoubleLE=function(m,u,I){return ce(this,m,u,!0,I)},c.prototype.writeDoubleBE=function(m,u,I){return ce(this,m,u,!1,I)},c.prototype.copy=function(m,u,I,C){if(!c.isBuffer(m))throw new TypeError("argument should be a Buffer");if(I||(I=0),C||0===C||(C=this.length),u>=m.length&&(u=m.length),u||(u=0),C>0&&C<I&&(C=I),C===I||0===m.length||0===this.length)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),m.length-u<C-I&&(C=m.length-u+I);var z=C-I;return this===m&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(u,I,C):Uint8Array.prototype.set.call(m,this.subarray(I,C),u),z},c.prototype.fill=function(m,u,I,C){if("string"==typeof m){if("string"==typeof u?(C=u,u=0,I=this.length):"string"==typeof I&&(C=I,I=this.length),void 0!==C&&"string"!=typeof C)throw new TypeError("encoding must be a string");if("string"==typeof C&&!c.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(1===m.length){var z=m.charCodeAt(0);("utf8"===C&&z<128||"latin1"===C)&&(m=z)}}else"number"==typeof m?m&=255:"boolean"==typeof m&&(m=Number(m));if(u<0||this.length<u||this.length<I)throw new RangeError("Out of range index");if(I<=u)return this;var V;if(u>>>=0,I=void 0===I?this.length:I>>>0,m||(m=0),"number"==typeof m)for(V=u;V<I;++V)this[V]=m;else{var ye=c.isBuffer(m)?m:c.from(m,C),Le=ye.length;if(0===Le)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(V=0;V<I-u;++V)this[V+u]=ye[V%Le]}return this};var Oe=/[^+/0-9A-Za-z-_]/g;function qe(m,u){var I;u=u||1/0;for(var C=m.length,z=null,V=[],ye=0;ye<C;++ye){if((I=m.charCodeAt(ye))>55295&&I<57344){if(!z){if(I>56319){(u-=3)>-1&&V.push(239,191,189);continue}if(ye+1===C){(u-=3)>-1&&V.push(239,191,189);continue}z=I;continue}if(I<56320){(u-=3)>-1&&V.push(239,191,189),z=I;continue}I=65536+(z-55296<<10|I-56320)}else z&&(u-=3)>-1&&V.push(239,191,189);if(z=null,I<128){if((u-=1)<0)break;V.push(I)}else if(I<2048){if((u-=2)<0)break;V.push(I>>6|192,63&I|128)}else if(I<65536){if((u-=3)<0)break;V.push(I>>12|224,I>>6&63|128,63&I|128)}else{if(!(I<1114112))throw new Error("Invalid code point");if((u-=4)<0)break;V.push(I>>18|240,I>>12&63|128,I>>6&63|128,63&I|128)}}return V}function Ne(m){return J.toByteArray(function(u){if((u=(u=u.split("=")[0]).trim().replace(Oe,"")).length<2)return"";for(;u.length%4!=0;)u+="=";return u}(m))}function Be(m,u,I,C){for(var z=0;z<C&&!(z+I>=u.length||z>=m.length);++z)u[z+I]=m[z];return z}function se(m,u){return m instanceof u||null!=m&&null!=m.constructor&&null!=m.constructor.name&&m.constructor.name===u.name}function fe(m){return m!=m}var Ge=function(){for(var m="0123456789abcdef",u=new Array(256),I=0;I<16;++I)for(var C=16*I,z=0;z<16;++z)u[C+z]=m[I]+m[z];return u}()},6693:(Pe,Ie)=>{"use strict";Ie.byteLength=function(o){var y=c(o),t=y[1];return 3*(y[0]+t)/4-t},Ie.toByteArray=function(o){var y,e,_,t=c(o),l=t[0],T=t[1],p=new S(3*(l+(_=T))/4-_),E=0,b=T>0?l-4:l;for(e=0;e<b;e+=4)y=J[o.charCodeAt(e)]<<18|J[o.charCodeAt(e+1)]<<12|J[o.charCodeAt(e+2)]<<6|J[o.charCodeAt(e+3)],p[E++]=y>>16&255,p[E++]=y>>8&255,p[E++]=255&y;return 2===T&&(y=J[o.charCodeAt(e)]<<2|J[o.charCodeAt(e+1)]>>4,p[E++]=255&y),1===T&&(y=J[o.charCodeAt(e)]<<10|J[o.charCodeAt(e+1)]<<4|J[o.charCodeAt(e+2)]>>2,p[E++]=y>>8&255,p[E++]=255&y),p},Ie.fromByteArray=function(o){for(var y,e=o.length,t=e%3,l=[],T=16383,p=0,E=e-t;p<E;p+=T)l.push(i(o,p,p+T>E?E:p+T));return 1===t?l.push(D[(y=o[e-1])>>2]+D[y<<4&63]+"=="):2===t&&l.push(D[(y=(o[e-2]<<8)+o[e-1])>>10]+D[y>>4&63]+D[y<<2&63]+"="),l.join("")};for(var D=[],J=[],S=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0;n<64;++n)D[n]=r[n],J[r.charCodeAt(n)]=n;function c(o){var y=o.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=o.indexOf("=");return-1===e&&(e=y),[e,e===y?0:4-e%4]}function i(o,y,e){for(var l,T=[],p=y;p<e;p+=3)T.push(D[(l=(o[p]<<16&16711680)+(o[p+1]<<8&65280)+(255&o[p+2]))>>18&63]+D[l>>12&63]+D[l>>6&63]+D[63&l]);return T.join("")}J["-".charCodeAt(0)]=62,J["_".charCodeAt(0)]=63},2165:(Pe,Ie)=>{Ie.read=function(D,J,S,r,n){var d,c,i=8*n-r-1,o=(1<<i)-1,y=o>>1,e=-7,t=S?n-1:0,l=S?-1:1,T=D[J+t];for(t+=l,d=T&(1<<-e)-1,T>>=-e,e+=i;e>0;d=256*d+D[J+t],t+=l,e-=8);for(c=d&(1<<-e)-1,d>>=-e,e+=r;e>0;c=256*c+D[J+t],t+=l,e-=8);if(0===d)d=1-y;else{if(d===o)return c?NaN:1/0*(T?-1:1);c+=Math.pow(2,r),d-=y}return(T?-1:1)*c*Math.pow(2,d-r)},Ie.write=function(D,J,S,r,n,d){var c,i,o,y=8*d-n-1,e=(1<<y)-1,t=e>>1,l=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,T=r?0:d-1,p=r?1:-1,E=J<0||0===J&&1/J<0?1:0;for(J=Math.abs(J),isNaN(J)||J===1/0?(i=isNaN(J)?1:0,c=e):(c=Math.floor(Math.log(J)/Math.LN2),J*(o=Math.pow(2,-c))<1&&(c--,o*=2),(J+=c+t>=1?l/o:l*Math.pow(2,1-t))*o>=2&&(c++,o/=2),c+t>=e?(i=0,c=e):c+t>=1?(i=(J*o-1)*Math.pow(2,n),c+=t):(i=J*Math.pow(2,t-1)*Math.pow(2,n),c=0));n>=8;D[S+T]=255&i,T+=p,i/=256,n-=8);for(c=c<<n|i,y+=n;y>0;D[S+T]=255&c,T+=p,c/=256,y-=8);D[S+T-p]|=128*E}},6934:(Pe,Ie)=>{var D={parseBuffer:function(r){return new J(r).parse()},addBoxProcessor:function(r,n){"string"==typeof r&&"function"==typeof n&&(S.prototype._boxProcessors[r]=n)},createFile:function(){return new J},createBox:function(r,n,d){var c=S.create(r);return n&&n.append(c,d),c},createFullBox:function(r,n,d){var c=D.createBox(r,n,d);return c.version=0,c.flags=0,c},Utils:{}};D.Utils.dataViewToString=function(r,n){var d=n||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(d).decode(r);var c=[],i=0;if("utf-8"===d)for(;i<r.byteLength;){var o=r.getUint8(i++);o<128||(o<224?(o=(31&o)<<6,o|=63&r.getUint8(i++)):o<240?(o=(15&o)<<12,o|=(63&r.getUint8(i++))<<6,o|=63&r.getUint8(i++)):(o=(7&o)<<18,o|=(63&r.getUint8(i++))<<12,o|=(63&r.getUint8(i++))<<6,o|=63&r.getUint8(i++))),c.push(String.fromCharCode(o))}else for(;i<r.byteLength;)c.push(String.fromCharCode(r.getUint8(i++)));return c.join("")},D.Utils.utf8ToByteArray=function(r){var n,d;if(typeof TextEncoder<"u")n=(new TextEncoder).encode(r);else for(n=[],d=0;d<r.length;++d){var c=r.charCodeAt(d);c<128?n.push(c):c<2048?(n.push(192|c>>6),n.push(128|63&c)):c<65536?(n.push(224|c>>12),n.push(128|63&c>>6),n.push(128|63&c)):(n.push(240|c>>18),n.push(128|63&c>>12),n.push(128|63&c>>6),n.push(128|63&c))}return n},D.Utils.appendBox=function(r,n,d){if(n._offset=r._cursor.offset,n._root=r._root?r._root:r,n._raw=r._raw,n._parent=r,-1!==d)if(null!=d){var c,i=-1;if("number"==typeof d)i=d;else{if("string"==typeof d)c=d;else{if("object"!=typeof d||!d.type)return void r.boxes.push(n);c=d.type}for(var o=0;o<r.boxes.length;o++)if(c===r.boxes[o].type){i=o+1;break}}r.boxes.splice(i,0,n)}else r.boxes.push(n)},Ie.parseBuffer=D.parseBuffer,Ie.addBoxProcessor=D.addBoxProcessor,Ie.createFile=D.createFile,Ie.createBox=D.createBox,Ie.createFullBox=D.createFullBox,Ie.Utils=D.Utils,D.Cursor=function(r){this.offset=void 0===r?0:r};var J=function(r){this._cursor=new D.Cursor,this.boxes=[],r&&(this._raw=new DataView(r))};J.prototype.fetch=function(r){var n=this.fetchAll(r,!0);return n.length?n[0]:null},J.prototype.fetchAll=function(r,n){var d=[];return J._sweep.call(this,r,d,n),d},J.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var r=S.parse(this);if(void 0===r.type)break;this.boxes.push(r)}return this},J._sweep=function(r,n,d){for(var c in this.type&&this.type==r&&n.push(this),this.boxes){if(n.length&&d)return;J._sweep.call(this.boxes[c],r,n,d)}},J.prototype.write=function(){var r,n=0;for(r=0;r<this.boxes.length;r++)n+=this.boxes[r].getLength(!1);var d=new Uint8Array(n);for(this._rawo=new DataView(d.buffer),this.bytes=d,this._cursor.offset=0,r=0;r<this.boxes.length;r++)this.boxes[r].write();return d.buffer},J.prototype.append=function(r,n){D.Utils.appendBox(this,r,n)};var S=function(){this._cursor=new D.Cursor};S.parse=function(r){var n=new S;return n._offset=r._cursor.offset,n._root=r._root?r._root:r,n._raw=r._raw,n._parent=r,n._parseBox(),r._cursor.offset=n._raw.byteOffset+n._raw.byteLength,n},S.create=function(r){var n=new S;return n.type=r,n.boxes=[],n},S.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],S.prototype._boxProcessors={},S.prototype._procField=function(r,n,d){this._parsing?this[r]=this._readField(n,d):this._writeField(n,d,this[r])},S.prototype._procFieldArray=function(r,n,d,c){var i;if(this._parsing)for(this[r]=[],i=0;i<n;i++)this[r][i]=this._readField(d,c);else for(i=0;i<this[r].length;i++)this._writeField(d,c,this[r][i])},S.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},S.prototype._procEntries=function(r,n,d){var c;if(this._parsing)for(this[r]=[],c=0;c<n;c++)this[r].push({}),d.call(this,this[r][c]);else for(c=0;c<n;c++)d.call(this,this[r][c])},S.prototype._procSubEntries=function(r,n,d,c){var i;if(this._parsing)for(r[n]=[],i=0;i<d;i++)r[n].push({}),c.call(this,r[n][i]);else for(i=0;i<d;i++)c.call(this,r[n][i])},S.prototype._procEntryField=function(r,n,d,c){this._parsing?r[n]=this._readField(d,c):this._writeField(d,c,r[n])},S.prototype._procSubBoxes=function(r,n){var d;if(this._parsing)for(this[r]=[],d=0;d<n;d++)this[r].push(S.parse(this));else for(d=0;d<n;d++)this._rawo?this[r][d].write():this.size+=this[r][d].getLength()},S.prototype._readField=function(r,n){switch(r){case"uint":return this._readUint(n);case"int":return this._readInt(n);case"template":return this._readTemplate(n);case"string":return-1===n?this._readTerminatedString():this._readString(n);case"data":return this._readData(n);case"utf8":return this._readUTF8String();default:return-1}},S.prototype._readInt=function(r){var n=null,d=this._cursor.offset-this._raw.byteOffset;switch(r){case 8:n=this._raw.getInt8(d);break;case 16:n=this._raw.getInt16(d);break;case 32:n=this._raw.getInt32(d);break;case 64:var c=this._raw.getInt32(d),i=this._raw.getInt32(d+4);n=c*Math.pow(2,32)+i}return this._cursor.offset+=r>>3,n},S.prototype._readUint=function(r){var n,d,c=null,i=this._cursor.offset-this._raw.byteOffset;switch(r){case 8:c=this._raw.getUint8(i);break;case 16:c=this._raw.getUint16(i);break;case 24:c=((n=this._raw.getUint16(i))<<8)+(d=this._raw.getUint8(i+2));break;case 32:c=this._raw.getUint32(i);break;case 64:n=this._raw.getUint32(i),d=this._raw.getUint32(i+4),c=n*Math.pow(2,32)+d}return this._cursor.offset+=r>>3,c},S.prototype._readString=function(r){for(var n="",d=0;d<r;d++){var c=this._readUint(8);n+=String.fromCharCode(c)}return n},S.prototype._readTemplate=function(r){return this._readUint(r/2)+this._readUint(r/2)/Math.pow(2,r/2)},S.prototype._readTerminatedString=function(){for(var r="";this._cursor.offset-this._offset<this._raw.byteLength;){var n=this._readUint(8);if(0===n)break;r+=String.fromCharCode(n)}return r},S.prototype._readData=function(r){var n=r>0?r:this._raw.byteLength-(this._cursor.offset-this._offset);if(n>0){var d=new Uint8Array(this._raw.buffer,this._cursor.offset,n);return this._cursor.offset+=n,d}return null},S.prototype._readUTF8String=function(){var r=this._raw.byteLength-(this._cursor.offset-this._offset),n=null;return r>0&&(n=new DataView(this._raw.buffer,this._cursor.offset,r),this._cursor.offset+=r),n&&D.Utils.dataViewToString(n)},S.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},S.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},S.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(S.parse(this))},S.prototype.append=function(r,n){D.Utils.appendBox(this,r,n)},S.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var r=0;r<this.boxes.length;r++)this.size+=this.boxes[r].getLength();return this._data&&this._writeData(this._data),this.size},S.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var r=0;r<this.boxes.length;r++)this.boxes[r].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},S.prototype._writeInt=function(r,n){if(this._rawo){var d=this._cursor.offset-this._rawo.byteOffset;switch(r){case 8:this._rawo.setInt8(d,n);break;case 16:this._rawo.setInt16(d,n);break;case 32:this._rawo.setInt32(d,n);break;case 64:var c=Math.floor(n/Math.pow(2,32)),i=n-c*Math.pow(2,32);this._rawo.setUint32(d,c),this._rawo.setUint32(d+4,i)}this._cursor.offset+=r>>3}else this.size+=r>>3},S.prototype._writeUint=function(r,n){if(this._rawo){var d,c,i=this._cursor.offset-this._rawo.byteOffset;switch(r){case 8:this._rawo.setUint8(i,n);break;case 16:this._rawo.setUint16(i,n);break;case 24:c=255&n,this._rawo.setUint16(i,d=(16776960&n)>>8),this._rawo.setUint8(i+2,c);break;case 32:this._rawo.setUint32(i,n);break;case 64:c=n-(d=Math.floor(n/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(i,d),this._rawo.setUint32(i+4,c)}this._cursor.offset+=r>>3}else this.size+=r>>3},S.prototype._writeString=function(r,n){for(var d=0;d<r;d++)this._writeUint(8,n.charCodeAt(d))},S.prototype._writeTerminatedString=function(r){if(0!==r.length){for(var n=0;n<r.length;n++)this._writeUint(8,r.charCodeAt(n));this._writeUint(8,0)}},S.prototype._writeTemplate=function(r,n){var d=Math.floor(n),c=(n-d)*Math.pow(2,r/2);this._writeUint(r/2,d),this._writeUint(r/2,c)},S.prototype._writeData=function(r){if(r)if(this._rawo){if(r instanceof Array){for(var n=this._cursor.offset-this._rawo.byteOffset,d=0;d<r.length;d++)this._rawo.setInt8(n+d,r[d]);this._cursor.offset+=r.length}r instanceof Uint8Array&&(this._root.bytes.set(r,this._cursor.offset),this._cursor.offset+=r.length)}else this.size+=r.length},S.prototype._writeUTF8String=function(r){var n=D.Utils.utf8ToByteArray(r);if(this._rawo)for(var d=new DataView(this._rawo.buffer,this._cursor.offset,n.length),c=0;c<n.length;c++)d.setUint8(c,n[c]);else this.size+=n.length},S.prototype._writeField=function(r,n,d){switch(r){case"uint":this._writeUint(n,d);break;case"int":this._writeInt(n,d);break;case"template":this._writeTemplate(n,d);break;case"string":-1==n?this._writeTerminatedString(d):this._writeString(n,d);break;case"data":this._writeData(d);break;case"utf8":this._writeUTF8String(d)}},S.prototype._boxProcessors.avc1=S.prototype._boxProcessors.avc2=S.prototype._boxProcessors.avc3=S.prototype._boxProcessors.avc4=S.prototype._boxProcessors.hvc1=S.prototype._boxProcessors.hev1=S.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},S.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(r){this._procEntryField(r,"sample_count","uint",32),this._procEntryField(r,"sample_offset",1===this.version?"int":"uint",32)})},S.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},S.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(r){this._procEntryField(r,"segment_duration","uint",1===this.version?64:32),this._procEntryField(r,"media_time","int",1===this.version?64:32),this._procEntryField(r,"media_rate_integer","int",16),this._procEntryField(r,"media_rate_fraction","int",16)})},S.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},S.prototype._boxProcessors.free=S.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},S.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},S.prototype._boxProcessors.ftyp=S.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var r=-1;this._parsing&&(r=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",r,"string",4)},S.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},S.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},S.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},S.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},S.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},S.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},S.prototype._boxProcessors.mp4a=S.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},S.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},S.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},S.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",1==this.version?64:32)},S.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},S.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},S.prototype._boxProcessors.sdtp=function(){this._procFullBox();var r=-1;this._parsing&&(r=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",r,"uint",8)},S.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(r){this._parsing||(r.reference=(1&r.reference_type)<<31,r.reference|=2147483647&r.referenced_size,r.sap=(1&r.starts_with_SAP)<<31,r.sap|=(3&r.SAP_type)<<28,r.sap|=268435455&r.SAP_delta_time),this._procEntryField(r,"reference","uint",32),this._procEntryField(r,"subsegment_duration","uint",32),this._procEntryField(r,"sap","uint",32),this._parsing&&(r.reference_type=r.reference>>31&1,r.referenced_size=2147483647&r.reference,r.starts_with_SAP=r.sap>>31&1,r.SAP_type=r.sap>>28&7,r.SAP_delta_time=268435455&r.sap)})},S.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},S.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(r){this._procEntryField(r,"ranges_count","uint",32),this._procSubEntries(r,"ranges",r.ranges_count,function(n){this._procEntryField(n,"level","uint",8),this._procEntryField(n,"range_size","uint",24)})})},S.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},S.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},S.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(r){this._procEntryField(r,"sample_count","uint",32),this._procEntryField(r,"sample_delta","uint",32)})},S.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(r){this._procEntryField(r,"sample_delta","uint",32),this._procEntryField(r,"subsample_count","uint",16),this._procSubEntries(r,"subsamples",r.subsample_count,function(n){this._procEntryField(n,"subsample_size","uint",1===this.version?32:16),this._procEntryField(n,"subsample_priority","uint",8),this._procEntryField(n,"discardable","uint",8),this._procEntryField(n,"codec_specific_parameters","uint",32)})})},S.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},S.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},S.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},S.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(r){this._procEntryField(r,"time","uint",1===this.version?64:32),this._procEntryField(r,"moof_offset","uint",1===this.version?64:32),this._procEntryField(r,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(r,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(r,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},S.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},S.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},S.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(r){256&this.flags&&this._procEntryField(r,"sample_duration","uint",32),512&this.flags&&this._procEntryField(r,"sample_size","uint",32),1024&this.flags&&this._procEntryField(r,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(r,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},S.prototype._boxProcessors["url "]=S.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},S.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},S.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},S.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},S.prototype._boxProcessors.vtte=function(){}},5530:(Pe,Ie,D)=>{"use strict";Pe.exports=D(6146).polyfill()},6146:function(Pe,Ie,D){Pe.exports=function(){"use strict";function J(Ne){return"function"==typeof Ne}var S=Array.isArray?Array.isArray:function(Ne){return"[object Array]"===Object.prototype.toString.call(Ne)},r=0,n=void 0,d=void 0,c=function(Ne,Be){T[r]=Ne,T[r+1]=Be,2===(r+=2)&&(d?d(p):_())},i=typeof window<"u"?window:void 0,o=i||{},y=o.MutationObserver||o.WebKitMutationObserver,e=typeof self>"u"&&typeof process<"u"&&"[object process]"==={}.toString.call(process),t=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function l(){var Ne=setTimeout;return function(){return Ne(p,1)}}var T=new Array(1e3);function p(){for(var Ne=0;Ne<r;Ne+=2)(0,T[Ne])(T[Ne+1]),T[Ne]=void 0,T[Ne+1]=void 0;r=0}var E,b,x,A,_=void 0;function O(Ne,Be){var se=this,fe=new this.constructor(ae);void 0===fe[j]&&ce(fe);var Ge=se._state;if(Ge){var m=arguments[Ge-1];c(function(){return Re(Ge,fe,m,se._result)})}else le(se,fe,Ne,Be);return fe}function G(Ne){if(Ne&&"object"==typeof Ne&&Ne.constructor===this)return Ne;var Be=new this(ae);return ue(Be,Ne),Be}_=e?function(){return process.nextTick(p)}:y?(b=0,x=new y(p),A=document.createTextNode(""),x.observe(A,{characterData:!0}),function(){A.data=b=++b%2}):t?((E=new MessageChannel).port1.onmessage=p,function(){return E.port2.postMessage(0)}):void 0===i?function(){try{var Ne=Function("return this")().require("vertx");return void 0!==(n=Ne.runOnLoop||Ne.runOnContext)?function(){n(p)}:l()}catch{return l()}}():l();var j=Math.random().toString(36).substring(2);function ae(){}var pe=void 0;function g(Ne,Be,se){var fe,Ge;Be.constructor===Ne.constructor&&se===O&&Be.constructor.resolve===G?(fe=Ne,1===(Ge=Be)._state?ie(fe,Ge._result):2===Ge._state?ee(fe,Ge._result):le(Ge,void 0,function(m){return ue(fe,m)},function(m){return ee(fe,m)})):void 0===se?ie(Ne,Be):J(se)?function(fe,Ge,m){c(function(u){var I=!1,C=function(z,V,ye,Le){try{z.call(V,function(z){I||(I=!0,Ge!==z?ue(u,z):ie(u,z))},function(z){I||(I=!0,ee(u,z))})}catch(ke){return ke}}(m,Ge);!I&&C&&(I=!0,ee(u,C))},fe)}(Ne,Be,se):ie(Ne,Be)}function ue(Ne,Be){if(Ne===Be)ee(Ne,new TypeError("You cannot resolve a promise with itself"));else if(Ge=typeof(fe=Be),null===fe||"object"!==Ge&&"function"!==Ge)ie(Ne,Be);else{var se=void 0;try{se=Be.then}catch(m){return void ee(Ne,m)}g(Ne,Be,se)}var fe,Ge}function w(Ne){Ne._onerror&&Ne._onerror(Ne._result),be(Ne)}function ie(Ne,Be){Ne._state===pe&&(Ne._result=Be,Ne._state=1,0!==Ne._subscribers.length&&c(be,Ne))}function ee(Ne,Be){Ne._state===pe&&(Ne._state=2,Ne._result=Be,c(w,Ne))}function le(Ne,Be,se,fe){var Ge=Ne._subscribers,m=Ge.length;Ne._onerror=null,Ge[m]=Be,Ge[m+1]=se,Ge[m+2]=fe,0===m&&Ne._state&&c(be,Ne)}function be(Ne){var Be=Ne._subscribers,se=Ne._state;if(0!==Be.length){for(var fe=void 0,Ge=void 0,m=Ne._result,u=0;u<Be.length;u+=3)Ge=Be[u+se],(fe=Be[u])?Re(se,fe,Ge,m):Ge(m);Ne._subscribers.length=0}}function Re(Ne,Be,se,fe){var Ge=J(se),m=void 0,u=void 0,I=!0;if(Ge){try{m=se(fe)}catch(C){I=!1,u=C}if(Be===m)return void ee(Be,new TypeError("A promises callback cannot return that same promise."))}else m=fe;Be._state!==pe||(Ge&&I?ue(Be,m):!1===I?ee(Be,u):1===Ne?ie(Be,m):2===Ne&&ee(Be,m))}var we=0;function ce(Ne){Ne[j]=we++,Ne._state=void 0,Ne._result=void 0,Ne._subscribers=[]}var Oe=function(){function Ne(Be,se){this._instanceConstructor=Be,this.promise=new Be(ae),this.promise[j]||ce(this.promise),S(se)?(this.length=se.length,this._remaining=se.length,this._result=new Array(this.length),0===this.length?ie(this.promise,this._result):(this.length=this.length||0,this._enumerate(se),0===this._remaining&&ie(this.promise,this._result))):ee(this.promise,new Error("Array Methods must be provided an Array"))}return Ne.prototype._enumerate=function(Be){for(var se=0;this._state===pe&&se<Be.length;se++)this._eachEntry(Be[se],se)},Ne.prototype._eachEntry=function(Be,se){var fe=this._instanceConstructor,Ge=fe.resolve;if(Ge===G){var m=void 0,u=void 0,I=!1;try{m=Be.then}catch(z){I=!0,u=z}if(m===O&&Be._state!==pe)this._settledAt(Be._state,se,Be._result);else if("function"!=typeof m)this._remaining--,this._result[se]=Be;else if(fe===qe){var C=new fe(ae);I?ee(C,u):g(C,Be,m),this._willSettleAt(C,se)}else this._willSettleAt(new fe(function(z){return z(Be)}),se)}else this._willSettleAt(Ge(Be),se)},Ne.prototype._settledAt=function(Be,se,fe){var Ge=this.promise;Ge._state===pe&&(this._remaining--,2===Be?ee(Ge,fe):this._result[se]=fe),0===this._remaining&&ie(Ge,this._result)},Ne.prototype._willSettleAt=function(Be,se){var fe=this;le(Be,void 0,function(Ge){return fe._settledAt(1,se,Ge)},function(Ge){return fe._settledAt(2,se,Ge)})},Ne}(),qe=function(){function Ne(Be){this[j]=we++,this._result=this._state=void 0,this._subscribers=[],ae!==Be&&("function"!=typeof Be&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Ne?function(se,fe){try{fe(function(Ge){ue(se,Ge)},function(Ge){ee(se,Ge)})}catch(Ge){ee(se,Ge)}}(this,Be):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Ne.prototype.catch=function(Be){return this.then(null,Be)},Ne.prototype.finally=function(Be){var fe=this.constructor;return J(Be)?this.then(function(Ge){return fe.resolve(Be()).then(function(){return Ge})},function(Ge){return fe.resolve(Be()).then(function(){throw Ge})}):this.then(Be,Be)},Ne}();return qe.prototype.then=O,qe.all=function(Ne){return new Oe(this,Ne).promise},qe.race=function(Ne){var Be=this;return S(Ne)?new Be(function(se,fe){for(var Ge=Ne.length,m=0;m<Ge;m++)Be.resolve(Ne[m]).then(se,fe)}):new Be(function(se,fe){return fe(new TypeError("You must pass an array to race."))})},qe.resolve=G,qe.reject=function(Ne){var Be=new this(ae);return ee(Be,Ne),Be},qe._setScheduler=function(Ne){d=Ne},qe._setAsap=function(Ne){c=Ne},qe._asap=c,qe.polyfill=function(){var Ne=void 0;if(void 0!==D.g)Ne=D.g;else if(typeof self<"u")Ne=self;else try{Ne=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Be=Ne.Promise;if(Be){var se=null;try{se=Object.prototype.toString.call(Be.resolve())}catch{}if("[object Promise]"===se&&!Be.cast)return}Ne.Promise=qe},qe.Promise=qe,qe}()},1159:Pe=>{"use strict";var Ie,D="object"==typeof Reflect?Reflect:null,J=D&&"function"==typeof D.apply?D.apply:function(p,E,b){return Function.prototype.apply.call(p,E,b)};Ie=D&&"function"==typeof D.ownKeys?D.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var S=Number.isNaN||function(p){return p!=p};function r(){r.init.call(this)}Pe.exports=r,Pe.exports.once=function(p,E){return new Promise(function(b,x){function A(O){p.removeListener(E,_),x(O)}function _(){"function"==typeof p.removeListener&&p.removeListener("error",A),b([].slice.call(arguments))}var O;T(p,E,_,{once:!0}),"error"!==E&&("function"==typeof(O=p).on&&T(O,"error",A,{once:!0}))})},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var n=10;function d(p){if("function"!=typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function c(p){return void 0===p._maxListeners?r.defaultMaxListeners:p._maxListeners}function i(p,E,b,x){var A,_,O;if(d(b),void 0===(_=p._events)?(_=p._events=Object.create(null),p._eventsCount=0):(void 0!==_.newListener&&(p.emit("newListener",E,b.listener?b.listener:b),_=p._events),O=_[E]),void 0===O)O=_[E]=b,++p._eventsCount;else if("function"==typeof O?O=_[E]=x?[b,O]:[O,b]:x?O.unshift(b):O.push(b),(A=c(p))>0&&O.length>A&&!O.warned){O.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=p,j.type=E,j.count=O.length,console&&console.warn&&console.warn(j)}return p}function o(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(p,E,b){var x={fired:!1,wrapFn:void 0,target:p,type:E,listener:b},A=o.bind(x);return A.listener=b,x.wrapFn=A,A}function e(p,E,b){var x=p._events;if(void 0===x)return[];var A=x[E];return void 0===A?[]:"function"==typeof A?b?[A.listener||A]:[A]:b?function(_){for(var O=new Array(_.length),G=0;G<O.length;++G)O[G]=_[G].listener||_[G];return O}(A):l(A,A.length)}function t(p){var E=this._events;if(void 0!==E){var b=E[p];if("function"==typeof b)return 1;if(void 0!==b)return b.length}return 0}function l(p,E){for(var b=new Array(E),x=0;x<E;++x)b[x]=p[x];return b}function T(p,E,b,x){if("function"==typeof p.on)x.once?p.once(E,b):p.on(E,b);else{if("function"!=typeof p.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(E,function A(_){x.once&&p.removeEventListener(E,A),b(_)})}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(p){if("number"!=typeof p||p<0||S(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");n=p}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(p){if("number"!=typeof p||p<0||S(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},r.prototype.getMaxListeners=function(){return c(this)},r.prototype.emit=function(p){for(var E=[],b=1;b<arguments.length;b++)E.push(arguments[b]);var x="error"===p,A=this._events;if(void 0!==A)x=x&&void 0===A.error;else if(!x)return!1;if(x){var _;if(E.length>0&&(_=E[0]),_ instanceof Error)throw _;var O=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw O.context=_,O}var G=A[p];if(void 0===G)return!1;if("function"==typeof G)J(G,this,E);else{var j=G.length,ae=l(G,j);for(b=0;b<j;++b)J(ae[b],this,E)}return!0},r.prototype.on=r.prototype.addListener=function(p,E){return i(this,p,E,!1)},r.prototype.prependListener=function(p,E){return i(this,p,E,!0)},r.prototype.once=function(p,E){return d(E),this.on(p,y(this,p,E)),this},r.prototype.prependOnceListener=function(p,E){return d(E),this.prependListener(p,y(this,p,E)),this},r.prototype.off=r.prototype.removeListener=function(p,E){var b,x,A,_,O;if(d(E),void 0===(x=this._events))return this;if(void 0===(b=x[p]))return this;if(b===E||b.listener===E)0==--this._eventsCount?this._events=Object.create(null):(delete x[p],x.removeListener&&this.emit("removeListener",p,b.listener||E));else if("function"!=typeof b){for(A=-1,_=b.length-1;_>=0;_--)if(b[_]===E||b[_].listener===E){O=b[_].listener,A=_;break}if(A<0)return this;0===A?b.shift():function(G,j){for(;j+1<G.length;j++)G[j]=G[j+1];G.pop()}(b,A),1===b.length&&(x[p]=b[0]),void 0!==x.removeListener&&this.emit("removeListener",p,O||E)}return this},r.prototype.removeAllListeners=function(p){var E,b,x;if(void 0===(b=this._events))return this;if(void 0===b.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==b[p]&&(0==--this._eventsCount?this._events=Object.create(null):delete b[p]),this;if(0===arguments.length){var A,_=Object.keys(b);for(x=0;x<_.length;++x)"removeListener"!==(A=_[x])&&this.removeAllListeners(A);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(E=b[p]))this.removeListener(p,E);else if(void 0!==E)for(x=E.length-1;x>=0;x--)this.removeListener(p,E[x]);return this},r.prototype.listeners=function(p){return e(this,p,!0)},r.prototype.rawListeners=function(p){return e(this,p,!1)},r.listenerCount=function(p,E){return"function"==typeof p.listenerCount?p.listenerCount(E):t.call(p,E)},r.prototype.listenerCount=t,r.prototype.eventNames=function(){return this._eventsCount>0?Ie(this._events):[]}},3101:Pe=>{"use strict";var Ie=Array.isArray,D=Object.keys,J=Object.prototype.hasOwnProperty;Pe.exports=function S(r,n){if(r===n)return!0;if(r&&n&&"object"==typeof r&&"object"==typeof n){var d,c,i,o=Ie(r),y=Ie(n);if(o&&y){if((c=r.length)!=n.length)return!1;for(d=c;0!=d--;)if(!S(r[d],n[d]))return!1;return!0}if(o!=y)return!1;var e=r instanceof Date,t=n instanceof Date;if(e!=t)return!1;if(e&&t)return r.getTime()==n.getTime();var l=r instanceof RegExp,T=n instanceof RegExp;if(l!=T)return!1;if(l&&T)return r.toString()==n.toString();var p=D(r);if((c=p.length)!==D(n).length)return!1;for(d=c;0!=d--;)if(!J.call(n,p[d]))return!1;for(d=c;0!=d--;)if(!S(r[i=p[d]],n[i]))return!1;return!0}return r!=r&&n!=n}},3362:(Pe,Ie,D)=>{!function(J,S,r,n,d){function c(u){if("contents"in u)for(var I=("styleAttrs"in u?u.styleAttrs[n.byName.ruby.qname]:null),C="span"===u.kind&&("container"===I||"textContainer"===I||"baseContainer"===I),z=u.contents.length-1;z>=0;z--)!C||"styleAttrs"in u.contents[z]&&n.byName.ruby.qname in u.contents[z].styleAttrs?c(u.contents[z]):delete u.contents[z]}function i(u,I,C,z){var V=z&&"seq"===z.timeContainer,ye=0;z&&(ye=V&&C?C.end:z.begin),I.begin=I.explicit_begin?I.explicit_begin+ye:ye;var Le=I.begin,ke=null;if("sets"in I)for(var Ce=0;Ce<I.sets.length;Ce++)i(u,I.sets[Ce],ke,I),Le="seq"===I.timeContainer?I.sets[Ce].end:Math.max(Le,I.sets[Ce].end),ke=I.sets[Ce];if("contents"in I){if("contents"in I)for(var Ve=0;Ve<I.contents.length;Ve++)i(u,I.contents[Ve],ke,I),Le="seq"===I.timeContainer?I.contents[Ve].end:Math.max(Le,I.contents[Ve].end),ke=I.contents[Ve]}else Le=V?I.begin:Number.POSITIVE_INFINITY;I.end=null!==I.explicit_end&&null!==I.explicit_dur?Math.min(I.begin+I.explicit_dur,ye+I.explicit_end):null===I.explicit_end&&null!==I.explicit_dur?I.begin+I.explicit_dur:null!==I.explicit_end&&null===I.explicit_dur?ye+I.explicit_end:Le,delete I.explicit_begin,delete I.explicit_dur,delete I.explicit_end,u._registerEvent(I)}function o(u){this.node=u}function y(){this.events=[],this.head=new e,this.body=null}function e(){this.styling=new t,this.layout=new p}function t(){this.styles={},this.initials={}}function l(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function T(){this.styleAttrs=null}function p(){this.regions={}}function E(u,I){b.call(this,"image"),this.src=u,this.type=I}function b(u){this.kind=u}function x(u){this.id=u}function A(u){this.regionID=u}function _(u){this.styleAttrs=u}function O(u){this.sets=u}function G(u){this.contents=u}function j(u,I,C){this.explicit_begin=u,this.explicit_end=I,this.explicit_dur=C}function ae(){b.call(this,"body")}function pe(){b.call(this,"div")}function g(){b.call(this,"p")}function ue(){b.call(this,"span")}function w(){b.call(this,"span")}function ie(){b.call(this,"br")}function ee(){}function le(){}function be(u){return u&&"xml:id"in u.attributes&&u.attributes["xml:id"].value||null}function Re(u){return u&&"style"in u.attributes?u.attributes.style.value.split(" "):[]}function we(u,I){var C={};if(null!==u)for(var z in u.attributes){var V=u.attributes[z].uri+" "+u.attributes[z].local,ye=n.byQName[V];if(void 0!==ye){var Le=ye.parse(u.attributes[z].value);null!==Le?(C[V]=Le,ye===n.byName.zIndex&&se(I,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):fe(I,"Cannot parse styling attribute "+V+" --\x3e "+u.attributes[z].value)}}return C}function ce(u,I,C){for(var z in u.attributes)if(u.attributes[z].uri===I&&u.attributes[z].local===C)return u.attributes[z].value;return null}function Oe(u,I,C){var z,V=null;return null!==(z=/^(\d+(?:\.\d+)?)f$/.exec(C))?null!==I&&(V=parseFloat(z[1])/I):null!==(z=/^(\d+(?:\.\d+)?)t$/.exec(C))?null!==u&&(V=parseFloat(z[1])/u):null!==(z=/^(\d+(?:\.\d+)?)ms$/.exec(C))?V=parseFloat(z[1])/1e3:null!==(z=/^(\d+(?:\.\d+)?)s$/.exec(C))?V=parseFloat(z[1]):null!==(z=/^(\d+(?:\.\d+)?)h$/.exec(C))?V=3600*parseFloat(z[1]):null!==(z=/^(\d+(?:\.\d+)?)m$/.exec(C))?V=60*parseFloat(z[1]):null!==(z=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(C))?V=3600*parseInt(z[1])+60*parseInt(z[2])+parseFloat(z[3]):null!==(z=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(C))&&null!==I&&(V=3600*parseInt(z[1])+60*parseInt(z[2])+parseInt(z[3])+(null===z[4]?0:parseInt(z[4])/I)),V}function qe(u,I,C){for(;I.styleRefs.length>0;){var z=I.styleRefs.pop();z in u.styles?(qe(u,u.styles[z],C),Be(u.styles[z].styleAttrs,I.styleAttrs)):fe(C,"Non-existant style id referenced")}}function Ne(u,I,C,z){for(var V=I.length-1;V>=0;V--){var ye=I[V];ye in u.styles?Be(u.styles[ye].styleAttrs,C):fe(z,"Non-existant style id referenced")}}function Be(u,I){for(var C in u)u.hasOwnProperty(C)&&(C in I||(I[C]=u[C]))}function se(u,I){if(u&&u.warn&&u.warn(I))throw I}function fe(u,I){if(u&&u.error&&u.error(I))throw I}function Ge(u,I){throw u&&u.fatal&&u.fatal(I),I}function m(u,I){for(var C,z=0,V=u.length-1;z<=V;){var ye=u[C=Math.floor((z+V)/2)];if(ye<I)z=C+1;else{if(!(ye>I))return{found:!0,index:C};V=C-1}}return{found:!1,index:z}}J.fromXML=function(u,I,C){var z=S.parser(!0,{xmlns:!0}),V=[],ye=[],Le=[],ke=0,Ce=null;z.onclosetag=function(ft){if(V[0]instanceof ee)null!==Ce.head&&null!==Ce.head.styling&&Ne(Ce.head.styling,V[0].styleRefs,V[0].styleAttrs,I),delete V[0].styleRefs;else if(V[0]instanceof t)for(var Ct in V[0].styles)V[0].styles.hasOwnProperty(Ct)&&qe(V[0],V[0].styles[Ct],I);else if(V[0]instanceof g||V[0]instanceof ue){if(V[0].contents.length>1){var Lt,kt=[V[0].contents[0]];for(Lt=1;Lt<V[0].contents.length;Lt++)V[0].contents[Lt]instanceof w&&kt[kt.length-1]instanceof w?kt[kt.length-1].text+=V[0].contents[Lt].text:kt.push(V[0].contents[Lt]);V[0].contents=kt}V[0]instanceof ue&&1===V[0].contents.length&&V[0].contents[0]instanceof w&&(V[0].text=V[0].contents[0].text,delete V[0].contents)}else V[0]instanceof o&&(V[0].node.uri===r.ns_tt&&"metadata"===V[0].node.local?ke--:ke>0&&C&&"onCloseTag"in C&&C.onCloseTag());Le.shift(),ye.shift(),V.shift()},z.ontext=function(ft){if(void 0!==V[0])if(V[0]instanceof ue||V[0]instanceof g){if(V[0]instanceof ue){var Ct=V[0].styleAttrs[n.byName.ruby.qname];if("container"===Ct||"textContainer"===Ct||"baseContainer"===Ct)return}var Lt=new w;Lt.initFromText(Ce,V[0],ft,ye[0],Le[0],I),V[0].contents.push(Lt)}else V[0]instanceof o&&ke>0&&C&&"onText"in C&&C.onText(ft)},z.onopentag=function(ft){var Ct=ft.attributes["xml:space"];Le.unshift(Ct?Ct.value:0===Le.length?"default":Le[0]);var Lt=ft.attributes["xml:lang"];if(ye.unshift(Lt?Lt.value:0===ye.length?"":ye[0]),ft.uri===r.ns_tt)if("tt"===ft.local)null!==Ce&&Ge(I,"Two <tt> elements at ("+this.line+","+this.column+")"),(Ce=new y).initFromNode(ft,ye[0],I),V.unshift(Ce);else if("head"===ft.local)V[0]instanceof y||Ge(I,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),V.unshift(Ce.head);else if("styling"===ft.local)V[0]instanceof e||Ge(I,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),V.unshift(Ce.head.styling);else if("style"===ft.local){var kt;V[0]instanceof t?((kt=new l).initFromNode(ft,I),kt.id?Ce.head.styling.styles[kt.id]=kt:fe(I,"<style> element missing @id attribute"),V.unshift(kt)):V[0]instanceof ee?((kt=new l).initFromNode(ft,I),Be(kt.styleAttrs,V[0].styleAttrs),V.unshift(kt)):Ge(I,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===ft.local){var En;if(V[0]instanceof t){for(var _n in(En=new T).initFromNode(ft,I),En.styleAttrs)En.styleAttrs.hasOwnProperty(_n)&&(Ce.head.styling.initials[_n]=En.styleAttrs[_n]);V.unshift(En)}else Ge(I,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===ft.local)V[0]instanceof e||Ge(I,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),V.unshift(Ce.head.layout);else if("region"===ft.local){V[0]instanceof p||Ge(I,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var vn=new ee;vn.initFromNode(Ce,ft,ye[0],I),!vn.id||vn.id in Ce.head.layout.regions?fe(I,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Ce.head.layout.regions[vn.id]=vn,V.unshift(vn)}else if("body"===ft.local){V[0]instanceof y||Ge(I,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==Ce.body&&Ge(I,"Second <body> element at "+this.line+","+this.column+")");var Fn=new ae;Fn.initFromNode(Ce,ft,ye[0],I),Ce.body=Fn,V.unshift(Fn)}else if("div"===ft.local){V[0]instanceof pe||V[0]instanceof ae||Ge(I,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Ln=new pe;Ln.initFromNode(Ce,V[0],ft,ye[0],I);var bn=Ln.styleAttrs[n.byName.backgroundImage.qname];bn&&(Ln.contents.push(new E(bn)),delete Ln.styleAttrs[n.byName.backgroundImage.qname]),V[0].contents.push(Ln),V.unshift(Ln)}else if("image"===ft.local){V[0]instanceof pe||Ge(I,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Gn=new E;Gn.initFromNode(Ce,V[0],ft,ye[0],I),V[0].contents.push(Gn),V.unshift(Gn)}else if("p"===ft.local){V[0]instanceof pe||Ge(I,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var jn=new g;jn.initFromNode(Ce,V[0],ft,ye[0],I),V[0].contents.push(jn),V.unshift(jn)}else if("span"===ft.local){V[0]instanceof ue||V[0]instanceof g||Ge(I,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var An=new ue;An.initFromNode(Ce,V[0],ft,ye[0],Le[0],I),V[0].contents.push(An),V.unshift(An)}else if("br"===ft.local){V[0]instanceof ue||V[0]instanceof g||Ge(I,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Vn=new ie;Vn.initFromNode(Ce,V[0],ft,ye[0],I),V[0].contents.push(Vn),V.unshift(Vn)}else if("set"===ft.local){V[0]instanceof ue||V[0]instanceof g||V[0]instanceof pe||V[0]instanceof ae||V[0]instanceof ee||V[0]instanceof ie||Ge(I,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Yn=new le;Yn.initFromNode(Ce,V[0],ft,I),V[0].sets.push(Yn),V.unshift(Yn)}else V.unshift(new o(ft));else V.unshift(new o(ft));if(V[0]instanceof o)if(ft.uri===r.ns_tt&&"metadata"===ft.local)ke++;else if(ke>0&&C&&"onOpenTag"in C){var Wn=[];for(var Xn in ft.attributes)Wn[ft.attributes[Xn].uri+" "+ft.attributes[Xn].local]={uri:ft.attributes[Xn].uri,local:ft.attributes[Xn].local,value:ft.attributes[Xn].value};C.onOpenTag(ft.uri,ft.local,Wn)}},z.write(u).close(),delete Ce.head.styling.styles;var Ve=!1;for(var Ke in Ce.head.layout.regions)if(Ce.head.layout.regions.hasOwnProperty(Ke)){Ve=!0;break}if(!Ve){var nt=ee.prototype.createDefaultRegion(Ce.lang);Ce.head.layout.regions[nt.id]=nt}for(var ht in Ce.head.layout.regions)Ce.head.layout.regions.hasOwnProperty(ht)&&i(Ce,Ce.head.layout.regions[ht],null,null);return Ce.body&&i(Ce,Ce.body,null,null),Ce.body&&c(Ce.body),Ce},y.prototype.initFromNode=function(u,I,C){var z=function(ke,Ce){var Ve=ce(ke,r.ns_ttp,"cellResolution"),Ke=15,nt=32;if(null!==Ve){var ht=/(\d+) (\d+)/.exec(Ve);null!==ht?(nt=parseInt(ht[1]),Ke=parseInt(ht[2])):se(Ce,"Malformed cellResolution value (using initial value instead)")}return{w:nt,h:Ke}}(u,C);this.cellLength={h:new d.ComputedLength(0,1/z.h),w:new d.ComputedLength(1/z.w,0)};var V=function(ke,Ce){var Ve,Ke=ce(ke,r.ns_ttp,"frameRate"),nt=30;null!==Ke&&(null!==(Ve=/(\d+)/.exec(Ke))?nt=parseInt(Ve[1]):se(Ce,"Malformed frame rate attribute (using initial value instead)"));var ht=ce(ke,r.ns_ttp,"frameRateMultiplier"),ft=1;null!==ht&&(null!==(Ve=/(\d+) (\d+)/.exec(ht))?ft=parseInt(Ve[1])/parseInt(Ve[2]):se(Ce,"Malformed frame rate multiplier attribute (using initial value instead)"));var Ct=ft*nt,Lt=1,kt=ce(ke,r.ns_ttp,"tickRate");return null===kt?null!==Ke&&(Lt=Ct):null!==(Ve=/(\d+)/.exec(kt))?Lt=parseInt(Ve[1]):se(Ce,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Ct,tickRate:Lt}}(u,C);this.effectiveFrameRate=V.effectiveFrameRate,this.tickRate=V.tickRate,this.aspectRatio=function(ke,Ce){var Ve=ce(ke,r.ns_ittp,"aspectRatio");null===Ve&&(Ve=ce(ke,r.ns_ttp,"displayAspectRatio"));var Ke=null;if(null!==Ve){var nt=/(\d+)\s+(\d+)/.exec(Ve);if(null!==nt){var ht=parseInt(nt[1]),ft=parseInt(nt[2]);0!==ht&&0!==ft?Ke=ht/ft:fe(Ce,"Illegal aspectRatio values (ignoring)")}else fe(Ce,"Malformed aspectRatio attribute (ignoring)")}return Ke}(u,C);var ye=ce(u,r.ns_ttp,"timeBase");null!==ye&&"media"!==ye&&Ge(C,"Unsupported time base");var Le=function(ke,Ce){var Ve=ce(ke,r.ns_tts,"extent");if(null===Ve)return null;var Ke=Ve.split(" ");if(2!==Ke.length)return se(Ce,"Malformed extent (ignoring)"),null;var nt=d.parseLength(Ke[0]),ht=d.parseLength(Ke[1]);return ht&&nt?{h:ht,w:nt}:(se(Ce,"Malformed extent values (ignoring)"),null)}(u,C);null===Le?this.pxLength={h:null,w:null}:("px"===Le.h.unit&&"px"===Le.w.unit||Ge(C,"Extent on TT must be in px or absent"),this.pxLength={h:new d.ComputedLength(0,1/Le.h.value),w:new d.ComputedLength(1/Le.w.value,0)}),this.dimensions={h:new d.ComputedLength(0,1),w:new d.ComputedLength(1,0)},this.lang=I},y.prototype._registerEvent=function(u){if(!(u.end<=u.begin)){var I=m(this.events,u.begin);if(I.found||this.events.splice(I.index,0,u.begin),u.end!==Number.POSITIVE_INFINITY){var C=m(this.events,u.end);C.found||this.events.splice(C.index,0,u.end)}}},y.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},y.prototype.getMediaTimeEvents=function(){return this.events},l.prototype.initFromNode=function(u,I){this.id=be(u),this.styleAttrs=we(u,I),this.styleRefs=Re(u)},T.prototype.initFromNode=function(u,I){for(var C in this.styleAttrs={},u.attributes)u.attributes[C].uri!==r.ns_itts&&u.attributes[C].uri!==r.ns_ebutts&&u.attributes[C].uri!==r.ns_tts||(this.styleAttrs[u.attributes[C].uri+" "+u.attributes[C].local]=u.attributes[C].value)},E.prototype.initFromNode=function(u,I,C,z,V){this.src="src"in C.attributes?C.attributes.src.value:null,this.src||fe(V,"Invalid image@src attribute"),this.type="type"in C.attributes?C.attributes.type.value:null,this.type||fe(V,"Invalid image@type attribute"),_.prototype.initFromNode.call(this,u,I,C,V),j.prototype.initFromNode.call(this,u,I,C,V),O.prototype.initFromNode.call(this,u,I,C,V),A.prototype.initFromNode.call(this,u,I,C,V),this.lang=z},x.prototype.initFromNode=function(u,I,C,z){this.id=be(C)},A.prototype.initFromNode=function(u,I,C,z){var V;this.regionID=(V=C)&&"region"in V.attributes?V.attributes.region.value:""},_.prototype.initFromNode=function(u,I,C,z){this.styleAttrs=we(C,z),null!==u.head&&null!==u.head.styling&&Ne(u.head.styling,Re(C),this.styleAttrs,z)},O.prototype.initFromNode=function(u,I,C,z){this.sets=[]},G.prototype.initFromNode=function(u,I,C,z){this.contents=[]},j.prototype.initFromNode=function(u,I,C,z){var ye,ke,V=function(ye,Le,ke,Ce){var Ve=null;ke&&"begin"in ke.attributes&&null===(Ve=Oe(ye.tickRate,ye.effectiveFrameRate,ke.attributes.begin.value))&&se(Ce,"Malformed begin value "+ke.attributes.begin.value+" (using 0)");var Ke=null;ke&&"dur"in ke.attributes&&null===(Ke=Oe(ye.tickRate,ye.effectiveFrameRate,ke.attributes.dur.value))&&se(Ce,"Malformed dur value "+ke.attributes.dur.value+" (ignoring)");var nt=null;return ke&&"end"in ke.attributes&&null===(nt=Oe(ye.tickRate,ye.effectiveFrameRate,ke.attributes.end.value))&&se(Ce,"Malformed end value (ignoring)"),{explicit_begin:Ve,explicit_end:nt,explicit_dur:Ke}}(u,0,C,z);this.explicit_begin=V.explicit_begin,this.explicit_end=V.explicit_end,this.explicit_dur=V.explicit_dur,this.timeContainer=(ke=(ye=C)&&"timeContainer"in ye.attributes?ye.attributes.timeContainer.value:null)&&"par"!==ke?"seq"===ke?"seq":(fe(z,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"},ae.prototype.initFromNode=function(u,I,C,z){_.prototype.initFromNode.call(this,u,null,I,z),j.prototype.initFromNode.call(this,u,null,I,z),O.prototype.initFromNode.call(this,u,null,I,z),A.prototype.initFromNode.call(this,u,null,I,z),G.prototype.initFromNode.call(this,u,null,I,z),this.lang=C},pe.prototype.initFromNode=function(u,I,C,z,V){_.prototype.initFromNode.call(this,u,I,C,V),j.prototype.initFromNode.call(this,u,I,C,V),O.prototype.initFromNode.call(this,u,I,C,V),A.prototype.initFromNode.call(this,u,I,C,V),G.prototype.initFromNode.call(this,u,I,C,V),this.lang=z},g.prototype.initFromNode=function(u,I,C,z,V){_.prototype.initFromNode.call(this,u,I,C,V),j.prototype.initFromNode.call(this,u,I,C,V),O.prototype.initFromNode.call(this,u,I,C,V),A.prototype.initFromNode.call(this,u,I,C,V),G.prototype.initFromNode.call(this,u,I,C,V),this.lang=z},ue.prototype.initFromNode=function(u,I,C,z,V,ye){_.prototype.initFromNode.call(this,u,I,C,ye),j.prototype.initFromNode.call(this,u,I,C,ye),O.prototype.initFromNode.call(this,u,I,C,ye),A.prototype.initFromNode.call(this,u,I,C,ye),G.prototype.initFromNode.call(this,u,I,C,ye),this.space=V,this.lang=z},w.prototype.initFromText=function(u,I,C,z,V,ye){j.prototype.initFromNode.call(this,u,I,null,ye),this.text=C,this.space=V,this.lang=z},ie.prototype.initFromNode=function(u,I,C,z,V){A.prototype.initFromNode.call(this,u,I,C,V),j.prototype.initFromNode.call(this,u,I,C,V),this.lang=z},ee.prototype.createDefaultRegion=function(u){var I=new ee;return x.call(I,""),_.call(I,{}),O.call(I,[]),j.call(I,0,Number.POSITIVE_INFINITY,null),this.lang=u,I},ee.prototype.initFromNode=function(u,I,C,z){x.prototype.initFromNode.call(this,u,null,I,z),j.prototype.initFromNode.call(this,u,null,I,z),O.prototype.initFromNode.call(this,u,null,I,z),this.styleAttrs=we(I,z),this.styleRefs=Re(I),this.lang=C},le.prototype.initFromNode=function(u,I,C,z){j.prototype.initFromNode.call(this,u,I,C,z);var V=we(C,z);for(var ye in this.qname=null,this.value=null,V)if(V.hasOwnProperty(ye)){if(this.qname){fe(z,"More than one style specified on set");break}this.qname=ye,this.value=V[ye]}}}(Ie,typeof sax>"u"?D(5378):sax,typeof imscNames>"u"?D(210):imscNames,typeof imscStyles>"u"?D(6811):imscStyles,typeof imscUtils>"u"?D(5926):imscUtils)},506:(Pe,Ie,D)=>{!function(J,S,r){function n(_,O,G,j){var ae;if("region"===G.kind)(ae=document.createElement("div")).style.position="absolute";else if("body"===G.kind)ae=document.createElement("div");else if("div"===G.kind)ae=document.createElement("div");else if("image"===G.kind){if(ae=document.createElement("img"),null!==_.imgResolver&&null!==G.src){var pe=_.imgResolver(G.src,ae);pe&&(ae.src=pe),ae.height=_.regionH,ae.width=_.regionW}}else if("p"===G.kind)ae=document.createElement("p");else if("span"===G.kind)if("container"===G.styleAttrs[r.byName.ruby.qname])ae=document.createElement("ruby"),_.ruby=!0;else if("base"===G.styleAttrs[r.byName.ruby.qname])ae=document.createElement("rb");else if("text"===G.styleAttrs[r.byName.ruby.qname])ae=document.createElement("rt");else if("baseContainer"===G.styleAttrs[r.byName.ruby.qname])ae=document.createElement("rbc");else if("textContainer"===G.styleAttrs[r.byName.ruby.qname])ae=document.createElement("rtc");else{if("delimiter"===G.styleAttrs[r.byName.ruby.qname])return;ae=document.createElement("span")}else"br"===G.kind&&(ae=document.createElement("br"));if(ae){if(G.lang&&("region"!==G.kind&&G.lang===j.lang||(ae.lang=G.lang)),O.appendChild(ae),ae.style.margin="0","region"===G.kind){var g=G.styleAttrs[r.byName.writingMode.qname];"lrtb"===g||"lr"===g?(_.ipd="lr",_.bpd="tb"):"rltb"===g||"rl"===g?(_.ipd="rl",_.bpd="tb"):"tblr"===g?(_.ipd="tb",_.bpd="lr"):"tbrl"!==g&&"tb"!==g||(_.ipd="tb",_.bpd="rl")}else"p"===G.kind&&"tb"===_.bpd&&(_.ipd="ltr"===G.styleAttrs[r.byName.direction.qname]?"lr":"rl");for(var w=0;w<l.length;w++){var ie=l[w],ee=G.styleAttrs[ie.qname];void 0!==ee&&null!==ie.map&&ie.map(_,ae,G,ee)}var le=ae,be=G.styleAttrs[r.byName.linePadding.qname];if(be&&!be.isZero()){var Re=be.toUsedLength(_.w,_.h);if(Re>0){var we=Math.ceil(Re)+"px";"tb"===_.bpd?(le.style.paddingLeft=we,le.style.paddingRight=we):(le.style.paddingTop=we,le.style.paddingBottom=we),_.lp=be}}var ce=G.styleAttrs[r.byName.multiRowAlign.qname];if(ce&&"auto"!==ce){var Oe=document.createElement("span");Oe.style.display="inline-block",Oe.style.textAlign=ce,ae.appendChild(Oe),le=Oe,_.mra=ce}var qe=G.styleAttrs[r.byName.rubyReserve.qname];if(qe&&"none"!==qe[0]&&(_.rubyReserve=qe),G.styleAttrs[r.byName.fillLineGap.qname]&&(_.flg=!0),"span"===G.kind&&G.text){var Ne=G.styleAttrs[r.byName.textEmphasis.qname];if(Ne&&"none"!==Ne.style&&(_.textEmphasis=!0),r.byName.textCombine.qname in G.styleAttrs&&"all"===G.styleAttrs[r.byName.textCombine.qname])ae.textContent=G.text,Ne&&e(_,ae,0,Ne);else for(var Be="",se=0;se<G.text.length;se++){Be+=G.text.charAt(se);var fe=G.text.charCodeAt(se);if(fe<55296||fe>56319||se===G.text.length-1){var Ge=document.createElement("span");Ge.textContent=Be,Ne&&e(_,Ge,0,Ne),ae.appendChild(Ge),Be="",Ge._isd_element=G}}}if("contents"in G)for(var m=0;m<G.contents.length;m++)n(_,le,G.contents[m],G);var u=[];if("p"===G.kind&&(y(_,le,u,null),_.rubyReserve&&(function(ye,Le){for(var ke=0;ke<ye.length;ke++){var Ce,Ve,Ke=document.createElement("ruby"),nt=document.createElement("rb");nt.textContent="\u200b",Ke.appendChild(nt);var ft=Le.rubyReserve[1].toUsedLength(Le.w,Le.h)+"px";"both"===Le.rubyReserve[0]||"outside"===Le.rubyReserve[0]&&1==ye.length?((Ce=document.createElement("rtc")).style[b]=E?"after":"under",Ce.textContent="\u200b",Ce.style.fontSize=ft,(Ve=document.createElement("rtc")).style[b]=E?"before":"over",Ve.textContent="\u200b",Ve.style.fontSize=ft,Ke.appendChild(Ce),Ke.appendChild(Ve)):((Ce=document.createElement("rtc")).textContent="\u200b",Ce.style.fontSize=ft,Ce.style[b]="after"===Le.rubyReserve[0]||"outside"===Le.rubyReserve[0]&&ke>0?E?"after":"tb"===Le.bpd||"rl"===Le.bpd?"under":"over":E?"before":"tb"===Le.bpd||"rl"===Le.bpd?"over":"under",Ke.appendChild(Ce));for(var Ct=null,Lt=0;Lt<ye[ke].rbc.length;Lt++)if("ruby"===ye[ke].rbc[Lt].localName){Ct=ye[ke].rbc[Lt];for(var kt=0;kt<Ct.style.length;kt++)Ke.style.setProperty(Ct.style.item(kt),Ct.style.getPropertyValue(Ct.style.item(kt)));break}(Ct=Ct||ye[ke].elements[0].node).parentElement.insertBefore(Ke,Ct)}}(u,_),_.rubyReserve=null),(_.ruby||_.rubyReserve)&&(function(ye,Le){for(var ke=0;ke<ye.length;ke++)for(var Ce=0;Ce<ye[ke].rbc.length;Ce++)ye[ke].rbc[Ce].style[b]||(ye[ke].rbc[Ce].style[b]=E?0===ke?"before":"after":"tb"===Le.bpd||"rl"===Le.bpd?0===ke?"over":"under":0===ke?"under":"over")}(u,_),_.ruby=null),_.textEmphasis&&(function(ye,Le){for(var ke=0;ke<ye.length;ke++)for(var Ce=0;Ce<ye[ke].te.length;Ce++)ye[ke].te[Ce].style[A]&&"none"!==ye[ke].te[Ce].style[A]||(ye[ke].te[Ce].style[A]="tb"===Le.bpd?0===ke?"left over":"left under":"rl"===Le.bpd?0===ke?"right under":"left under":0===ke?"left under":"right under")}(u,_),_.textEmphasis=null),_.mra&&(function(ye){for(var Le=0;Le<ye.length-1;Le++){var ke=ye[Le].elements.length;if(0!==ke&&!1===ye[Le].br){var Ce=document.createElement("br"),Ve=ye[Le].elements[ke-1].node;Ve.parentElement.insertBefore(Ce,Ve.nextSibling)}}}(u),_.mra=null),_.lp&&(function(ye,Le,ke){if(null!==ye)for(var Ce=0;Ce<ye.length;Ce++){var Ve=ye[Ce].elements.length,Ke=Math.ceil(Le)+"px",nt="-"+Math.ceil(Le)+"px";if(0!==Ve){var ht=ye[Ce].elements[ye[Ce].start_elem],ft=ye[Ce].elements[ye[Ce].end_elem];if(ht===ft&&(elementBoundingRect=ht.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===ke.ipd?(ht.node.style.marginLeft=nt,ht.node.style.paddingLeft=Ke):"rl"===ke.ipd?(ht.node.style.paddingRight=Ke,ht.node.style.marginRight=nt):"tb"===ke.ipd&&(ht.node.style.paddingTop=Ke,ht.node.style.marginTop=nt),"lr"===ke.ipd?(ft.node.style.marginRight=nt,ft.node.style.paddingRight=Ke):"rl"===ke.ipd?(ft.node.style.paddingLeft=Ke,ft.node.style.marginLeft=nt):"tb"===ke.ipd&&(ft.node.style.paddingBottom=Ke,ft.node.style.marginBottom=nt)}}}(u,_.lp.toUsedLength(_.w,_.h),_),_.lp=null),function(ye){for(var Le=0;Le<ye.length;Le++)for(var ke=ye[Le],Ce=1;Ce<ke.elements.length;)c(ke.elements[Ce-1].node,ke.elements[Ce].node)?ke.elements.splice(Ce,1):Ce++;for(var nt,ht,ft=[],Ct=0;Ct<ye.length;Ct++)for(var Lt=0;Lt<ye[Ct].elements.length;Lt++)(ht=d(nt=ye[Ct].elements[Lt].node,ft,!1))&&(nt.style.backgroundColor=ht);for(var kt=0;kt<ft.length;kt++)ft[kt].style.backgroundColor=""}(u),_.flg)){var I=o(le.getBoundingClientRect(),_);(function(ye,Le,ke,Ce,Ve){for(var Ke=Math.sign(ke-Le),nt=0;nt<=ye.length;nt++){var ht,ft,Ct,Lt;if(ht=0===nt?Math.round(Le):nt===ye.length?Math.round(ke):Math.round((ye[nt-1].after+ye[nt].before)/2),nt>0&&ye[nt-1])for(Ct=0;Ct<ye[nt-1].elements.length;Ct++)ft=Ke*(ht-(Lt=ye[nt-1].elements[Ct]).after)+"px","lr"===Ce.bpd?Lt.node.style.paddingRight=ft:"rl"===Ce.bpd?Lt.node.style.paddingLeft=ft:"tb"===Ce.bpd&&(Lt.node.style.paddingBottom=ft);if(nt<ye.length)for(Ct=0;Ct<ye[nt].elements.length;Ct++)ft=Ke*((Lt=ye[nt].elements[Ct]).before-ht)+"px","lr"===Ce.bpd?Lt.node.style.paddingLeft=ft:"rl"===Ce.bpd?Lt.node.style.paddingRight=ft:"tb"===Ce.bpd&&(Lt.node.style.paddingTop=ft)}})(u,I.before,I.after,_),_.flg=null}if("region"===G.kind&&"tb"===_.bpd&&_.enableRollUp&&G.contents.length>0&&"after"===G.styleAttrs[r.byName.displayAlign.qname]){y(_,le,u,null);var C=new i(""===G.id?"_":G.id,u);if(_.currentISDState[C.id]=C,_.previousISDState&&C.id in _.previousISDState&&_.previousISDState[C.id].plist.length>0&&C.plist.length>1&&C.plist[C.plist.length-2].text===_.previousISDState[C.id].plist[_.previousISDState[C.id].plist.length-1].text){var z=ae.firstElementChild,V=C.plist[C.plist.length-1].after-C.plist[C.plist.length-1].before;z.style.bottom="-"+V+"px",z.style.transition="transform 0.4s",z.style.position="relative",z.style.transform="translateY(-"+V+"px)"}}}else!function(ye,Le){if(ye&&ye.error&&ye.error(Le))throw Le}(_.errorHandler,"Error processing ISD element kind: "+G.kind)}function d(_,O,G){return _.style.backgroundColor?(G&&!O.includes(_)&&O.push(_),_.style.backgroundColor):"SPAN"===_.parentElement.nodeName?d(_.parentElement,O,!0):void 0}function c(_,O){if("SPAN"===_.tagName&&"SPAN"===O.tagName&&_._isd_element===O._isd_element){_.textContent+=O.textContent;for(var G=0;G<O.style.length;G++){var j=O.style[G];(j.indexOf("border")>=0||j.indexOf("padding")>=0||j.indexOf("margin")>=0)&&(_.style[j]=O.style[j])}return O.parentElement.removeChild(O),!0}return!1}function i(_,O){this.id=_,this.plist=O}function o(_,O){var G={before:null,after:null,start:null,end:null};return"tb"===O.bpd?(G.before=_.top,G.after=_.bottom,"lr"===O.ipd?(G.start=_.left,G.end=_.right):(G.start=_.right,G.end=_.left)):"lr"===O.bpd?(G.before=_.left,G.after=_.right,G.start=_.top,G.end=_.bottom):"rl"===O.bpd&&(G.before=_.right,G.after=_.left,G.start=_.top,G.end=_.bottom),G}function y(_,O,G,j){if("rt"!==O.localName&&"rtc"!==O.localName){var ae,pe,g,ue,w=O.style.backgroundColor||j;if(0===O.childElementCount)if("span"===O.localName||"rb"===O.localName){var ie=o(O.getBoundingClientRect(),_);if(0!==G.length&&(ae=ie.before,g=G[G.length-1].before,(pe=ie.after)<(ue=G[G.length-1].after)&&ae>g||ue<=pe&&g>=ae)){var ee=Math.sign(ie.after-ie.before),le=Math.sign(ie.end-ie.start);ee*(ie.before-G[G.length-1].before)<0&&(G[G.length-1].before=ie.before),ee*(ie.after-G[G.length-1].after)>0&&(G[G.length-1].after=ie.after),le*(ie.start-G[G.length-1].start)<0&&(G[G.length-1].start=ie.start,G[G.length-1].start_elem=G[G.length-1].elements.length),le*(ie.end-G[G.length-1].end)>0&&(G[G.length-1].end=ie.end,G[G.length-1].end_elem=G[G.length-1].elements.length)}else G.push({before:ie.before,after:ie.after,start:ie.start,end:ie.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});G[G.length-1].text+=O.textContent,G[G.length-1].elements.push({node:O,bgcolor:w,before:ie.before,after:ie.after})}else"br"===O.localName&&0!==G.length&&(G[G.length-1].br=!0);else for(var be=O.firstChild;be;)be.nodeType===Node.ELEMENT_NODE&&(y(_,be,G,w),"ruby"===be.localName||"rtc"===be.localName?G.length>0&&G[G.length-1].rbc.push(be):"span"===be.localName&&be.style[x]&&"none"!==be.style[x]&&G.length>0&&G[G.length-1].te.push(be)),be=be.nextSibling}}function e(_,O,G,j){"none"!==j.style&&(O.style[x]="auto"===j.style?"filled":j.style+" "+j.symbol,("before"===j.position||"after"===j.position)&&(O.style[A]="tb"===_.bpd?"before"===j.position?"left over":"left under":"rl"===_.bpd?"before"===j.position?"right under":"left under":"before"===j.position?"left under":"right under"))}function t(_,O){this.qname=_,this.map=O}J.render=function(_,O,G,j,ae,pe,g,ue,w){var ie=j||O.clientHeight,ee=ae||O.clientWidth;if(null!==_.aspectRatio){var le=ie*_.aspectRatio;le>ee?ie=Math.round(ee/_.aspectRatio):ee=le}var be=document.createElement("div");be.style.position="relative",be.style.width=ee+"px",be.style.height=ie+"px",be.style.margin="auto",be.style.top=0,be.style.bottom=0,be.style.left=0,be.style.right=0,be.style.zIndex=0;var Re={h:ie,w:ee,regionH:null,regionW:null,imgResolver:G,displayForcedOnlyMode:pe||!1,isd:_,errorHandler:g,previousISDState:ue,enableRollUp:w||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(O.appendChild(be),"contents"in _)for(var we=0;we<_.contents.length;we++)n(Re,be,_.contents[we],_);return Re.currentISDState};for(var l=[new t("http://www.w3.org/ns/ttml#styling backgroundColor",function(_,O,G,j){0!==j[3]&&(O.style.backgroundColor="rgba("+j[0].toString()+","+j[1].toString()+","+j[2].toString()+","+(j[3]/255).toString()+")")}),new t("http://www.w3.org/ns/ttml#styling color",function(_,O,G,j){O.style.color="rgba("+j[0].toString()+","+j[1].toString()+","+j[2].toString()+","+(j[3]/255).toString()+")"}),new t("http://www.w3.org/ns/ttml#styling direction",function(_,O,G,j){O.style.direction=j}),new t("http://www.w3.org/ns/ttml#styling display",function(_,O,G,j){}),new t("http://www.w3.org/ns/ttml#styling displayAlign",function(_,O,G,j){O.style.display="flex",O.style.flexDirection="column","before"===j?O.style.justifyContent="flex-start":"center"===j?O.style.justifyContent="center":"after"===j&&(O.style.justifyContent="flex-end")}),new t("http://www.w3.org/ns/ttml#styling extent",function(_,O,G,j){_.regionH=j.h.toUsedLength(_.w,_.h),_.regionW=j.w.toUsedLength(_.w,_.h);var ae=0,pe=0,g=G.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];g&&(ae=g[0].toUsedLength(_.w,_.h)+g[2].toUsedLength(_.w,_.h),pe=g[1].toUsedLength(_.w,_.h)+g[3].toUsedLength(_.w,_.h)),O.style.height=_.regionH-ae+"px",O.style.width=_.regionW-pe+"px"}),new t("http://www.w3.org/ns/ttml#styling fontFamily",function(_,O,G,j){for(var ae=[],pe=0;pe<j.length;pe++)"monospaceSerif"===j[pe]?(ae.push("Courier New"),ae.push('"Liberation Mono"'),ae.push("Courier"),ae.push("monospace")):"proportionalSansSerif"===j[pe]?(ae.push("Arial"),ae.push("Helvetica"),ae.push('"Liberation Sans"'),ae.push("sans-serif")):"monospace"===j[pe]?ae.push("monospace"):"sansSerif"===j[pe]?ae.push("sans-serif"):"serif"===j[pe]?ae.push("serif"):"monospaceSansSerif"===j[pe]?(ae.push("Consolas"),ae.push("monospace")):ae.push("proportionalSerif"===j[pe]?"serif":j[pe]);if(ae.length>0){for(var g=[ae[0]],ue=1;ue<ae.length;ue++)-1==g.indexOf(ae[ue])&&g.push(ae[ue]);ae=g}O.style.fontFamily=ae.join(",")}),new t("http://www.w3.org/ns/ttml#styling shear",function(_,O,G,j){if(0!==j){var ae=-.9*j;O.style.transform="tb"===_.bpd?"skewX("+ae+"deg)":"skewY("+ae+"deg)"}}),new t("http://www.w3.org/ns/ttml#styling fontSize",function(_,O,G,j){O.style.fontSize=j.toUsedLength(_.w,_.h)+"px"}),new t("http://www.w3.org/ns/ttml#styling fontStyle",function(_,O,G,j){O.style.fontStyle=j}),new t("http://www.w3.org/ns/ttml#styling fontWeight",function(_,O,G,j){O.style.fontWeight=j}),new t("http://www.w3.org/ns/ttml#styling lineHeight",function(_,O,G,j){O.style.lineHeight="normal"===j?"normal":j.toUsedLength(_.w,_.h)+"px"}),new t("http://www.w3.org/ns/ttml#styling opacity",function(_,O,G,j){O.style.opacity=j}),new t("http://www.w3.org/ns/ttml#styling origin",function(_,O,G,j){O.style.top=j.h.toUsedLength(_.w,_.h)+"px",O.style.left=j.w.toUsedLength(_.w,_.h)+"px"}),new t("http://www.w3.org/ns/ttml#styling overflow",function(_,O,G,j){O.style.overflow=j}),new t("http://www.w3.org/ns/ttml#styling padding",function(_,O,G,j){var ae=[];ae[0]=j[0].toUsedLength(_.w,_.h)+"px",ae[1]=j[3].toUsedLength(_.w,_.h)+"px",ae[2]=j[2].toUsedLength(_.w,_.h)+"px",ae[3]=j[1].toUsedLength(_.w,_.h)+"px",O.style.padding=ae.join(" ")}),new t("http://www.w3.org/ns/ttml#styling position",function(_,O,G,j){O.style.top=j.h.toUsedLength(_.w,_.h)+"px",O.style.left=j.w.toUsedLength(_.w,_.h)+"px"}),new t("http://www.w3.org/ns/ttml#styling rubyAlign",function(_,O,G,j){O.style.rubyAlign="spaceAround"===j?"space-around":"center"}),new t("http://www.w3.org/ns/ttml#styling rubyPosition",function(_,O,G,j){"before"!==j&&"after"!==j||(O.parentElement.style[b]=E?j:"tb"===_.bpd||"rl"===_.bpd?"before"===j?"over":"under":"before"===j?"under":"over")}),new t("http://www.w3.org/ns/ttml#styling showBackground",null),new t("http://www.w3.org/ns/ttml#styling textAlign",function(_,O,G,j){O.style.textAlign="start"===j?"rl"===_.ipd?"right":"left":"end"===j?"rl"===_.ipd?"left":"right":j}),new t("http://www.w3.org/ns/ttml#styling textDecoration",function(_,O,G,j){O.style.textDecoration=j.join(" ").replace("lineThrough","line-through")}),new t("http://www.w3.org/ns/ttml#styling textOutline",function(_,O,G,j){}),new t("http://www.w3.org/ns/ttml#styling textShadow",function(_,O,G,j){var ae=G.styleAttrs[r.byName.textOutline.qname];if("none"===j&&"none"===ae)O.style.textShadow="";else{var pe=[];if("none"!==ae){var g="rgba("+ae.color[0].toString()+","+ae.color[1].toString()+","+ae.color[2].toString()+","+(ae.color[3]/255).toString()+")";pe.push("1px 1px 1px "+g),pe.push("-1px 1px 1px "+g),pe.push("1px -1px 1px "+g),pe.push("-1px -1px 1px "+g)}if("none"!==j)for(var ue=0;ue<j.length;ue++)pe.push(j[ue].x_off.toUsedLength(_.w,_.h)+"px "+j[ue].y_off.toUsedLength(_.w,_.h)+"px "+j[ue].b_radius.toUsedLength(_.w,_.h)+"px rgba("+j[ue].color[0].toString()+","+j[ue].color[1].toString()+","+j[ue].color[2].toString()+","+(j[ue].color[3]/255).toString()+")");O.style.textShadow=pe.join(",")}}),new t("http://www.w3.org/ns/ttml#styling textCombine",function(_,O,G,j){O.style.textCombineUpright=j}),new t("http://www.w3.org/ns/ttml#styling textEmphasis",function(_,O,G,j){}),new t("http://www.w3.org/ns/ttml#styling unicodeBidi",function(_,O,G,j){O.style.unicodeBidi="bidiOverride"===j?"bidi-override":j}),new t("http://www.w3.org/ns/ttml#styling visibility",function(_,O,G,j){O.style.visibility=j}),new t("http://www.w3.org/ns/ttml#styling wrapOption",function(_,O,G,j){O.style.whiteSpace="wrap"===j?"preserve"===G.space?"pre-wrap":"normal":"preserve"===G.space?"pre":"noWrap"}),new t("http://www.w3.org/ns/ttml#styling writingMode",function(_,O,G,j){"lrtb"===j||"lr"===j||"rltb"===j||"rl"===j?O.style.writingMode="horizontal-tb":"tblr"===j?O.style.writingMode="vertical-lr":"tbrl"!==j&&"tb"!==j||(O.style.writingMode="vertical-rl")}),new t("http://www.w3.org/ns/ttml#styling zIndex",function(_,O,G,j){O.style.zIndex=j}),new t("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(_,O,G,j){_.displayForcedOnlyMode&&!1===j&&(O.style.visibility="hidden")})],T={},p=0;p<l.length;p++)T[l[p].qname]=l[p];var E="webkitRubyPosition"in window.getComputedStyle(document.documentElement),b=E?"webkitRubyPosition":"rubyPosition",x="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",A="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(Ie,typeof imscNames>"u"?D(210):imscNames,typeof imscStyles>"u"?D(6811):imscStyles,typeof imscUtils>"u"?D(5926):imscUtils)},4080:(Pe,Ie,D)=>{!function(J,S,r,n){J.generateISD=function(l,T,p){var E,b=new y(l),x={},A={},_=l.head.styling.initials[r.byName.showBackground.qname],O=l.head.styling.initials[r.byName.backgroundColor.qname];for(var G in l.head.layout.regions)if(l.head.layout.regions.hasOwnProperty(G)){var j=l.head.layout.regions[G],ae=j.styleAttrs[r.byName.showBackground.qname]||_;A[j.id]=("always"===ae||void 0===ae)&&void 0!==(j.styleAttrs[r.byName.backgroundColor.qname]||O)&&!(T<j.begin||T>=j.end)}for(var g in l.body&&l.body.regionID&&(A[l.body.regionID]=!0),E=null!==l.body?function w(ie,ee){if(ee.contents){var le={};for(var be in ee)ee.hasOwnProperty(be)&&(le[be]=ee[be]);return le.contents=[],ee.contents.filter(function(Re){return!(ie<Re.begin||ie>=Re.end)}).forEach(function(Re){var we=w(ie,Re);we.regionID&&(A[we.regionID]=!0),null!==we&&le.contents.push(we)}),le}return ee}(T,l.body):null,void 0!==A[""]&&(A[""]=!0),A)if(A[g]){var ue=c(l,T,l.head.layout.regions[g],E,null,"",l.head.layout.regions[g],p,x);null!==ue&&b.contents.push(ue.element)}return b};var d=[r.byName.color.qname,r.byName.textCombine.qname,r.byName.textDecoration.qname,r.byName.textEmphasis.qname,r.byName.textOutline.qname,r.byName.textShadow.qname];function c(l,T,p,E,b,x,A,_,O){if(T<A.begin||T>=A.end)return null;var G="regionID"in A&&""!==A.regionID?A.regionID:x;if(null!==b&&G!==p.id&&(!("contents"in A)||"contents"in A&&0===A.contents.length||""!==G))return null;var j=new e(A);if("sets"in A)for(var ae=0;ae<A.sets.length;ae++)T<A.sets[ae].begin||T>=A.sets[ae].end||(j.styleAttrs[A.sets[ae].qname]=A.sets[ae].value);var pe={};for(var g in j.styleAttrs)if(j.styleAttrs.hasOwnProperty(g)&&(pe[g]=!0,"region"===j.kind&&g===r.byName.writingMode.qname&&!(r.byName.direction.qname in j.styleAttrs))){var ue=j.styleAttrs[g];"lrtb"===ue||"lr"===ue?j.styleAttrs[r.byName.direction.qname]="ltr":"rltb"!==ue&&"rl"!==ue||(j.styleAttrs[r.byName.direction.qname]="rtl")}if(null!==b)for(var w=0;w<r.all.length;w++){var ie=r.all[w];if(ie.qname===r.byName.textDecoration.qname){var ee=b.styleAttrs[ie.qname],le=j.styleAttrs[ie.qname],be=[];void 0===le?be=ee:-1===le.indexOf("none")?((-1===le.indexOf("noUnderline")&&-1!==ee.indexOf("underline")||-1!==le.indexOf("underline"))&&be.push("underline"),(-1===le.indexOf("noLineThrough")&&-1!==ee.indexOf("lineThrough")||-1!==le.indexOf("lineThrough"))&&be.push("lineThrough"),(-1===le.indexOf("noOverline")&&-1!==ee.indexOf("overline")||-1!==le.indexOf("overline"))&&be.push("overline")):be.push("none"),j.styleAttrs[ie.qname]=be}else if(ie.qname!==r.byName.fontSize.qname||ie.qname in j.styleAttrs||"span"!==j.kind||"textContainer"!==j.styleAttrs[r.byName.ruby.qname])if(ie.qname!==r.byName.fontSize.qname||ie.qname in j.styleAttrs||"span"!==j.kind||"text"!==j.styleAttrs[r.byName.ruby.qname])ie.inherit&&ie.qname in b.styleAttrs&&!(ie.qname in j.styleAttrs)&&(j.styleAttrs[ie.qname]=b.styleAttrs[ie.qname]);else{var Re=b.styleAttrs[r.byName.fontSize.qname];j.styleAttrs[ie.qname]="textContainer"===b.styleAttrs[r.byName.ruby.qname]?Re:new n.ComputedLength(.5*Re.rw,.5*Re.rh)}else{var we=b.styleAttrs[r.byName.fontSize.qname];j.styleAttrs[ie.qname]=new n.ComputedLength(.5*we.rw,.5*we.rh)}}for(var ce=0;ce<r.all.length;ce++){var Oe=r.all[ce];if(!(Oe.qname in j.styleAttrs)&&!(Oe.qname===r.byName.position.qname&&r.byName.origin.qname in j.styleAttrs||Oe.qname===r.byName.origin.qname&&r.byName.position.qname in j.styleAttrs)){var qe=l.head.styling.initials[Oe.qname]||Oe.initial;if(null!==qe&&("region"===j.kind||!1===Oe.inherit&&null!==qe)){var Ne=Oe.parse(qe);null!==Ne?(j.styleAttrs[Oe.qname]=Ne,pe[Oe.qname]=!0):t(_,"Invalid initial value for '"+Oe.qname+"' on element '"+j.kind)}}}for(var Be=0;Be<r.all.length;Be++){var se=r.all[Be];if(se.qname in pe&&null!==se.compute){var fe=se.compute(l,b,j,j.styleAttrs[se.qname],O);null!==fe?j.styleAttrs[se.qname]=fe:(j.styleAttrs[se.qname]=se.compute(l,b,j,se.parse(se.initial),O),t(_,"Style '"+se.qname+"' on element '"+j.kind+"' cannot be computed"))}}if("none"===j.styleAttrs[r.byName.display.qname])return null;var Ge=null;null===b?Ge=null===E?[]:[E]:"contents"in A&&(Ge=A.contents);for(var m=0;null!==Ge&&m<Ge.length;m++){var u=c(l,T,p,E,j,G,Ge[m],_,O);null!==u&&j.contents.push(u.element)}for(var I in j.styleAttrs)if(j.styleAttrs.hasOwnProperty(I)){var C=!1;if("span"===j.kind){var z=j.styleAttrs[r.byName.ruby.qname];(C=("container"===z||"textContainer"===z||"baseContainer"===z)&&-1!==d.indexOf(I))||(C="container"!==z&&I===r.byName.rubyAlign.qname),C||(C=!("textContainer"===z||"text"===z)&&I===r.byName.rubyPosition.qname)}if(!C){var V=r.byQName[I];"applies"in V&&(C=-1===V.applies.indexOf(j.kind))}C&&delete j.styleAttrs[I]}var ye=j.styleAttrs[r.byName.ruby.qname];if("p"===j.kind||"span"===j.kind&&("textContainer"===ye||"text"===ye)){var Le=[];i(j,Le),function(ke){for(var Ce,Ve=0;Ve<ke.length;)if("br"!==(Ce=ke[Ve]).kind&&"preserve"!==Ce.space){var Ke=Ce.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(Ke)&&(0===Ve||"br"===(nt=ke[Ve-1]).kind||/[\r\n\t ]$/.test(nt.text))&&(Ke=Ke.substring(1)),Ce.text=Ke,0===Ke.length?ke.splice(Ve,1):Ve++}else Ve++;var nt,ht;for(Ve=0;Ve<ke.length;Ve++)"br"!==(Ce=ke[Ve]).kind&&"preserve"!==Ce.space?/[ ]$/.test(Ce.text)&&(Ve===ke.length-1||"br"===(ht=ke[Ve+1]).kind||"preserve"===ht.space&&/^[\r\n]/.test(ht.text))&&(Ce.text=Ce.text.slice(0,-1)):Ve++}(Le),o(j)}return"div"===j.kind&&r.byName.backgroundImage.qname in j.styleAttrs||"br"===j.kind||"image"===j.kind||"contents"in j&&j.contents.length>0||"span"===j.kind&&null!==j.text||"region"===j.kind&&"always"===j.styleAttrs[r.byName.showBackground.qname]?{region_id:G,element:j}:null}function i(l,T){if("contents"in l)for(var p=0;p<l.contents.length;p++){var E=l.contents[p],b=E.styleAttrs[r.byName.ruby.qname];("span"!==E.kind||"textContainer"!==b&&"text"!==b)&&("contents"in E?i(E,T):("span"===E.kind&&0!==E.text.length||"br"===E.kind)&&T.push(E))}}function o(l){if("br"===l.kind)return!1;if("text"in l)return 0===l.text.length;if("contents"in l){for(var T=l.contents.length;T--;)o(l.contents[T])&&l.contents.splice(T,1);return 0===l.contents.length}}function y(l){this.contents=[],this.aspectRatio=l.aspectRatio,this.lang=l.lang}function e(l){for(var T in this.kind=l.kind||"region",this.lang=l.lang,l.id&&(this.id=l.id),this.styleAttrs={},l.styleAttrs)l.styleAttrs.hasOwnProperty(T)&&(this.styleAttrs[T]=l.styleAttrs[T]);"src"in l&&(this.src=l.src),"type"in l&&(this.type=l.type),"text"in l?this.text=l.text:("region"===this.kind||"contents"in l)&&(this.contents=[]),"space"in l&&(this.space=l.space)}function t(l,T){if(l&&l.error&&l.error(T))throw T}}(Ie,typeof imscNames>"u"?D(210):imscNames,typeof imscStyles>"u"?D(6811):imscStyles,typeof imscUtils>"u"?D(5926):imscUtils)},4403:(Pe,Ie,D)=>{Ie.generateISD=D(4080).generateISD,Ie.fromXML=D(3362).fromXML,Ie.renderHTML=D(506).render},210:(Pe,Ie)=>{var D;(D=Ie).ns_tt="http://www.w3.org/ns/ttml",D.ns_tts="http://www.w3.org/ns/ttml#styling",D.ns_ttp="http://www.w3.org/ns/ttml#parameter",D.ns_xml="http://www.w3.org/XML/1998/namespace",D.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",D.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",D.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",D.ns_ebutts="urn:ebu:tt:style"},6811:(Pe,Ie,D)=>{!function(J,S,r){function n(i,o,y,e,t,l,T,p){this.name=o,this.ns=i,this.qname=i+" "+o,this.inherit=t,this.animatable=l,this.initial=y,this.applies=e,this.parse=T,this.compute=p}for(var d in J.all=[new n(S.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,r.parseColor,null),new n(S.ns_tts,"color","white",["span"],!0,!0,r.parseColor,null),new n(S.ns_tts,"direction","ltr",["p","span"],!0,!0,function(i){return i},null),new n(S.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(i){return i},null),new n(S.ns_tts,"displayAlign","before",["region"],!1,!0,function(i){return i},null),new n(S.ns_tts,"extent","auto",["tt","region"],!1,!0,function(i){if("auto"===i)return i;var o=i.split(" ");if(2!==o.length)return null;var y=r.parseLength(o[0]),e=r.parseLength(o[1]);return e&&y?{h:e,w:y}:null},function(i,o,y,e,t){var l,T;if("auto"===e)l=new r.ComputedLength(0,1);else if(null===(l=r.toComputedLength(e.h.value,e.h.unit,null,i.dimensions.h,null,i.pxLength.h)))return null;if("auto"===e)T=new r.ComputedLength(1,0);else if(null===(T=r.toComputedLength(e.w.value,e.w.unit,null,i.dimensions.w,null,i.pxLength.w)))return null;return{h:l,w:T}}),new n(S.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(i){for(var o=i.split(","),y=[],e=0;e<o.length;e++)"'"!==o[e].charAt(0)&&'"'!==o[e].charAt(0)&&"default"===o[e]?y.push("monospaceSerif"):y.push(o[e]);return y},null),new n(S.ns_tts,"shear","0%",["p"],!0,!0,r.parseLength,function(i,o,y,e){return"%"!==e.unit?null:Math.abs(e.value)>100?100*Math.sign(e.value):e.value}),new n(S.ns_tts,"fontSize","1c",["span","p"],!0,!0,r.parseLength,function(i,o,y,e,t){return r.toComputedLength(e.value,e.unit,null!==o?o.styleAttrs[J.byName.fontSize.qname]:i.cellLength.h,null!==o?o.styleAttrs[J.byName.fontSize.qname]:i.cellLength.h,i.cellLength.h,i.pxLength.h)}),new n(S.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(i){return i},null),new n(S.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(i){return i},null),new n(S.ns_tts,"lineHeight","normal",["p"],!0,!0,function(i){return"normal"===i?i:r.parseLength(i)},function(i,o,y,e,t){var l;if("normal"===e)l=e;else if(null===(l=r.toComputedLength(e.value,e.unit,y.styleAttrs[J.byName.fontSize.qname],y.styleAttrs[J.byName.fontSize.qname],i.cellLength.h,i.pxLength.h)))return null;return l}),new n(S.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new n(S.ns_tts,"origin","auto",["region"],!1,!0,function(i){if("auto"===i)return i;var o=i.split(" ");if(2!==o.length)return null;var y=r.parseLength(o[0]),e=r.parseLength(o[1]);return e&&y?{h:e,w:y}:null},function(i,o,y,e,t){var l,T;if("auto"===e)l=new r.ComputedLength(0,0);else if(null===(l=r.toComputedLength(e.h.value,e.h.unit,null,i.dimensions.h,null,i.pxLength.h)))return null;if("auto"===e)T=new r.ComputedLength(0,0);else if(null===(T=r.toComputedLength(e.w.value,e.w.unit,null,i.dimensions.w,null,i.pxLength.w)))return null;return{h:l,w:T}}),new n(S.ns_tts,"overflow","hidden",["region"],!1,!0,function(i){return i},null),new n(S.ns_tts,"padding","0px",["region"],!1,!0,function(i){var o=i.split(" ");if(o.length>4)return null;for(var y=[],e=0;e<o.length;e++){var t=r.parseLength(o[e]);if(!t)return null;y.push(t)}return y},function(i,o,y,e,t){var l;if(1===e.length)l=[e[0],e[0],e[0],e[0]];else if(2===e.length)l=[e[0],e[1],e[0],e[1]];else if(3===e.length)l=[e[0],e[1],e[2],e[1]];else{if(4!==e.length)return null;l=[e[0],e[1],e[2],e[3]]}var T=y.styleAttrs[J.byName.writingMode.qname];if("lrtb"===T||"lr"===T)l=[l[0],l[3],l[2],l[1]];else if("rltb"===T||"rl"===T)l=[l[0],l[1],l[2],l[3]];else if("tblr"===T)l=[l[3],l[0],l[1],l[2]];else{if("tbrl"!==T&&"tb"!==T)return null;l=[l[3],l[2],l[1],l[0]]}for(var p=[],E=0;E<l.length;E++)if(0===l[E].value)p[E]=new r.ComputedLength(0,0);else if(p[E]=r.toComputedLength(l[E].value,l[E].unit,y.styleAttrs[J.byName.fontSize.qname],0===E||2===E?y.styleAttrs[J.byName.extent.qname].h:y.styleAttrs[J.byName.extent.qname].w,0===E||2===E?i.cellLength.h:i.cellLength.w,0===E||2===E?i.pxLength.h:i.pxLength.w),null===p[E])return null;return p}),new n(S.ns_tts,"position","top left",["region"],!1,!0,function(i){return r.parsePosition(i)},function(i,o,y,e){var t,l;return null===(t=r.toComputedLength(e.v.offset.value,e.v.offset.unit,null,new r.ComputedLength(-y.styleAttrs[J.byName.extent.qname].h.rw,i.dimensions.h.rh-y.styleAttrs[J.byName.extent.qname].h.rh),null,i.pxLength.h))?null:("bottom"===e.v.edge&&(t=new r.ComputedLength(-t.rw-y.styleAttrs[J.byName.extent.qname].h.rw,i.dimensions.h.rh-t.rh-y.styleAttrs[J.byName.extent.qname].h.rh)),l=r.toComputedLength(e.h.offset.value,e.h.offset.unit,null,new r.ComputedLength(i.dimensions.w.rw-y.styleAttrs[J.byName.extent.qname].w.rw,-y.styleAttrs[J.byName.extent.qname].w.rh),null,i.pxLength.w),null===t?null:("right"===e.h.edge&&(l=new r.ComputedLength(i.dimensions.w.rw-l.rw-y.styleAttrs[J.byName.extent.qname].w.rw,-l.rh-y.styleAttrs[J.byName.extent.qname].w.rh)),{h:t,w:l}))}),new n(S.ns_tts,"ruby","none",["span"],!1,!0,function(i){return i},null),new n(S.ns_tts,"rubyAlign","center",["span"],!0,!0,function(i){return"center"!==i&&"spaceAround"!==i?null:i},null),new n(S.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(i){return i},null),new n(S.ns_tts,"rubyReserve","none",["p"],!0,!0,function(i){var o=i.split(" "),y=[null,null];if(0===o.length||o.length>2||"none"!==o[0]&&"both"!==o[0]&&"after"!==o[0]&&"before"!==o[0]&&"outside"!==o[0])return null;if(y[0]=o[0],2===o.length&&"none"!==o[0]){var e=r.parseLength(o[1]);if(!e)return null;y[1]=e}return y},function(i,o,y,e,t){return"none"===e[0]?e:null===(l=null===e[1]?new r.ComputedLength(.5*y.styleAttrs[J.byName.fontSize.qname].rw,.5*y.styleAttrs[J.byName.fontSize.qname].rh):r.toComputedLength(e[1].value,e[1].unit,y.styleAttrs[J.byName.fontSize.qname],y.styleAttrs[J.byName.fontSize.qname],i.cellLength.h,i.pxLength.h))?null:[e[0],l];var l}),new n(S.ns_tts,"showBackground","always",["region"],!1,!0,function(i){return i},null),new n(S.ns_tts,"textAlign","start",["p"],!0,!0,function(i){return i},function(i,o,y,e,t){return"left"===e?"start":"right"===e?"end":e}),new n(S.ns_tts,"textCombine","none",["span"],!0,!0,function(i){return"none"===i||"all"===i?i:null},null),new n(S.ns_tts,"textDecoration","none",["span"],!0,!0,function(i){return i.split(" ")},null),new n(S.ns_tts,"textEmphasis","none",["span"],!0,!0,function(i){for(var o=i.split(" "),y={style:null,symbol:null,color:null,position:null},e=0;e<o.length;e++)if("none"===o[e]||"auto"===o[e])y.style=o[e];else if("filled"===o[e]||"open"===o[e])y.style=o[e];else if("circle"===o[e]||"dot"===o[e]||"sesame"===o[e])y.symbol=o[e];else if("current"===o[e])y.color=o[e];else if("outside"===o[e]||"before"===o[e]||"after"===o[e])y.position=o[e];else if(y.color=r.parseColor(o[e]),null===y.color)return null;return null==y.style&&null==y.symbol?y.style="auto":(y.symbol=y.symbol||"circle",y.style=y.style||"filled"),y.position=y.position||"outside",y.color=y.color||"current",y},null),new n(S.ns_tts,"textOutline","none",["span"],!0,!0,function(i){if("none"===i)return i;var o={},y=i.split(" ");if(0===y.length||y.length>2)return null;var e=r.parseColor(y[0]);if(o.color=e,null!==e&&y.shift(),1!==y.length)return null;var t=r.parseLength(y[0]);return t?(o.thickness=t,o):null},function(i,o,y,e,t){if("none"===e)return e;var l={};return l.color=null===e.color?y.styleAttrs[J.byName.color.qname]:e.color,l.thickness=r.toComputedLength(e.thickness.value,e.thickness.unit,y.styleAttrs[J.byName.fontSize.qname],y.styleAttrs[J.byName.fontSize.qname],i.cellLength.h,i.pxLength.h),null===l.thickness?null:l}),new n(S.ns_tts,"textShadow","none",["span"],!0,!0,r.parseTextShadow,function(i,o,y,e){if("none"===e)return e;for(var t=[],l=0;l<e.length;l++){var T={};if(T.x_off=r.toComputedLength(e[l][0].value,e[l][0].unit,null,y.styleAttrs[J.byName.fontSize.qname],null,i.pxLength.w),null===T.x_off||(T.y_off=r.toComputedLength(e[l][1].value,e[l][1].unit,null,y.styleAttrs[J.byName.fontSize.qname],null,i.pxLength.h),null===T.y_off))return null;if(null===e[l][2])T.b_radius=0;else if(T.b_radius=r.toComputedLength(e[l][2].value,e[l][2].unit,null,y.styleAttrs[J.byName.fontSize.qname],null,i.pxLength.h),null===T.b_radius)return null;T.color=null===e[l][3]?y.styleAttrs[J.byName.color.qname]:e[l][3],t.push(T)}return t}),new n(S.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(i){return i},null),new n(S.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(i){return i},null),new n(S.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(i){return i},null),new n(S.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(i){return i},null),new n(S.ns_tts,"zIndex","auto",["region"],!1,!0,function(i){var o;return"auto"===i?o=i:(o=parseInt(i),isNaN(o)&&(o=null)),o},null),new n(S.ns_ebutts,"linePadding","0c",["p"],!0,!1,r.parseLength,function(i,o,y,e,t){return r.toComputedLength(e.value,e.unit,null,null,i.cellLength.w,null)}),new n(S.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(i){return i},null),new n(S.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(i){return i},null),new n(S.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(i){return"true"===i},null),new n(S.ns_itts,"fillLineGap","false",["p"],!0,!0,function(i){return"true"===i},null)],J.byQName={},J.all)J.byQName[J.all[d].qname]=J.all[d];for(var c in J.byName={},J.all)J.byName[J.all[c].name]=J.all[c]}(Ie,typeof imscNames>"u"?D(210):imscNames,typeof imscUtils>"u"?D(5926):imscUtils)},5926:(Pe,Ie)=>{!function(D){var J=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,S=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,r=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,n={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};D.parseColor=function(c){var i,o=null,y=n[c.toLowerCase()];return void 0!==y?o=y:null!==(i=J.exec(c))?o=[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),void 0!==i[4]?parseInt(i[4],16):255]:null!==(i=S.exec(c))?o=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3]),255]:null!==(i=r.exec(c))&&(o=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3]),parseInt(i[4])]),o};var d=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;D.parseLength=function(c){var i,o=null;return null!==(i=d.exec(c))&&(o={value:parseFloat(i[1]),unit:i[2]}),o},D.parseTextShadow=function(c){for(var i=c.match(/([^\(,\)]|\([^\)]+\))+/g),o=[],y=0;y<i.length;y++){var e=i[y].split(" ");if(1===e.length&&"none"===e[0])return"none";if(e.length>1&&e.length<5){var t=[null,null,null,null],l=D.parseLength(e.shift());if(null===l||(t[0]=l,null===(l=D.parseLength(e.shift()))))return null;if(t[1]=l,0===e.length){o.push(t);continue}if(null!==(l=D.parseLength(e[0]))&&(t[2]=l,e.shift()),0===e.length){o.push(t);continue}var T=D.parseColor(e[0]);if(null===T)return null;t[3]=T,o.push(t)}}return o},D.parsePosition=function(c){var i=c.split(" "),o=function(E){return"center"===E||"left"===E||"top"===E||"bottom"===E||"right"===E};if(i.length>4)return null;for(var y=0;y<i.length;y++)if(!o(i[y])){var e=D.parseLength(i[y]);if(null===e)return null;i[y]=e}for(var t={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},l=0;l<i.length;){var T=i[l++];if(o(T)){var p={value:0,unit:"%"};2!==i.length&&l<i.length&&!o(i[l])&&(p=i[l++]),"right"===T?(t.h.edge=T,t.h.offset=p):"bottom"===T?(t.v.edge=T,t.v.offset=p):"left"===T?t.h.offset=p:"top"===T&&(t.v.offset=p)}else{if(1!==i.length&&2!==i.length)return null;1===l?t.h.offset=T:t.v.offset=T}}return t},D.ComputedLength=function(c,i){this.rw=c,this.rh=i},D.ComputedLength.prototype.toUsedLength=function(c,i){return c*this.rw+i*this.rh},D.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},D.toComputedLength=function(c,i,o,y,e,t){return"%"===i&&y?new D.ComputedLength(y.rw*c/100,y.rh*c/100):"em"===i&&o?new D.ComputedLength(o.rw*c,o.rh*c):"c"===i&&e?new D.ComputedLength(c*e.rw,c*e.rh):"px"===i&&t?new D.ComputedLength(c*t.rw,c*t.rh):"rh"===i?new D.ComputedLength(0,c/100):"rw"===i?new D.ComputedLength(c/100,0):null}}(Ie)},3516:Pe=>{"use strict";Pe.exports=function(Ie){var D="string"==typeof Ie?Ie.charCodeAt(0):Ie;return D>=97&&D<=122||D>=65&&D<=90}},2219:(Pe,Ie,D)=>{"use strict";var J=D(3516),S=D(395);Pe.exports=function(r){return J(r)||S(r)}},395:Pe=>{"use strict";Pe.exports=function(Ie){var D="string"==typeof Ie?Ie.charCodeAt(0):Ie;return D>=48&&D<=57}},3875:Pe=>{"use strict";function Ie(S){if("string"!=typeof S)throw new TypeError("Path must be a string. Received "+JSON.stringify(S))}function D(S,r){for(var n,d="",c=0,i=-1,o=0,y=0;y<=S.length;++y){if(y<S.length)n=S.charCodeAt(y);else{if(47===n)break;n=47}if(47===n){if(i!==y-1&&1!==o)if(i!==y-1&&2===o){if(d.length<2||2!==c||46!==d.charCodeAt(d.length-1)||46!==d.charCodeAt(d.length-2))if(d.length>2){var e=d.lastIndexOf("/");if(e!==d.length-1){-1===e?(d="",c=0):c=(d=d.slice(0,e)).length-1-d.lastIndexOf("/"),i=y,o=0;continue}}else if(2===d.length||1===d.length){d="",c=0,i=y,o=0;continue}r&&(d.length>0?d+="/..":d="..",c=2)}else d.length>0?d+="/"+S.slice(i+1,y):d=S.slice(i+1,y),c=y-i-1;i=y,o=0}else 46===n&&-1!==o?++o:o=-1}return d}var J={resolve:function(){for(var S,r="",n=!1,d=arguments.length-1;d>=-1&&!n;d--){var c;d>=0?c=arguments[d]:(void 0===S&&(S=process.cwd()),c=S),Ie(c),0!==c.length&&(r=c+"/"+r,n=47===c.charCodeAt(0))}return r=D(r,!n),n?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(S){if(Ie(S),0===S.length)return".";var r=47===S.charCodeAt(0),n=47===S.charCodeAt(S.length-1);return 0!==(S=D(S,!r)).length||r||(S="."),S.length>0&&n&&(S+="/"),r?"/"+S:S},isAbsolute:function(S){return Ie(S),S.length>0&&47===S.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var S,r=0;r<arguments.length;++r){var n=arguments[r];Ie(n),n.length>0&&(void 0===S?S=n:S+="/"+n)}return void 0===S?".":J.normalize(S)},relative:function(S,r){if(Ie(S),Ie(r),S===r||(S=J.resolve(S))===(r=J.resolve(r)))return"";for(var n=1;n<S.length&&47===S.charCodeAt(n);++n);for(var d=S.length,c=d-n,i=1;i<r.length&&47===r.charCodeAt(i);++i);for(var o=r.length-i,y=c<o?c:o,e=-1,t=0;t<=y;++t){if(t===y){if(o>y){if(47===r.charCodeAt(i+t))return r.slice(i+t+1);if(0===t)return r.slice(i+t)}else c>y&&(47===S.charCodeAt(n+t)?e=t:0===t&&(e=0));break}var l=S.charCodeAt(n+t);if(l!==r.charCodeAt(i+t))break;47===l&&(e=t)}var T="";for(t=n+e+1;t<=d;++t)t!==d&&47!==S.charCodeAt(t)||(T+=0===T.length?"..":"/..");return T.length>0?T+r.slice(i+e):(47===r.charCodeAt(i+=e)&&++i,r.slice(i))},_makeLong:function(S){return S},dirname:function(S){if(Ie(S),0===S.length)return".";for(var r=S.charCodeAt(0),n=47===r,d=-1,c=!0,i=S.length-1;i>=1;--i)if(47===(r=S.charCodeAt(i))){if(!c){d=i;break}}else c=!1;return-1===d?n?"/":".":n&&1===d?"//":S.slice(0,d)},basename:function(S,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');Ie(S);var n,d=0,c=-1,i=!0;if(void 0!==r&&r.length>0&&r.length<=S.length){if(r.length===S.length&&r===S)return"";var o=r.length-1,y=-1;for(n=S.length-1;n>=0;--n){var e=S.charCodeAt(n);if(47===e){if(!i){d=n+1;break}}else-1===y&&(i=!1,y=n+1),o>=0&&(e===r.charCodeAt(o)?-1==--o&&(c=n):(o=-1,c=y))}return d===c?c=y:-1===c&&(c=S.length),S.slice(d,c)}for(n=S.length-1;n>=0;--n)if(47===S.charCodeAt(n)){if(!i){d=n+1;break}}else-1===c&&(i=!1,c=n+1);return-1===c?"":S.slice(d,c)},extname:function(S){Ie(S);for(var r=-1,n=0,d=-1,c=!0,i=0,o=S.length-1;o>=0;--o){var y=S.charCodeAt(o);if(47!==y)-1===d&&(c=!1,d=o+1),46===y?-1===r?r=o:1!==i&&(i=1):-1!==r&&(i=-1);else if(!c){n=o+1;break}}return-1===r||-1===d||0===i||1===i&&r===d-1&&r===n+1?"":S.slice(r,d)},format:function(S){if(null===S||"object"!=typeof S)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof S);return c=(n=S).base||(n.name||"")+(n.ext||""),(d=n.dir||n.root)?d===n.root?d+c:d+"/"+c:c;var n,d,c},parse:function(S){Ie(S);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===S.length)return r;var n,d=S.charCodeAt(0),c=47===d;c?(r.root="/",n=1):n=0;for(var i=-1,o=0,y=-1,e=!0,t=S.length-1,l=0;t>=n;--t)if(47!==(d=S.charCodeAt(t)))-1===y&&(e=!1,y=t+1),46===d?-1===i?i=t:1!==l&&(l=1):-1!==i&&(l=-1);else if(!e){o=t+1;break}return-1===i||-1===y||0===l||1===l&&i===y-1&&i===o+1?-1!==y&&(r.base=r.name=S.slice(0===o&&c?1:o,y)):(0===o&&c?(r.name=S.slice(1,i),r.base=S.slice(1,y)):(r.name=S.slice(o,i),r.base=S.slice(o,y)),r.ext=S.slice(i,y)),o>0?r.dir=S.slice(0,o-1):c&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};J.posix=J,Pe.exports=J},8387:(Pe,Ie,D)=>{var J=D(1549),S=J.Buffer;function r(d,c){for(var i in d)c[i]=d[i]}function n(d,c,i){return S(d,c,i)}S.from&&S.alloc&&S.allocUnsafe&&S.allocUnsafeSlow?Pe.exports=J:(r(J,Ie),Ie.Buffer=n),r(S,n),n.from=function(d,c,i){if("number"==typeof d)throw new TypeError("Argument must not be a number");return S(d,c,i)},n.alloc=function(d,c,i){if("number"!=typeof d)throw new TypeError("Argument must be a number");var o=S(d);return void 0!==c?"string"==typeof i?o.fill(c,i):o.fill(c):o.fill(0),o},n.allocUnsafe=function(d){if("number"!=typeof d)throw new TypeError("Argument must be a number");return S(d)},n.allocUnsafeSlow=function(d){if("number"!=typeof d)throw new TypeError("Argument must be a number");return J.SlowBuffer(d)}},5378:(Pe,Ie,D)=>{!function(J){J.parser=function(m,u){return new n(m,u)},J.SAXParser=n,J.SAXStream=c,J.createStream=function(m,u){return new c(m,u)},J.MAX_BUFFER_LENGTH=65536;var S,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function n(m,u){if(!(this instanceof n))return new n(m,u);var I=this;(function(C){for(var z=0,V=r.length;z<V;z++)C[r[z]]=""})(I),I.q=I.c="",I.bufferCheckPosition=J.MAX_BUFFER_LENGTH,I.opt=u||{},I.opt.lowercase=I.opt.lowercase||I.opt.lowercasetags,I.looseCase=I.opt.lowercase?"toLowerCase":"toUpperCase",I.tags=[],I.closed=I.closedRoot=I.sawRoot=!1,I.tag=I.error=null,I.strict=!!m,I.noscript=!(!m&&!I.opt.noscript),I.state=g.BEGIN,I.strictEntities=I.opt.strictEntities,I.ENTITIES=Object.create(I.strictEntities?J.XML_ENTITIES:J.ENTITIES),I.attribList=[],I.opt.xmlns&&(I.ns=Object.create(p)),I.trackPosition=!1!==I.opt.position,I.trackPosition&&(I.position=I.line=I.column=0),w(I,"onready")}J.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(m){function u(){}return u.prototype=m,new u}),Object.keys||(Object.keys=function(m){var u=[];for(var I in m)m.hasOwnProperty(I)&&u.push(I);return u}),n.prototype={end:function(){Re(this)},write:function(m){var u=this;if(this.error)throw this.error;if(u.closed)return be(u,"Cannot write after close. Assign an onready handler.");if(null===m)return Re(u);"object"==typeof m&&(m=m.toString());for(var I=0,C="";C=Ge(m,I++),u.c=C,C;)switch(u.trackPosition&&(u.position++,"\n"===C?(u.line++,u.column=0):u.column++),u.state){case g.BEGIN:if(u.state=g.BEGIN_WHITESPACE,"\ufeff"===C)continue;fe(u,C);continue;case g.BEGIN_WHITESPACE:fe(u,C);continue;case g.TEXT:if(u.sawRoot&&!u.closedRoot){for(var z=I-1;C&&"<"!==C&&"&"!==C;)(C=Ge(m,I++))&&u.trackPosition&&(u.position++,"\n"===C?(u.line++,u.column=0):u.column++);u.textNode+=m.substring(z,I-1)}"<"!==C||u.sawRoot&&u.closedRoot&&!u.strict?(!G(i,C)||u.sawRoot&&!u.closedRoot||we(u,"Text data outside of root node."),"&"===C?u.state=g.TEXT_ENTITY:u.textNode+=C):(u.state=g.OPEN_WAKA,u.startTagPosition=u.position);continue;case g.SCRIPT:"<"===C?u.state=g.SCRIPT_ENDING:u.script+=C;continue;case g.SCRIPT_ENDING:"/"===C?u.state=g.CLOSE_TAG:(u.script+="<"+C,u.state=g.SCRIPT);continue;case g.OPEN_WAKA:"!"===C?(u.state=g.SGML_DECL,u.sgmlDecl=""):O(i,C)||(O(E,C)?(u.state=g.OPEN_TAG,u.tagName=C):"/"===C?(u.state=g.CLOSE_TAG,u.tagName=""):"?"===C?(u.state=g.PROC_INST,u.procInstName=u.procInstBody=""):(we(u,"Unencoded <"),u.startTagPosition+1<u.position&&(C=new Array(u.position-u.startTagPosition).join(" ")+C),u.textNode+="<"+C,u.state=g.TEXT));continue;case g.SGML_DECL:"[CDATA["===(u.sgmlDecl+C).toUpperCase()?(ie(u,"onopencdata"),u.state=g.CDATA,u.sgmlDecl="",u.cdata=""):u.sgmlDecl+C==="--"?(u.state=g.COMMENT,u.comment="",u.sgmlDecl=""):"DOCTYPE"===(u.sgmlDecl+C).toUpperCase()?(u.state=g.DOCTYPE,(u.doctype||u.sawRoot)&&we(u,"Inappropriately located doctype declaration"),u.doctype="",u.sgmlDecl=""):">"===C?(ie(u,"onsgmldeclaration",u.sgmlDecl),u.sgmlDecl="",u.state=g.TEXT):(O(e,C)&&(u.state=g.SGML_DECL_QUOTED),u.sgmlDecl+=C);continue;case g.SGML_DECL_QUOTED:C===u.q&&(u.state=g.SGML_DECL,u.q=""),u.sgmlDecl+=C;continue;case g.DOCTYPE:">"===C?(u.state=g.TEXT,ie(u,"ondoctype",u.doctype),u.doctype=!0):(u.doctype+=C,"["===C?u.state=g.DOCTYPE_DTD:O(e,C)&&(u.state=g.DOCTYPE_QUOTED,u.q=C));continue;case g.DOCTYPE_QUOTED:u.doctype+=C,C===u.q&&(u.q="",u.state=g.DOCTYPE);continue;case g.DOCTYPE_DTD:u.doctype+=C,"]"===C?u.state=g.DOCTYPE:O(e,C)&&(u.state=g.DOCTYPE_DTD_QUOTED,u.q=C);continue;case g.DOCTYPE_DTD_QUOTED:u.doctype+=C,C===u.q&&(u.state=g.DOCTYPE_DTD,u.q="");continue;case g.COMMENT:"-"===C?u.state=g.COMMENT_ENDING:u.comment+=C;continue;case g.COMMENT_ENDING:"-"===C?(u.state=g.COMMENT_ENDED,u.comment=le(u.opt,u.comment),u.comment&&ie(u,"oncomment",u.comment),u.comment=""):(u.comment+="-"+C,u.state=g.COMMENT);continue;case g.COMMENT_ENDED:">"!==C?(we(u,"Malformed comment"),u.comment+="--"+C,u.state=g.COMMENT):u.state=g.TEXT;continue;case g.CDATA:"]"===C?u.state=g.CDATA_ENDING:u.cdata+=C;continue;case g.CDATA_ENDING:"]"===C?u.state=g.CDATA_ENDING_2:(u.cdata+="]"+C,u.state=g.CDATA);continue;case g.CDATA_ENDING_2:">"===C?(u.cdata&&ie(u,"oncdata",u.cdata),ie(u,"onclosecdata"),u.cdata="",u.state=g.TEXT):"]"===C?u.cdata+="]":(u.cdata+="]]"+C,u.state=g.CDATA);continue;case g.PROC_INST:"?"===C?u.state=g.PROC_INST_ENDING:O(i,C)?u.state=g.PROC_INST_BODY:u.procInstName+=C;continue;case g.PROC_INST_BODY:if(!u.procInstBody&&O(i,C))continue;"?"===C?u.state=g.PROC_INST_ENDING:u.procInstBody+=C;continue;case g.PROC_INST_ENDING:">"===C?(ie(u,"onprocessinginstruction",{name:u.procInstName,body:u.procInstBody}),u.procInstName=u.procInstBody="",u.state=g.TEXT):(u.procInstBody+="?"+C,u.state=g.PROC_INST_BODY);continue;case g.OPEN_TAG:O(b,C)?u.tagName+=C:(ce(u),">"===C?Ne(u):"/"===C?u.state=g.OPEN_TAG_SLASH:(G(i,C)&&we(u,"Invalid character in tag name"),u.state=g.ATTRIB));continue;case g.OPEN_TAG_SLASH:">"===C?(Ne(u,!0),Be(u)):(we(u,"Forward-slash in opening tag not followed by >"),u.state=g.ATTRIB);continue;case g.ATTRIB:if(O(i,C))continue;">"===C?Ne(u):"/"===C?u.state=g.OPEN_TAG_SLASH:O(E,C)?(u.attribName=C,u.attribValue="",u.state=g.ATTRIB_NAME):we(u,"Invalid attribute name");continue;case g.ATTRIB_NAME:"="===C?u.state=g.ATTRIB_VALUE:">"===C?(we(u,"Attribute without value"),u.attribValue=u.attribName,qe(u),Ne(u)):O(i,C)?u.state=g.ATTRIB_NAME_SAW_WHITE:O(b,C)?u.attribName+=C:we(u,"Invalid attribute name");continue;case g.ATTRIB_NAME_SAW_WHITE:if("="===C)u.state=g.ATTRIB_VALUE;else{if(O(i,C))continue;we(u,"Attribute without value"),u.tag.attributes[u.attribName]="",u.attribValue="",ie(u,"onattribute",{name:u.attribName,value:""}),u.attribName="",">"===C?Ne(u):O(E,C)?(u.attribName=C,u.state=g.ATTRIB_NAME):(we(u,"Invalid attribute name"),u.state=g.ATTRIB)}continue;case g.ATTRIB_VALUE:if(O(i,C))continue;O(e,C)?(u.q=C,u.state=g.ATTRIB_VALUE_QUOTED):(we(u,"Unquoted attribute value"),u.state=g.ATTRIB_VALUE_UNQUOTED,u.attribValue=C);continue;case g.ATTRIB_VALUE_QUOTED:if(C!==u.q){"&"===C?u.state=g.ATTRIB_VALUE_ENTITY_Q:u.attribValue+=C;continue}qe(u),u.q="",u.state=g.ATTRIB_VALUE_CLOSED;continue;case g.ATTRIB_VALUE_CLOSED:O(i,C)?u.state=g.ATTRIB:">"===C?Ne(u):"/"===C?u.state=g.OPEN_TAG_SLASH:O(E,C)?(we(u,"No whitespace between attributes"),u.attribName=C,u.attribValue="",u.state=g.ATTRIB_NAME):we(u,"Invalid attribute name");continue;case g.ATTRIB_VALUE_UNQUOTED:if(G(t,C)){"&"===C?u.state=g.ATTRIB_VALUE_ENTITY_U:u.attribValue+=C;continue}qe(u),">"===C?Ne(u):u.state=g.ATTRIB;continue;case g.CLOSE_TAG:if(u.tagName)">"===C?Be(u):O(b,C)?u.tagName+=C:u.script?(u.script+="</"+u.tagName,u.tagName="",u.state=g.SCRIPT):(G(i,C)&&we(u,"Invalid tagname in closing tag"),u.state=g.CLOSE_TAG_SAW_WHITE);else{if(O(i,C))continue;G(E,C)?u.script?(u.script+="</"+C,u.state=g.SCRIPT):we(u,"Invalid tagname in closing tag."):u.tagName=C}continue;case g.CLOSE_TAG_SAW_WHITE:if(O(i,C))continue;">"===C?Be(u):we(u,"Invalid characters in closing tag");continue;case g.TEXT_ENTITY:case g.ATTRIB_VALUE_ENTITY_Q:case g.ATTRIB_VALUE_ENTITY_U:var ye,Le;switch(u.state){case g.TEXT_ENTITY:ye=g.TEXT,Le="textNode";break;case g.ATTRIB_VALUE_ENTITY_Q:ye=g.ATTRIB_VALUE_QUOTED,Le="attribValue";break;case g.ATTRIB_VALUE_ENTITY_U:ye=g.ATTRIB_VALUE_UNQUOTED,Le="attribValue"}";"===C?(u[Le]+=se(u),u.entity="",u.state=ye):O(u.entity.length?A:x,C)?u.entity+=C:(we(u,"Invalid character in entity name"),u[Le]+="&"+u.entity+C,u.entity="",u.state=ye);continue;default:throw new Error(u,"Unknown state: "+u.state)}return u.position>=u.bufferCheckPosition&&function(ke){for(var Ce=Math.max(J.MAX_BUFFER_LENGTH,10),Ve=0,Ke=0,nt=r.length;Ke<nt;Ke++){var ht=ke[r[Ke]].length;if(ht>Ce)switch(r[Ke]){case"textNode":ee(ke);break;case"cdata":ie(ke,"oncdata",ke.cdata),ke.cdata="";break;case"script":ie(ke,"onscript",ke.script),ke.script="";break;default:be(ke,"Max buffer length exceeded: "+r[Ke])}Ve=Math.max(Ve,ht)}ke.bufferCheckPosition=J.MAX_BUFFER_LENGTH-Ve+ke.position}(u),u},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var m;ee(m=this),""!==m.cdata&&(ie(m,"oncdata",m.cdata),m.cdata=""),""!==m.script&&(ie(m,"onscript",m.script),m.script="")}};try{S=D(182).Stream}catch{S=function(){}}var d=J.EVENTS.filter(function(m){return"error"!==m&&"end"!==m});function c(m,u){if(!(this instanceof c))return new c(m,u);S.apply(this),this._parser=new n(m,u),this.writable=!0,this.readable=!0;var I=this;this._parser.onend=function(){I.emit("end")},this._parser.onerror=function(C){I.emit("error",C),I._parser.error=null},this._decoder=null,d.forEach(function(C){Object.defineProperty(I,"on"+C,{get:function(){return I._parser["on"+C]},set:function(z){if(!z)return I.removeAllListeners(C),I._parser["on"+C]=z,z;I.on(C,z)},enumerable:!0,configurable:!1})})}(c.prototype=Object.create(S.prototype,{constructor:{value:c}})).write=function(m){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(m)){if(!this._decoder){var u=D(7503).s;this._decoder=new u("utf8")}m=this._decoder.write(m)}return this._parser.write(m.toString()),this.emit("data",m),!0},c.prototype.end=function(m){return m&&m.length&&this.write(m),this._parser.end(),!0},c.prototype.on=function(m,u){var I=this;return I._parser["on"+m]||-1===d.indexOf(m)||(I._parser["on"+m]=function(){var C=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);C.splice(0,0,m),I.emit.apply(I,C)}),S.prototype.on.call(I,m,u)};var i="\r\n\t ",o="0124356789",y="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",e="'\"",t=i+">",l="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",p={xml:l,xmlns:T};i=_(i),o=_(o),y=_(y);var E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function _(m){return m.split("").reduce(function(u,I){return u[I]=!0,u},{})}function O(m,u){return"[object RegExp]"===Object.prototype.toString.call(m)?!!u.match(m):m[u]}function G(m,u){return!O(m,u)}e=_(e),t=_(t);var j,ae,pe,g=0;for(var ue in J.STATE={BEGIN:g++,BEGIN_WHITESPACE:g++,TEXT:g++,TEXT_ENTITY:g++,OPEN_WAKA:g++,SGML_DECL:g++,SGML_DECL_QUOTED:g++,DOCTYPE:g++,DOCTYPE_QUOTED:g++,DOCTYPE_DTD:g++,DOCTYPE_DTD_QUOTED:g++,COMMENT_STARTING:g++,COMMENT:g++,COMMENT_ENDING:g++,COMMENT_ENDED:g++,CDATA:g++,CDATA_ENDING:g++,CDATA_ENDING_2:g++,PROC_INST:g++,PROC_INST_BODY:g++,PROC_INST_ENDING:g++,OPEN_TAG:g++,OPEN_TAG_SLASH:g++,ATTRIB:g++,ATTRIB_NAME:g++,ATTRIB_NAME_SAW_WHITE:g++,ATTRIB_VALUE:g++,ATTRIB_VALUE_QUOTED:g++,ATTRIB_VALUE_CLOSED:g++,ATTRIB_VALUE_UNQUOTED:g++,ATTRIB_VALUE_ENTITY_Q:g++,ATTRIB_VALUE_ENTITY_U:g++,CLOSE_TAG:g++,CLOSE_TAG_SAW_WHITE:g++,SCRIPT:g++,SCRIPT_ENDING:g++},J.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},J.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(J.ENTITIES).forEach(function(m){var u=J.ENTITIES[m],I="number"==typeof u?String.fromCharCode(u):u;J.ENTITIES[m]=I}),J.STATE)J.STATE[J.STATE[ue]]=ue;function w(m,u,I){m[u]&&m[u](I)}function ie(m,u,I){m.textNode&&ee(m),w(m,u,I)}function ee(m){m.textNode=le(m.opt,m.textNode),m.textNode&&w(m,"ontext",m.textNode),m.textNode=""}function le(m,u){return m.trim&&(u=u.trim()),m.normalize&&(u=u.replace(/\s+/g," ")),u}function be(m,u){return ee(m),m.trackPosition&&(u+="\nLine: "+m.line+"\nColumn: "+m.column+"\nChar: "+m.c),u=new Error(u),m.error=u,w(m,"onerror",u),m}function Re(m){return m.sawRoot&&!m.closedRoot&&we(m,"Unclosed root tag"),m.state!==g.BEGIN&&m.state!==g.BEGIN_WHITESPACE&&m.state!==g.TEXT&&be(m,"Unexpected end"),ee(m),m.c="",m.closed=!0,w(m,"onend"),n.call(m,m.strict,m.opt),m}function we(m,u){if("object"!=typeof m||!(m instanceof n))throw new Error("bad call to strictFail");m.strict&&be(m,u)}function ce(m){m.strict||(m.tagName=m.tagName[m.looseCase]());var u=m.tags[m.tags.length-1]||m,I=m.tag={name:m.tagName,attributes:{}};m.opt.xmlns&&(I.ns=u.ns),m.attribList.length=0,ie(m,"onopentagstart",I)}function Oe(m,u){var I=m.indexOf(":")<0?["",m]:m.split(":"),C=I[0],z=I[1];return u&&"xmlns"===m&&(C="xmlns",z=""),{prefix:C,local:z}}function qe(m){if(m.strict||(m.attribName=m.attribName[m.looseCase]()),-1!==m.attribList.indexOf(m.attribName)||m.tag.attributes.hasOwnProperty(m.attribName))m.attribName=m.attribValue="";else{if(m.opt.xmlns){var u=Oe(m.attribName,!0),C=u.local;if("xmlns"===u.prefix)if("xml"===C&&m.attribValue!==l)we(m,"xml: prefix must be bound to "+l+"\nActual: "+m.attribValue);else if("xmlns"===C&&m.attribValue!==T)we(m,"xmlns: prefix must be bound to "+T+"\nActual: "+m.attribValue);else{var z=m.tag,V=m.tags[m.tags.length-1]||m;z.ns===V.ns&&(z.ns=Object.create(V.ns)),z.ns[C]=m.attribValue}m.attribList.push([m.attribName,m.attribValue])}else m.tag.attributes[m.attribName]=m.attribValue,ie(m,"onattribute",{name:m.attribName,value:m.attribValue});m.attribName=m.attribValue=""}}function Ne(m,u){if(m.opt.xmlns){var I=m.tag,C=Oe(m.tagName);I.prefix=C.prefix,I.local=C.local,I.uri=I.ns[C.prefix]||"",I.prefix&&!I.uri&&(we(m,"Unbound namespace prefix: "+JSON.stringify(m.tagName)),I.uri=C.prefix),I.ns&&(m.tags[m.tags.length-1]||m).ns!==I.ns&&Object.keys(I.ns).forEach(function(Ct){ie(m,"onopennamespace",{prefix:Ct,uri:I.ns[Ct]})});for(var V=0,ye=m.attribList.length;V<ye;V++){var Le=m.attribList[V],ke=Le[0],Ce=Le[1],Ve=Oe(ke,!0),Ke=Ve.prefix,ht=""===Ke?"":I.ns[Ke]||"",ft={name:ke,value:Ce,prefix:Ke,local:Ve.local,uri:ht};Ke&&"xmlns"!==Ke&&!ht&&(we(m,"Unbound namespace prefix: "+JSON.stringify(Ke)),ft.uri=Ke),m.tag.attributes[ke]=ft,ie(m,"onattribute",ft)}m.attribList.length=0}m.tag.isSelfClosing=!!u,m.sawRoot=!0,m.tags.push(m.tag),ie(m,"onopentag",m.tag),u||(m.state=m.noscript||"script"!==m.tagName.toLowerCase()?g.TEXT:g.SCRIPT,m.tag=null,m.tagName=""),m.attribName=m.attribValue="",m.attribList.length=0}function Be(m){if(!m.tagName)return we(m,"Weird empty close tag."),m.textNode+="</>",void(m.state=g.TEXT);if(m.script){if("script"!==m.tagName)return m.script+="</"+m.tagName+">",m.tagName="",void(m.state=g.SCRIPT);ie(m,"onscript",m.script),m.script=""}var u=m.tags.length,I=m.tagName;m.strict||(I=I[m.looseCase]());for(var C=I;u--&&m.tags[u].name!==C;)we(m,"Unexpected close tag");if(u<0)return we(m,"Unmatched closing tag: "+m.tagName),m.textNode+="</"+m.tagName+">",void(m.state=g.TEXT);m.tagName=I;for(var z=m.tags.length;z-- >u;){var V=m.tag=m.tags.pop();m.tagName=m.tag.name,ie(m,"onclosetag",m.tagName);var ye={};for(var Le in V.ns)ye[Le]=V.ns[Le];m.opt.xmlns&&V.ns!==(m.tags[m.tags.length-1]||m).ns&&Object.keys(V.ns).forEach(function(Ce){ie(m,"onclosenamespace",{prefix:Ce,uri:V.ns[Ce]})})}0===u&&(m.closedRoot=!0),m.tagName=m.attribValue=m.attribName="",m.attribList.length=0,m.state=g.TEXT}function se(m){var u,I=m.entity,C=I.toLowerCase(),z="";return m.ENTITIES[I]?m.ENTITIES[I]:m.ENTITIES[C]?m.ENTITIES[C]:("#"===(I=C).charAt(0)&&("x"===I.charAt(1)?(I=I.slice(2),z=(u=parseInt(I,16)).toString(16)):(I=I.slice(1),z=(u=parseInt(I,10)).toString(10))),I=I.replace(/^0+/,""),z.toLowerCase()!==I?(we(m,"Invalid character entity"),"&"+m.entity+";"):String.fromCodePoint(u))}function fe(m,u){"<"===u?(m.state=g.OPEN_WAKA,m.startTagPosition=m.position):G(i,u)&&(we(m,"Non-whitespace before first tag."),m.textNode=u,m.state=g.TEXT)}function Ge(m,u){var I="";return u<m.length&&(I=m.charAt(u)),I}g=J.STATE,String.fromCodePoint||(j=String.fromCharCode,ae=Math.floor,pe=function(){var m,C=[],z=-1,V=arguments.length;if(!V)return"";for(var ye="";++z<V;){var Le=Number(arguments[z]);if(!isFinite(Le)||Le<0||Le>1114111||ae(Le)!==Le)throw RangeError("Invalid code point: "+Le);Le<=65535?C.push(Le):(m=55296+((Le-=65536)>>10),C.push(m,Le%1024+56320)),(z+1===V||C.length>16384)&&(ye+=j.apply(null,C),C.length=0)}return ye},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:pe,configurable:!0,writable:!0}):String.fromCodePoint=pe)}(Ie)},182:(Pe,Ie,D)=>{Pe.exports=S;var J=D(1159).EventEmitter;function S(){J.call(this)}D(1765)(S,J),S.Readable=D(2846),S.Writable=D(8318),S.Duplex=D(6138),S.Transform=D(9798),S.PassThrough=D(5472),S.finished=D(8800),S.pipeline=D(7295),S.Stream=S,S.prototype.pipe=function(r,n){var d=this;function c(T){r.writable&&!1===r.write(T)&&d.pause&&d.pause()}function i(){d.readable&&d.resume&&d.resume()}d.on("data",c),r.on("drain",i),r._isStdio||n&&!1===n.end||(d.on("end",y),d.on("close",e));var o=!1;function y(){o||(o=!0,r.end())}function e(){o||(o=!0,"function"==typeof r.destroy&&r.destroy())}function t(T){if(l(),0===J.listenerCount(this,"error"))throw T}function l(){d.removeListener("data",c),r.removeListener("drain",i),d.removeListener("end",y),d.removeListener("close",e),d.removeListener("error",t),r.removeListener("error",t),d.removeListener("end",l),d.removeListener("close",l),r.removeListener("close",l)}return d.on("error",t),r.on("error",t),d.on("end",l),d.on("close",l),r.on("close",l),r.emit("pipe",d),r}},1765:Pe=>{Pe.exports="function"==typeof Object.create?function(Ie,D){D&&(Ie.super_=D,Ie.prototype=Object.create(D.prototype,{constructor:{value:Ie,enumerable:!1,writable:!0,configurable:!0}}))}:function(Ie,D){if(D){Ie.super_=D;var J=function(){};J.prototype=D.prototype,Ie.prototype=new J,Ie.prototype.constructor=Ie}}},3690:Pe=>{"use strict";var Ie={};function D(S,r,n){n||(n=Error);var d=function(c){var i,o;function y(e,t,l){return c.call(this,"string"==typeof r?r:r(e,t,l))||this}return o=c,(i=y).prototype=Object.create(o.prototype),i.prototype.constructor=i,i.__proto__=o,y}(n);d.prototype.name=n.name,d.prototype.code=S,Ie[S]=d}function J(S,r){if(Array.isArray(S)){var n=S.length;return S=S.map(function(d){return String(d)}),n>2?"one of ".concat(r," ").concat(S.slice(0,n-1).join(", "),", or ")+S[n-1]:2===n?"one of ".concat(r," ").concat(S[0]," or ").concat(S[1]):"of ".concat(r," ").concat(S[0])}return"of ".concat(r," ").concat(String(S))}D("ERR_INVALID_OPT_VALUE",function(S,r){return'The value "'+r+'" is invalid for option "'+S+'"'},TypeError),D("ERR_INVALID_ARG_TYPE",function(S,r,n){var d,i,o,y,t,T;if("string"==typeof r&&("not ","not "===r.substr(0,4))?(d="must not be",r=r.replace(/^not /,"")):d="must be",t=S," argument",(void 0===T||T>t.length)&&(T=t.length)," argument"===t.substring(T-9,T))i="The ".concat(S," ").concat(d," ").concat(J(r,"type"));else{var e=("number"!=typeof y&&(y=0),y+1>(o=S).length||-1===o.indexOf(".",y)?"argument":"property");i='The "'.concat(S,'" ').concat(e," ").concat(d," ").concat(J(r,"type"))}return i+". Received type ".concat(typeof n)},TypeError),D("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),D("ERR_METHOD_NOT_IMPLEMENTED",function(S){return"The "+S+" method is not implemented"}),D("ERR_STREAM_PREMATURE_CLOSE","Premature close"),D("ERR_STREAM_DESTROYED",function(S){return"Cannot call "+S+" after a stream was destroyed"}),D("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),D("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),D("ERR_STREAM_WRITE_AFTER_END","write after end"),D("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),D("ERR_UNKNOWN_ENCODING",function(S){return"Unknown encoding: "+S},TypeError),D("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Pe.exports.q=Ie},6138:(Pe,Ie,D)=>{"use strict";var J=Object.keys||function(e){var t=[];for(var l in e)t.push(l);return t};Pe.exports=i;var S=D(2846),r=D(8318);D(1765)(i,S);for(var n=J(r.prototype),d=0;d<n.length;d++){var c=n[d];i.prototype[c]||(i.prototype[c]=r.prototype[c])}function i(e){if(!(this instanceof i))return new i(e);S.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",o)))}function o(){this._writableState.ended||process.nextTick(y,this)}function y(e){e.end()}Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(i.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(i.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},5472:(Pe,Ie,D)=>{"use strict";Pe.exports=S;var J=D(9798);function S(r){if(!(this instanceof S))return new S(r);J.call(this,r)}D(1765)(S,J),S.prototype._transform=function(r,n,d){d(null,r)}},2846:(Pe,Ie,D)=>{"use strict";var J;Pe.exports=j,j.ReadableState=G,D(1159);var S,r=function(se,fe){return se.listeners(fe).length},n=D(9299),d=D(1549).Buffer,c=D.g.Uint8Array||function(){},i=D(964);S=i&&i.debuglog?i.debuglog("stream"):function(){};var o,y,e,t=D(8393),l=D(6163),T=D(7269).getHighWaterMark,p=D(3690).q,E=p.ERR_INVALID_ARG_TYPE,b=p.ERR_STREAM_PUSH_AFTER_EOF,x=p.ERR_METHOD_NOT_IMPLEMENTED,A=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;D(1765)(j,n);var _=l.errorOrDestroy,O=["error","close","destroy","pause","resume"];function G(se,fe,Ge){J=J||D(6138),"boolean"!=typeof Ge&&(Ge=fe instanceof J),this.objectMode=!!(se=se||{}).objectMode,Ge&&(this.objectMode=this.objectMode||!!se.readableObjectMode),this.highWaterMark=T(this,se,"readableHighWaterMark",Ge),this.buffer=new t,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==se.emitClose,this.autoDestroy=!!se.autoDestroy,this.destroyed=!1,this.defaultEncoding=se.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,se.encoding&&(o||(o=D(7503).s),this.decoder=new o(se.encoding),this.encoding=se.encoding)}function j(se){if(J=J||D(6138),!(this instanceof j))return new j(se);this._readableState=new G(se,this,this instanceof J),this.readable=!0,se&&("function"==typeof se.read&&(this._read=se.read),"function"==typeof se.destroy&&(this._destroy=se.destroy)),n.call(this)}function ae(se,fe,Ge,m,u){S("readableAddChunk",fe);var I,z,V,ye,Le,C=se._readableState;if(null===fe)C.reading=!1,function(z,V){if(S("onEofChunk"),!V.ended){if(V.decoder){var ye=V.decoder.end();ye&&ye.length&&(V.buffer.push(ye),V.length+=V.objectMode?1:ye.length)}V.ended=!0,V.sync?w(z):(V.needReadable=!1,V.emittedReadable||(V.emittedReadable=!0,ie(z)))}}(se,C);else if(u||(z=C,d.isBuffer(Le=V=fe)||Le instanceof c||"string"==typeof V||void 0===V||z.objectMode||(ye=new E("chunk",["string","Buffer","Uint8Array"],V)),I=ye),I)_(se,I);else if(C.objectMode||fe&&fe.length>0)if("string"==typeof fe||C.objectMode||Object.getPrototypeOf(fe)===d.prototype||(fe=function(z){return d.from(z)}(fe)),m)C.endEmitted?_(se,new A):pe(se,C,fe,!0);else if(C.ended)_(se,new b);else{if(C.destroyed)return!1;C.reading=!1,C.decoder&&!Ge?(fe=C.decoder.write(fe),C.objectMode||0!==fe.length?pe(se,C,fe,!1):ee(se,C)):pe(se,C,fe,!1)}else m||(C.reading=!1,ee(se,C));return!C.ended&&(C.length<C.highWaterMark||0===C.length)}function pe(se,fe,Ge,m){fe.flowing&&0===fe.length&&!fe.sync?(fe.awaitDrain=0,se.emit("data",Ge)):(fe.length+=fe.objectMode?1:Ge.length,m?fe.buffer.unshift(Ge):fe.buffer.push(Ge),fe.needReadable&&w(se)),ee(se,fe)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(se){this._readableState&&(this._readableState.destroyed=se)}}),j.prototype.destroy=l.destroy,j.prototype._undestroy=l.undestroy,j.prototype._destroy=function(se,fe){fe(se)},j.prototype.push=function(se,fe){var Ge,m=this._readableState;return m.objectMode?Ge=!0:"string"==typeof se&&((fe=fe||m.defaultEncoding)!==m.encoding&&(se=d.from(se,fe),fe=""),Ge=!0),ae(this,se,fe,!1,Ge)},j.prototype.unshift=function(se){return ae(this,se,null,!0,!1)},j.prototype.isPaused=function(){return!1===this._readableState.flowing},j.prototype.setEncoding=function(se){o||(o=D(7503).s);var fe=new o(se);this._readableState.decoder=fe,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ge=this._readableState.buffer.head,m="";null!==Ge;)m+=fe.write(Ge.data),Ge=Ge.next;return this._readableState.buffer.clear(),""!==m&&this._readableState.buffer.push(m),this._readableState.length=m.length,this};var g=1073741824;function ue(se,fe){return se<=0||0===fe.length&&fe.ended?0:fe.objectMode?1:se!=se?fe.flowing&&fe.length?fe.buffer.head.data.length:fe.length:(se>fe.highWaterMark&&(fe.highWaterMark=((Ge=se)>=g?Ge=g:(Ge--,Ge|=Ge>>>1,Ge|=Ge>>>2,Ge|=Ge>>>4,Ge|=Ge>>>8,Ge|=Ge>>>16,Ge++),Ge)),se<=fe.length?se:fe.ended?fe.length:(fe.needReadable=!0,0));var Ge}function w(se){var fe=se._readableState;S("emitReadable",fe.needReadable,fe.emittedReadable),fe.needReadable=!1,fe.emittedReadable||(S("emitReadable",fe.flowing),fe.emittedReadable=!0,process.nextTick(ie,se))}function ie(se){var fe=se._readableState;S("emitReadable_",fe.destroyed,fe.length,fe.ended),fe.destroyed||!fe.length&&!fe.ended||(se.emit("readable"),fe.emittedReadable=!1),fe.needReadable=!fe.flowing&&!fe.ended&&fe.length<=fe.highWaterMark,ce(se)}function ee(se,fe){fe.readingMore||(fe.readingMore=!0,process.nextTick(le,se,fe))}function le(se,fe){for(;!fe.reading&&!fe.ended&&(fe.length<fe.highWaterMark||fe.flowing&&0===fe.length);){var Ge=fe.length;if(S("maybeReadMore read 0"),se.read(0),Ge===fe.length)break}fe.readingMore=!1}function be(se){var fe=se._readableState;fe.readableListening=se.listenerCount("readable")>0,fe.resumeScheduled&&!fe.paused?fe.flowing=!0:se.listenerCount("data")>0&&se.resume()}function Re(se){S("readable nexttick read 0"),se.read(0)}function we(se,fe){S("resume",fe.reading),fe.reading||se.read(0),fe.resumeScheduled=!1,se.emit("resume"),ce(se),fe.flowing&&!fe.reading&&se.read(0)}function ce(se){var fe=se._readableState;for(S("flow",fe.flowing);fe.flowing&&null!==se.read(););}function Oe(se,fe){return 0===fe.length?null:(fe.objectMode?Ge=fe.buffer.shift():!se||se>=fe.length?(Ge=fe.decoder?fe.buffer.join(""):1===fe.buffer.length?fe.buffer.first():fe.buffer.concat(fe.length),fe.buffer.clear()):Ge=fe.buffer.consume(se,fe.decoder),Ge);var Ge}function qe(se){var fe=se._readableState;S("endReadable",fe.endEmitted),fe.endEmitted||(fe.ended=!0,process.nextTick(Ne,fe,se))}function Ne(se,fe){if(S("endReadableNT",se.endEmitted,se.length),!se.endEmitted&&0===se.length&&(se.endEmitted=!0,fe.readable=!1,fe.emit("end"),se.autoDestroy)){var Ge=fe._writableState;(!Ge||Ge.autoDestroy&&Ge.finished)&&fe.destroy()}}function Be(se,fe){for(var Ge=0,m=se.length;Ge<m;Ge++)if(se[Ge]===fe)return Ge;return-1}j.prototype.read=function(se){S("read",se),se=parseInt(se,10);var fe=this._readableState,Ge=se;if(0!==se&&(fe.emittedReadable=!1),0===se&&fe.needReadable&&((0!==fe.highWaterMark?fe.length>=fe.highWaterMark:fe.length>0)||fe.ended))return S("read: emitReadable",fe.length,fe.ended),0===fe.length&&fe.ended?qe(this):w(this),null;if(0===(se=ue(se,fe))&&fe.ended)return 0===fe.length&&qe(this),null;var m,u=fe.needReadable;return S("need readable",u),(0===fe.length||fe.length-se<fe.highWaterMark)&&S("length less than watermark",u=!0),fe.ended||fe.reading?S("reading or ended",u=!1):u&&(S("do read"),fe.reading=!0,fe.sync=!0,0===fe.length&&(fe.needReadable=!0),this._read(fe.highWaterMark),fe.sync=!1,fe.reading||(se=ue(Ge,fe))),null===(m=se>0?Oe(se,fe):null)?(fe.needReadable=fe.length<=fe.highWaterMark,se=0):(fe.length-=se,fe.awaitDrain=0),0===fe.length&&(fe.ended||(fe.needReadable=!0),Ge!==se&&fe.ended&&qe(this)),null!==m&&this.emit("data",m),m},j.prototype._read=function(se){_(this,new x("_read()"))},j.prototype.pipe=function(se,fe){var Ge=this,m=this._readableState;switch(m.pipesCount){case 0:m.pipes=se;break;case 1:m.pipes=[m.pipes,se];break;default:m.pipes.push(se)}m.pipesCount+=1,S("pipe count=%d opts=%j",m.pipesCount,fe);var u=fe&&!1===fe.end||se===process.stdout||se===process.stderr?Ce:I;function I(){S("onend"),se.end()}m.endEmitted?process.nextTick(u):Ge.once("end",u),se.on("unpipe",function Ve(Ke,nt){S("onunpipe"),Ke===Ge&&nt&&!1===nt.hasUnpiped&&(nt.hasUnpiped=!0,S("cleanup"),se.removeListener("close",Le),se.removeListener("finish",ke),se.removeListener("drain",C),se.removeListener("error",ye),se.removeListener("unpipe",Ve),Ge.removeListener("end",I),Ge.removeListener("end",Ce),Ge.removeListener("data",V),z=!0,!m.awaitDrain||se._writableState&&!se._writableState.needDrain||C())});var Ve,C=(Ve=Ge,function(){var Ke=Ve._readableState;S("pipeOnDrain",Ke.awaitDrain),Ke.awaitDrain&&Ke.awaitDrain--,0===Ke.awaitDrain&&r(Ve,"data")&&(Ke.flowing=!0,ce(Ve))});se.on("drain",C);var z=!1;function V(Ve){S("ondata");var Ke=se.write(Ve);S("dest.write",Ke),!1===Ke&&((1===m.pipesCount&&m.pipes===se||m.pipesCount>1&&-1!==Be(m.pipes,se))&&!z&&(S("false write response, pause",m.awaitDrain),m.awaitDrain++),Ge.pause())}function ye(Ve){S("onerror",Ve),Ce(),se.removeListener("error",ye),0===r(se,"error")&&_(se,Ve)}function Le(){se.removeListener("finish",ke),Ce()}function ke(){S("onfinish"),se.removeListener("close",Le),Ce()}function Ce(){S("unpipe"),Ge.unpipe(se)}return Ge.on("data",V),function(Ve,Ke,nt){if("function"==typeof Ve.prependListener)return Ve.prependListener(Ke,nt);Ve._events&&Ve._events[Ke]?Array.isArray(Ve._events[Ke])?Ve._events[Ke].unshift(nt):Ve._events[Ke]=[nt,Ve._events[Ke]]:Ve.on(Ke,nt)}(se,"error",ye),se.once("close",Le),se.once("finish",ke),se.emit("pipe",Ge),m.flowing||(S("pipe resume"),Ge.resume()),se},j.prototype.unpipe=function(se){var fe=this._readableState,Ge={hasUnpiped:!1};if(0===fe.pipesCount)return this;if(1===fe.pipesCount)return se&&se!==fe.pipes||(se||(se=fe.pipes),fe.pipes=null,fe.pipesCount=0,fe.flowing=!1,se&&se.emit("unpipe",this,Ge)),this;if(!se){var m=fe.pipes,u=fe.pipesCount;fe.pipes=null,fe.pipesCount=0,fe.flowing=!1;for(var I=0;I<u;I++)m[I].emit("unpipe",this,{hasUnpiped:!1});return this}var C=Be(fe.pipes,se);return-1===C||(fe.pipes.splice(C,1),fe.pipesCount-=1,1===fe.pipesCount&&(fe.pipes=fe.pipes[0]),se.emit("unpipe",this,Ge)),this},j.prototype.addListener=j.prototype.on=function(se,fe){var Ge=n.prototype.on.call(this,se,fe),m=this._readableState;return"data"===se?(m.readableListening=this.listenerCount("readable")>0,!1!==m.flowing&&this.resume()):"readable"===se&&(m.endEmitted||m.readableListening||(m.readableListening=m.needReadable=!0,m.flowing=!1,m.emittedReadable=!1,S("on readable",m.length,m.reading),m.length?w(this):m.reading||process.nextTick(Re,this))),Ge},j.prototype.removeListener=function(se,fe){var Ge=n.prototype.removeListener.call(this,se,fe);return"readable"===se&&process.nextTick(be,this),Ge},j.prototype.removeAllListeners=function(se){var fe=n.prototype.removeAllListeners.apply(this,arguments);return"readable"!==se&&void 0!==se||process.nextTick(be,this),fe},j.prototype.resume=function(){var Ge,se=this._readableState;return se.flowing||(S("resume"),se.flowing=!se.readableListening,this,(Ge=se).resumeScheduled||(Ge.resumeScheduled=!0,process.nextTick(we,this,Ge))),se.paused=!1,this},j.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},j.prototype.wrap=function(se){var fe=this,Ge=this._readableState,m=!1;for(var u in se.on("end",function(){if(S("wrapped end"),Ge.decoder&&!Ge.ended){var C=Ge.decoder.end();C&&C.length&&fe.push(C)}fe.push(null)}),se.on("data",function(C){S("wrapped data"),Ge.decoder&&(C=Ge.decoder.write(C)),Ge.objectMode&&null==C||(Ge.objectMode||C&&C.length)&&(fe.push(C)||(m=!0,se.pause()))}),se)void 0===this[u]&&"function"==typeof se[u]&&(this[u]=function(C){return function(){return se[C].apply(se,arguments)}}(u));for(var I=0;I<O.length;I++)se.on(O[I],this.emit.bind(this,O[I]));return this._read=function(C){S("wrapped _read",C),m&&(m=!1,se.resume())},this},"function"==typeof Symbol&&(j.prototype[Symbol.asyncIterator]=function(){return void 0===y&&(y=D(7299)),y(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(se){this._readableState&&(this._readableState.flowing=se)}}),j._fromList=Oe,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(j.from=function(se,fe){return void 0===e&&(e=D(6233)),e(j,se,fe)})},9798:(Pe,Ie,D)=>{"use strict";Pe.exports=o;var J=D(3690).q,S=J.ERR_METHOD_NOT_IMPLEMENTED,r=J.ERR_MULTIPLE_CALLBACK,n=J.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=J.ERR_TRANSFORM_WITH_LENGTH_0,c=D(6138);function i(t,l){var T=this._transformState;T.transforming=!1;var p=T.writecb;if(null===p)return this.emit("error",new r);T.writechunk=null,T.writecb=null,null!=l&&this.push(l),p(t);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);c.call(this,t),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",y)}function y(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?e(this,null,null):this._flush(function(l,T){e(t,l,T)})}function e(t,l,T){if(l)return t.emit("error",l);if(null!=T&&t.push(T),t._writableState.length)throw new d;if(t._transformState.transforming)throw new n;return t.push(null)}D(1765)(o,c),o.prototype.push=function(t,l){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,l)},o.prototype._transform=function(t,l,T){T(new S("_transform()"))},o.prototype._write=function(t,l,T){var p=this._transformState;if(p.writecb=T,p.writechunk=t,p.writeencoding=l,!p.transforming){var E=this._readableState;(p.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},o.prototype._read=function(t){var l=this._transformState;null===l.writechunk||l.transforming?l.needTransform=!0:(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform))},o.prototype._destroy=function(t,l){c.prototype._destroy.call(this,t,function(T){l(T)})}},8318:(Pe,Ie,D)=>{"use strict";function J(ee){var le=this;this.next=null,this.entry=null,this.finish=function(){!function(be,Re,we){var ce=be.entry;for(be.entry=null;ce;){var Oe=ce.callback;Re.pendingcb--,Oe(void 0),ce=ce.next}Re.corkedRequestsFree.next=be}(le,ee)}}var S;Pe.exports=j,j.WritableState=G;var r,n={deprecate:D(7839)},d=D(9299),c=D(1549).Buffer,i=D.g.Uint8Array||function(){},o=D(6163),y=D(7269).getHighWaterMark,e=D(3690).q,t=e.ERR_INVALID_ARG_TYPE,l=e.ERR_METHOD_NOT_IMPLEMENTED,T=e.ERR_MULTIPLE_CALLBACK,p=e.ERR_STREAM_CANNOT_PIPE,E=e.ERR_STREAM_DESTROYED,b=e.ERR_STREAM_NULL_VALUES,x=e.ERR_STREAM_WRITE_AFTER_END,A=e.ERR_UNKNOWN_ENCODING,_=o.errorOrDestroy;function O(){}function G(ee,le,be){S=S||D(6138),"boolean"!=typeof be&&(be=le instanceof S),this.objectMode=!!(ee=ee||{}).objectMode,be&&(this.objectMode=this.objectMode||!!ee.writableObjectMode),this.highWaterMark=y(this,ee,"writableHighWaterMark",be),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ee.decodeStrings),this.defaultEncoding=ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(we){!function(ce,Oe){var fe,qe=ce._writableState,Ne=qe.sync,Be=qe.writecb;if("function"!=typeof Be)throw new T;if((fe=qe).writing=!1,fe.writecb=null,fe.length-=fe.writelen,fe.writelen=0,Oe)!function(fe,Ge,m,u,I){--Ge.pendingcb,m?(process.nextTick(I,u),process.nextTick(ie,fe,Ge),fe._writableState.errorEmitted=!0,_(fe,u)):(I(u),fe._writableState.errorEmitted=!0,_(fe,u),ie(fe,Ge))}(ce,qe,Ne,Oe,Be);else{var se=ue(qe)||ce.destroyed;se||qe.corked||qe.bufferProcessing||!qe.bufferedRequest||g(ce,qe),Ne?process.nextTick(pe,ce,qe,se,Be):pe(ce,qe,se,Be)}}(le,we)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==ee.emitClose,this.autoDestroy=!!ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new J(this)}function j(ee){var le=this instanceof(S=S||D(6138));if(!le&&!r.call(j,this))return new j(ee);this._writableState=new G(ee,this,le),this.writable=!0,ee&&("function"==typeof ee.write&&(this._write=ee.write),"function"==typeof ee.writev&&(this._writev=ee.writev),"function"==typeof ee.destroy&&(this._destroy=ee.destroy),"function"==typeof ee.final&&(this._final=ee.final)),d.call(this)}function ae(ee,le,be,Re,we,ce,Oe){le.writelen=Re,le.writecb=Oe,le.writing=!0,le.sync=!0,le.destroyed?le.onwrite(new E("write")):be?ee._writev(we,le.onwrite):ee._write(we,ce,le.onwrite),le.sync=!1}function pe(ee,le,be,Re){var we,ce;be||(we=ee,0===(ce=le).length&&ce.needDrain&&(ce.needDrain=!1,we.emit("drain"))),le.pendingcb--,Re(),ie(ee,le)}function g(ee,le){le.bufferProcessing=!0;var be=le.bufferedRequest;if(ee._writev&&be&&be.next){var we=new Array(le.bufferedRequestCount),ce=le.corkedRequestsFree;ce.entry=be;for(var Oe=0,qe=!0;be;)we[Oe]=be,be.isBuf||(qe=!1),be=be.next,Oe+=1;we.allBuffers=qe,ae(ee,le,!0,le.length,we,"",ce.finish),le.pendingcb++,le.lastBufferedRequest=null,ce.next?(le.corkedRequestsFree=ce.next,ce.next=null):le.corkedRequestsFree=new J(le),le.bufferedRequestCount=0}else{for(;be;){var Ne=be.chunk;if(ae(ee,le,!1,le.objectMode?1:Ne.length,Ne,be.encoding,be.callback),be=be.next,le.bufferedRequestCount--,le.writing)break}null===be&&(le.lastBufferedRequest=null)}le.bufferedRequest=be,le.bufferProcessing=!1}function ue(ee){return ee.ending&&0===ee.length&&null===ee.bufferedRequest&&!ee.finished&&!ee.writing}function w(ee,le){ee._final(function(be){le.pendingcb--,be&&_(ee,be),le.prefinished=!0,ee.emit("prefinish"),ie(ee,le)})}function ie(ee,le){var we,ce,be=ue(le);if(be&&(we=ee,(ce=le).prefinished||ce.finalCalled||("function"!=typeof we._final||ce.destroyed?(ce.prefinished=!0,we.emit("prefinish")):(ce.pendingcb++,ce.finalCalled=!0,process.nextTick(w,we,ce))),0===le.pendingcb&&(le.finished=!0,ee.emit("finish"),le.autoDestroy))){var Re=ee._readableState;(!Re||Re.autoDestroy&&Re.endEmitted)&&ee.destroy()}return be}D(1765)(j,d),G.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,le=[];ee;)le.push(ee),ee=ee.next;return le},function(){try{Object.defineProperty(G.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(r=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(ee){return!!r.call(this,ee)||this===j&&ee&&ee._writableState instanceof G}})):r=function(ee){return ee instanceof this},j.prototype.pipe=function(){_(this,new p)},j.prototype.write=function(ee,le,be){var Re,qe,Ne,Be,we=this._writableState,ce=!1,Oe=!we.objectMode&&(c.isBuffer(Re=ee)||Re instanceof i);return Oe&&!c.isBuffer(ee)&&(ee=c.from(ee)),"function"==typeof le&&(be=le,le=null),Oe?le="buffer":le||(le=we.defaultEncoding),"function"!=typeof be&&(be=O),we.ending?(qe=this,Ne=be,Be=new x,_(qe,Be),process.nextTick(Ne,Be)):(Oe||function(qe,Ne,Be,se){var fe;return null===Be?fe=new b:"string"==typeof Be||Ne.objectMode||(fe=new t("chunk",["string","Buffer"],Be)),!fe||(_(qe,fe),process.nextTick(se,fe),!1)}(this,we,ee,be))&&(we.pendingcb++,ce=function(qe,Ne,Be,se,fe,Ge){if(!Be){var m=(V=se,(z=Ne).objectMode||!1===z.decodeStrings||"string"!=typeof V||(V=c.from(V,fe)),V);se!==m&&(Be=!0,fe="buffer",se=m)}var z,V,u=Ne.objectMode?1:se.length;Ne.length+=u;var I=Ne.length<Ne.highWaterMark;if(I||(Ne.needDrain=!0),Ne.writing||Ne.corked){var C=Ne.lastBufferedRequest;Ne.lastBufferedRequest={chunk:se,encoding:fe,isBuf:Be,callback:Ge,next:null},C?C.next=Ne.lastBufferedRequest:Ne.bufferedRequest=Ne.lastBufferedRequest,Ne.bufferedRequestCount+=1}else ae(qe,Ne,!1,u,se,fe,Ge);return I}(this,we,Oe,ee,le,be)),ce},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var ee=this._writableState;ee.corked&&(ee.corked--,ee.writing||ee.corked||ee.bufferProcessing||!ee.bufferedRequest||g(this,ee))},j.prototype.setDefaultEncoding=function(ee){if("string"==typeof ee&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new A(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),j.prototype._write=function(ee,le,be){be(new l("_write()"))},j.prototype._writev=null,j.prototype.end=function(ee,le,be){var ce,Oe,Re=this._writableState;return"function"==typeof ee?(be=ee,ee=null,le=null):"function"==typeof le&&(be=le,le=null),null!=ee&&this.write(ee,le),Re.corked&&(Re.corked=1,this.uncork()),Re.ending||(this,Oe=be,(ce=Re).ending=!0,ie(this,ce),Oe&&(ce.finished?process.nextTick(Oe):this.once("finish",Oe)),ce.ended=!0,this.writable=!1),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),j.prototype.destroy=o.destroy,j.prototype._undestroy=o.undestroy,j.prototype._destroy=function(ee,le){le(ee)}},7299:(Pe,Ie,D)=>{"use strict";var J;function S(b,x,A){return x in b?Object.defineProperty(b,x,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[x]=A,b}var r=D(8800),n=Symbol("lastResolve"),d=Symbol("lastReject"),c=Symbol("error"),i=Symbol("ended"),o=Symbol("lastPromise"),y=Symbol("handlePromise"),e=Symbol("stream");function t(b,x){return{value:b,done:x}}function l(b){var x=b[n];if(null!==x){var A=b[e].read();null!==A&&(b[o]=null,b[n]=null,b[d]=null,x(t(A,!1)))}}function T(b){process.nextTick(l,b)}var p=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((S(J={get stream(){return this[e]},next:function(){var b=this,x=this[c];if(null!==x)return Promise.reject(x);if(this[i])return Promise.resolve(t(void 0,!0));if(this[e].destroyed)return new Promise(function(G,j){process.nextTick(function(){b[c]?j(b[c]):G(t(void 0,!0))})});var A,G,j,_=this[o];if(_)A=new Promise((G=_,j=this,function(ae,pe){G.then(function(){j[i]?ae(t(void 0,!0)):j[y](ae,pe)},pe)}));else{var O=this[e].read();if(null!==O)return Promise.resolve(t(O,!1));A=new Promise(this[y])}return this[o]=A,A}},Symbol.asyncIterator,function(){return this}),S(J,"return",function(){var b=this;return new Promise(function(x,A){b[e].destroy(null,function(_){_?A(_):x(t(void 0,!0))})})}),J),p);Pe.exports=function(b){var x,A=Object.create(E,(S(x={},e,{value:b,writable:!0}),S(x,n,{value:null,writable:!0}),S(x,d,{value:null,writable:!0}),S(x,c,{value:null,writable:!0}),S(x,i,{value:b._readableState.endEmitted,writable:!0}),S(x,y,{value:function(_,O){var G=A[e].read();G?(A[o]=null,A[n]=null,A[d]=null,_(t(G,!1))):(A[n]=_,A[d]=O)},writable:!0}),x));return A[o]=null,r(b,function(_){if(_&&"ERR_STREAM_PREMATURE_CLOSE"!==_.code){var O=A[d];return null!==O&&(A[o]=null,A[n]=null,A[d]=null,O(_)),void(A[c]=_)}var G=A[n];null!==G&&(A[o]=null,A[n]=null,A[d]=null,G(t(void 0,!0))),A[i]=!0}),b.on("readable",T.bind(null,A)),A}},8393:(Pe,Ie,D)=>{"use strict";function J(i,o){var y=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);o&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})),y.push.apply(y,e)}return y}function S(i,o,y){return o in i?Object.defineProperty(i,o,{value:y,enumerable:!0,configurable:!0,writable:!0}):i[o]=y,i}var n=D(1549).Buffer,d=D(9862).inspect,c=d&&d.custom||"inspect";Pe.exports=function(){function i(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,i),this.head=null,this.tail=null,this.length=0}var y;return y=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,l=""+t.data;t=t.next;)l+=e+t.data;return l}},{key:"concat",value:function(e){if(0===this.length)return n.alloc(0);for(var p=n.allocUnsafe(e>>>0),E=this.head,b=0;E;)n.prototype.copy.call(E.data,p,b),b+=E.data.length,E=E.next;return p}},{key:"consume",value:function(e,t){var l;return e<this.head.data.length?(l=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):l=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),l}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,l=1,T=t.data;for(e-=T.length;t=t.next;){var p=t.data,E=e>p.length?p.length:e;if(T+=E===p.length?p:p.slice(0,e),0==(e-=E)){E===p.length?(++l,this.head=t.next?t.next:this.tail=null):(this.head=t,t.data=p.slice(E));break}++l}return this.length-=l,T}},{key:"_getBuffer",value:function(e){var t=n.allocUnsafe(e),l=this.head,T=1;for(l.data.copy(t),e-=l.data.length;l=l.next;){var p=l.data,E=e>p.length?p.length:e;if(p.copy(t,t.length-e,0,E),0==(e-=E)){E===p.length?(++T,this.head=l.next?l.next:this.tail=null):(this.head=l,l.data=p.slice(E));break}++T}return this.length-=T,t}},{key:c,value:function(e,t){return d(this,function(l){for(var T=1;T<arguments.length;T++){var p=null!=arguments[T]?arguments[T]:{};T%2?J(Object(p),!0).forEach(function(E){S(l,E,p[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(p)):J(Object(p)).forEach(function(E){Object.defineProperty(l,E,Object.getOwnPropertyDescriptor(p,E))})}return l}({},t,{depth:0,customInspect:!1}))}}],y&&function r(i,o){for(var y=0;y<o.length;y++){var e=o[y];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}(i.prototype,y),i}()},6163:Pe=>{"use strict";function Ie(S,r){J(S,r),D(S)}function D(S){S._writableState&&!S._writableState.emitClose||S._readableState&&!S._readableState.emitClose||S.emit("close")}function J(S,r){S.emit("error",r)}Pe.exports={destroy:function(S,r){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(r?r(S):S&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(J,this,S)):process.nextTick(J,this,S)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(S||null,function(i){!r&&i?n._writableState?n._writableState.errorEmitted?process.nextTick(D,n):(n._writableState.errorEmitted=!0,process.nextTick(Ie,n,i)):process.nextTick(Ie,n,i):r?(process.nextTick(D,n),r(i)):process.nextTick(D,n)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(S,r){var n=S._readableState,d=S._writableState;n&&n.autoDestroy||d&&d.autoDestroy?S.destroy(r):S.emit("error",r)}}},8800:(Pe,Ie,D)=>{"use strict";var J=D(3690).q.ERR_STREAM_PREMATURE_CLOSE;function S(){}Pe.exports=function r(n,d,c){if("function"==typeof d)return r(n,null,d);var x,A;d||(d={}),x=c||S,A=!1,c=function(){if(!A){A=!0;for(var _=arguments.length,O=new Array(_),G=0;G<_;G++)O[G]=arguments[G];x.apply(this,O)}};var i=d.readable||!1!==d.readable&&n.readable,o=d.writable||!1!==d.writable&&n.writable,y=function(){n.writable||t()},e=n._writableState&&n._writableState.finished,t=function(){o=!1,e=!0,i||c.call(n)},l=n._readableState&&n._readableState.endEmitted,T=function(){i=!1,l=!0,o||c.call(n)},p=function(x){c.call(n,x)},E=function(){var x;return i&&!l?(n._readableState&&n._readableState.ended||(x=new J),c.call(n,x)):o&&!e?(n._writableState&&n._writableState.ended||(x=new J),c.call(n,x)):void 0},b=function(){n.req.on("finish",t)};return function(x){return x.setHeader&&"function"==typeof x.abort}(n)?(n.on("complete",t),n.on("abort",E),n.req?b():n.on("request",b)):o&&!n._writableState&&(n.on("end",y),n.on("close",y)),n.on("end",T),n.on("finish",t),!1!==d.error&&n.on("error",p),n.on("close",E),function(){n.removeListener("complete",t),n.removeListener("abort",E),n.removeListener("request",b),n.req&&n.req.removeListener("finish",t),n.removeListener("end",y),n.removeListener("close",y),n.removeListener("finish",t),n.removeListener("end",T),n.removeListener("error",p),n.removeListener("close",E)}}},6233:Pe=>{Pe.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:(Pe,Ie,D)=>{"use strict";var J,S=D(3690).q,r=S.ERR_MISSING_ARGS,n=S.ERR_STREAM_DESTROYED;function d(e){if(e)throw e}function i(e){e()}function o(e,t){return e.pipe(t)}Pe.exports=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];var T,p=function y(e){return e.length?"function"!=typeof e[e.length-1]?d:e.pop():d}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new r("streams");var E=t.map(function(b,x){var A=x<t.length-1;return function c(e,t,l,T){var b,x;b=T,x=!1,T=function(){x||(x=!0,b.apply(void 0,arguments))};var p=!1;e.on("close",function(){p=!0}),void 0===J&&(J=D(8800)),J(e,{readable:t,writable:l},function(b){if(b)return T(b);p=!0,T()});var E=!1;return function(b){if(!p&&!E)return E=!0,function(x){return x.setHeader&&"function"==typeof x.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void T(b||new n("pipe"))}}(b,A,x>0,function(_){T||(T=_),_&&E.forEach(i),A||(E.forEach(i),p(T))})});return t.reduce(o)}},7269:(Pe,Ie,D)=>{"use strict";var J=D(3690).q.ERR_INVALID_OPT_VALUE;Pe.exports={getHighWaterMark:function(S,r,n,d){var i,c=null!=(i=r).highWaterMark?i.highWaterMark:d?i[n]:null;if(null!=c){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new J(d?n:"highWaterMark",c);return Math.floor(c)}return S.objectMode?16:16384}}},9299:(Pe,Ie,D)=>{Pe.exports=D(1159).EventEmitter},7503:(Pe,Ie,D)=>{"use strict";var J=D(8387).Buffer,S=J.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(l){var T;switch(this.encoding=function(p){var E=function(b){if(!b)return"utf8";for(var x;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(x)return;b=(""+b).toLowerCase(),x=!0}}(p);if("string"!=typeof E&&(J.isEncoding===S||!S(p)))throw new Error("Unknown encoding: "+p);return E||p}(l),this.encoding){case"utf16le":this.text=c,this.end=i,T=4;break;case"utf8":this.fillLast=d,T=4;break;case"base64":this.text=o,this.end=y,T=3;break;default:return this.write=e,void(this.end=t)}this.lastNeed=0,this.lastTotal=0,this.lastChar=J.allocUnsafe(T)}function n(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function d(l){var T=this.lastTotal-this.lastNeed,p=function(E,b,x){if(128!=(192&b[0]))return E.lastNeed=0,"\ufffd";if(E.lastNeed>1&&b.length>1){if(128!=(192&b[1]))return E.lastNeed=1,"\ufffd";if(E.lastNeed>2&&b.length>2&&128!=(192&b[2]))return E.lastNeed=2,"\ufffd"}}(this,l);return void 0!==p?p:this.lastNeed<=l.length?(l.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,T,0,l.length),void(this.lastNeed-=l.length))}function c(l,T){if((l.length-T)%2==0){var p=l.toString("utf16le",T);if(p){var E=p.charCodeAt(p.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",T,l.length-1)}function i(l){var T=l&&l.length?this.write(l):"";return this.lastNeed?T+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):T}function o(l,T){var p=(l.length-T)%3;return 0===p?l.toString("base64",T):(this.lastNeed=3-p,this.lastTotal=3,1===p?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",T,l.length-p))}function y(l){var T=l&&l.length?this.write(l):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function e(l){return l.toString(this.encoding)}function t(l){return l&&l.length?this.write(l):""}Ie.s=r,r.prototype.write=function(l){if(0===l.length)return"";var T,p;if(this.lastNeed){if(void 0===(T=this.fillLast(l)))return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<l.length?T?T+this.text(l,p):this.text(l,p):T||""},r.prototype.end=function(l){var T=l&&l.length?this.write(l):"";return this.lastNeed?T+"\ufffd":T},r.prototype.text=function(l,T){var p=function(b,x,A){var _=x.length-1;if(_<A)return 0;var O=n(x[_]);return O>=0?(O>0&&(b.lastNeed=O-1),O):--_<A||-2===O?0:(O=n(x[_]))>=0?(O>0&&(b.lastNeed=O-2),O):--_<A||-2===O?0:(O=n(x[_]))>=0?(O>0&&(2===O?O=0:b.lastNeed=O-3),O):0}(this,l,T);if(!this.lastNeed)return l.toString("utf8",T);this.lastTotal=p;var E=l.length-(p-this.lastNeed);return l.copy(this.lastChar,0,E),l.toString("utf8",T,E)},r.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},1067:function(Pe,Ie,D){var J;!function(S,r){"use strict";var n="function",d="undefined",c="object",i="string",o="model",y="name",e="type",t="vendor",l="version",T="architecture",p="console",E="mobile",b="tablet",x="smarttv",A="wearable",_="embedded",O="Amazon",G="Apple",j="ASUS",ae="BlackBerry",pe="Browser",g="Chrome",ue="Firefox",w="Google",le="Microsoft",be="Motorola",Re="Opera",we="Samsung",ce="Sony",qe="Zebra",Ne="Facebook",Be=function(Le){for(var ke={},Ce=0;Ce<Le.length;Ce++)ke[Le[Ce].toUpperCase()]=Le[Ce];return ke},se=function(Le,ke){return typeof Le===i&&-1!==fe(ke).indexOf(fe(Le))},fe=function(Le){return Le.toLowerCase()},Ge=function(Le,ke){if(typeof Le===i)return Le=Le.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof ke===d?Le:Le.substring(0,255)},m=function(Le,ke){for(var Ce,Ve,Ke,nt,ht,ft,Ct=0;Ct<ke.length&&!ht;){var Lt=ke[Ct],kt=ke[Ct+1];for(Ce=Ve=0;Ce<Lt.length&&!ht;)if(ht=Lt[Ce++].exec(Le))for(Ke=0;Ke<kt.length;Ke++)ft=ht[++Ve],typeof(nt=kt[Ke])===c&&nt.length>0?2===nt.length?this[nt[0]]=typeof nt[1]==n?nt[1].call(this,ft):nt[1]:3===nt.length?this[nt[0]]=typeof nt[1]!==n||nt[1].exec&&nt[1].test?ft?ft.replace(nt[1],nt[2]):r:ft?nt[1].call(this,ft,nt[2]):r:4===nt.length&&(this[nt[0]]=ft?nt[3].call(this,ft.replace(nt[1],nt[2])):r):this[nt]=ft||r;Ct+=2}},u=function(Le,ke){for(var Ce in ke)if(typeof ke[Ce]===c&&ke[Ce].length>0){for(var Ve=0;Ve<ke[Ce].length;Ve++)if(se(ke[Ce][Ve],Le))return"?"===Ce?r:Ce}else if(se(ke[Ce],Le))return"?"===Ce?r:Ce;return Le},I={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},C={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[y,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[y,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[y,l],[/opios[\/ ]+([\w\.]+)/i],[l,[y,Re+" Mini"]],[/\bopr\/([\w\.]+)/i],[l,[y,Re]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[y,l],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[l,[y,"UC"+pe]],[/\bqbcore\/([\w\.]+)/i],[l,[y,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[l,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[y,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[l,[y,"IE"]],[/yabrowser\/([\w\.]+)/i],[l,[y,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure "+pe],l],[/\bfocus\/([\w\.]+)/i],[l,[y,ue+" Focus"]],[/\bopt\/([\w\.]+)/i],[l,[y,Re+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[l,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[y,Re+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[l,[y,"MIUI "+pe]],[/fxios\/([-\w\.]+)/i],[l,[y,ue]],[/\bqihu|(qi?ho?o?|360)browser/i],[[y,"360 "+pe]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1 "+pe],l],[/(comodo_dragon)\/([\w\.]+)/i],[[y,/_/g," "],l],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[y,l],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[y],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[y,Ne],l],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[y,l],[/\bgsa\/([\w\.]+) .*safari\//i],[l,[y,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[l,[y,g+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[y,g+" WebView"],l],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[l,[y,"Android "+pe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[y,l],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[l,[y,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[l,y],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[y,[l,u,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[y,l],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[y,"Netscape"],l],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[l,[y,ue+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[y,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[T,"amd64"]],[/(ia32(?=;))/i],[[T,fe]],[/((?:i[346]|x)86)[;\)]/i],[[T,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[T,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[T,"armhf"]],[/windows (ce|mobile); ppc;/i],[[T,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[T,/ower/,"",fe]],[/(sun4\w)[;\)]/i],[[T,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[T,fe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[o,[t,we],[e,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[o,[t,we],[e,E]],[/\((ip(?:hone|od)[\w ]*);/i],[o,[t,G],[e,E]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[o,[t,G],[e,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[o,[t,"Huawei"],[e,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[o,[t,"Huawei"],[e,E]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[o,/_/g," "],[t,"Xiaomi"],[e,E]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[o,/_/g," "],[t,"Xiaomi"],[e,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[o,[t,"OPPO"],[e,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[o,[t,"Vivo"],[e,E]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[o,[t,"Realme"],[e,E]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[o,[t,be],[e,E]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[o,[t,be],[e,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[o,[t,"LG"],[e,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[o,[t,"LG"],[e,E]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[o,[t,"Lenovo"],[e,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[o,/_/g," "],[t,"Nokia"],[e,E]],[/(pixel c)\b/i],[o,[t,w],[e,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[o,[t,w],[e,E]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[o,[t,ce],[e,E]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[o,"Xperia Tablet"],[t,ce],[e,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[o,[t,"OnePlus"],[e,E]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[o,[t,O],[e,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[o,/(.+)/g,"Fire Phone $1"],[t,O],[e,E]],[/(playbook);[-\w\),; ]+(rim)/i],[o,t,[e,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[o,[t,ae],[e,E]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[o,[t,j],[e,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[o,[t,j],[e,E]],[/(nexus 9)/i],[o,[t,"HTC"],[e,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[t,[o,/_/g," "],[e,E]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[o,[t,"Acer"],[e,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[o,[t,"Meizu"],[e,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[o,[t,"Sharp"],[e,E]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[t,o,[e,E]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[t,o,[e,b]],[/(surface duo)/i],[o,[t,le],[e,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[o,[t,"Fairphone"],[e,E]],[/(u304aa)/i],[o,[t,"AT&T"],[e,E]],[/\bsie-(\w*)/i],[o,[t,"Siemens"],[e,E]],[/\b(rct\w+) b/i],[o,[t,"RCA"],[e,b]],[/\b(venue[\d ]{2,7}) b/i],[o,[t,"Dell"],[e,b]],[/\b(q(?:mv|ta)\w+) b/i],[o,[t,"Verizon"],[e,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[o,[t,"Barnes & Noble"],[e,b]],[/\b(tm\d{3}\w+) b/i],[o,[t,"NuVision"],[e,b]],[/\b(k88) b/i],[o,[t,"ZTE"],[e,b]],[/\b(nx\d{3}j) b/i],[o,[t,"ZTE"],[e,E]],[/\b(gen\d{3}) b.+49h/i],[o,[t,"Swiss"],[e,E]],[/\b(zur\d{3}) b/i],[o,[t,"Swiss"],[e,b]],[/\b((zeki)?tb.*\b) b/i],[o,[t,"Zeki"],[e,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[t,"Dragon Touch"],o,[e,b]],[/\b(ns-?\w{0,9}) b/i],[o,[t,"Insignia"],[e,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[o,[t,"NextBook"],[e,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[t,"Voice"],o,[e,E]],[/\b(lvtel\-)?(v1[12]) b/i],[[t,"LvTel"],o,[e,E]],[/\b(ph-1) /i],[o,[t,"Essential"],[e,E]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[o,[t,"Envizen"],[e,b]],[/\b(trio[-\w\. ]+) b/i],[o,[t,"MachSpeed"],[e,b]],[/\btu_(1491) b/i],[o,[t,"Rotor"],[e,b]],[/(shield[\w ]+) b/i],[o,[t,"Nvidia"],[e,b]],[/(sprint) (\w+)/i],[t,o,[e,E]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[t,le],[e,E]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[o,[t,qe],[e,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[o,[t,qe],[e,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[t,o,[e,p]],[/droid.+; (shield) bui/i],[o,[t,"Nvidia"],[e,p]],[/(playstation [345portablevi]+)/i],[o,[t,ce],[e,p]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[o,[t,le],[e,p]],[/smart-tv.+(samsung)/i],[t,[e,x]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[t,we],[e,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[t,"LG"],[e,x]],[/(apple) ?tv/i],[t,[o,G+" TV"],[e,x]],[/crkey/i],[[o,g+"cast"],[t,w],[e,x]],[/droid.+aft(\w)( bui|\))/i],[o,[t,O],[e,x]],[/\(dtv[\);].+(aquos)/i],[o,[t,"Sharp"],[e,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[t,Ge],[o,Ge],[e,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[e,x]],[/((pebble))app/i],[t,o,[e,A]],[/droid.+; (glass) \d/i],[o,[t,w],[e,A]],[/droid.+; (wt63?0{2,3})\)/i],[o,[t,qe],[e,A]],[/(quest( 2)?)/i],[o,[t,Ne],[e,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[t,[e,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[o,[e,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[o,[e,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[e,b]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[e,E]],[/(android[-\w\. ]{0,9});.+buil/i],[o,[t,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[l,[y,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[y,l],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,y]],os:[[/microsoft (windows) (vista|xp)/i],[y,l],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[y,[l,u,I]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,"Windows"],[l,u,I]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[y,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[y,"Mac OS"],[l,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[l,y],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[y,l],[/\(bb(10);/i],[l,[y,ae]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[l,[y,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[l,[y,ue+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[y,"webOS"]],[/crkey\/([\d\.]+)/i],[l,[y,g+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[y,"Chromium OS"],l],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[y,l],[/(sunos) ?([\w\.\d]*)/i],[[y,"Solaris"],l],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[y,l]]},z=function(Le,ke){if(typeof Le===c&&(ke=Le,Le=r),!(this instanceof z))return new z(Le,ke).getResult();var Ce=Le||(typeof S!==d&&S.navigator&&S.navigator.userAgent?S.navigator.userAgent:""),Ve=ke?function(Ke,nt){var ht={};for(var ft in Ke)ht[ft]=nt[ft]&&nt[ft].length%2==0?nt[ft].concat(Ke[ft]):Ke[ft];return ht}(C,ke):C;return this.getBrowser=function(){var Ke,nt={};return nt[y]=r,nt[l]=r,m.call(nt,Ce,Ve.browser),nt.major=typeof(Ke=nt.version)===i?Ke.replace(/[^\d\.]/g,"").split(".")[0]:r,nt},this.getCPU=function(){var Ke={};return Ke[T]=r,m.call(Ke,Ce,Ve.cpu),Ke},this.getDevice=function(){var Ke={};return Ke[t]=r,Ke[o]=r,Ke[e]=r,m.call(Ke,Ce,Ve.device),Ke},this.getEngine=function(){var Ke={};return Ke[y]=r,Ke[l]=r,m.call(Ke,Ce,Ve.engine),Ke},this.getOS=function(){var Ke={};return Ke[y]=r,Ke[l]=r,m.call(Ke,Ce,Ve.os),Ke},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ce},this.setUA=function(Ke){return Ce=typeof Ke===i&&Ke.length>255?Ge(Ke,255):Ke,this},this.setUA(Ce),this};z.VERSION="1.0.2",z.BROWSER=Be([y,l,"major"]),z.CPU=Be([T]),z.DEVICE=Be([o,t,e,p,E,x,b,A,_]),z.ENGINE=z.OS=Be([y,l]),typeof Ie!==d?(Pe.exports&&(Ie=Pe.exports=z),Ie.UAParser=z):D.amdO?(J=function(){return z}.call(Ie,D,Ie,Pe))===r||(Pe.exports=J):typeof S!==d&&(S.UAParser=z);var V=typeof S!==d&&(S.jQuery||S.Zepto);if(V&&!V.ua){var ye=new z;V.ua=ye.getResult(),V.ua.get=function(){return ye.getUA()},V.ua.set=function(Le){ye.setUA(Le);var ke=ye.getResult();for(var Ce in ke)V.ua[Ce]=ke[Ce]}}}("object"==typeof window?window:this)},7839:(Pe,Ie,D)=>{function J(S){try{if(!D.g.localStorage)return!1}catch{return!1}var r=D.g.localStorage[S];return null!=r&&"true"===String(r).toLowerCase()}Pe.exports=function(S,r){if(J("noDeprecation"))return S;var n=!1;return function(){if(!n){if(J("throwDeprecation"))throw new Error(r);J("traceDeprecation")?console.trace(r):console.warn(r),n=!0}return S.apply(this,arguments)}}},9862:()=>{},964:()=>{},3165:Pe=>{"use strict";Pe.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:Pe=>{"use strict";Pe.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:Pe=>{"use strict";Pe.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:Pe=>{"use strict";Pe.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:Pe=>{"use strict";Pe.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:Pe=>{"use strict";Pe.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},ln={};function at(Pe){var Ie=ln[Pe];if(void 0!==Ie)return Ie.exports;var D=ln[Pe]={exports:{}};return ut[Pe].call(D.exports,D,D.exports,at),D.exports}at.amdO={},at.n=Pe=>{var Ie=Pe&&Pe.__esModule?()=>Pe.default:()=>Pe;return at.d(Ie,{a:Ie}),Ie},at.d=(Pe,Ie)=>{for(var D in Ie)at.o(Ie,D)&&!at.o(Pe,D)&&Object.defineProperty(Pe,D,{enumerable:!0,get:Ie[D]})},at.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),at.o=(Pe,Ie)=>Object.prototype.hasOwnProperty.call(Pe,Ie);var Vt={};return(()=>{"use strict";at.d(Vt,{default:()=>c}),at(8416);var Pe,Ie=at(1715),D=at(8080),J=at(1737),S=at(7688),r=function(){var i,o="application/dash+xml";function y(t,l,T){if(!t||!/^VIDEO$/i.test(t.nodeName))return null;if(t._dashjs_player)return t._dashjs_player;var p,E=t.id||t.name||"video element";if(!(l=l||[].slice.call(t.querySelectorAll("source")).filter(function(b){return b.type==o})[0])&&t.src)(l=document.createElement("source")).src=t.src;else if(!l&&!t.src)return null;return(p=(0,S.Z)(T=T||{}).create()).initialize(t,l.src,t.autoplay),i||(i=p.getDebug().getLogger()),i.debug("Converted "+E+" to dash.js player and added content: "+l.src),t._dashjs_player=p,p}function e(t){return/^VIDEO$/i.test(t.nodeName)?t:e(t.parentNode)}return{create:y,createAll:function(t,l){var T=[];t=t||"[data-dashjs-player]";for(var p=(l=l||document).querySelectorAll(t),E=0;E<p.length;E++){var b=y(p[E],null);T.push(b)}for(var x=l.querySelectorAll('source[type="'+o+'"]'),A=0;A<x.length;A++){var _=y(e(x[A]),null);T.push(_)}return T}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?r.createAll():Pe=window.setInterval(function(){window.dashjs&&(window.clearInterval(Pe),r.createAll())},500):window.addEventListener("load",function i(){window.removeEventListener("load",i),r.createAll()}));const n=r;var d=at(6398);dashjs.Protection=J.default,dashjs.MetricsReporting=D.default,dashjs.MediaPlayerFactory=n,dashjs.Debug=d.Z,dashjs.supportsMediaSource=Ie.B;const c=dashjs})(),Vt.default})());